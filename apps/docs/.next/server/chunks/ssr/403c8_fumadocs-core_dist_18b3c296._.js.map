{"version":3,"sources":["../../../../../../node_modules/.pnpm/fumadocs-core%4016.5.1_%40types%2Breact%4019.2.14_lucide-react%400.563.0_react%4019.2.4__next%4016.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/search-BBwdBAje.js","../../../../../../node_modules/.pnpm/fumadocs-core%4016.5.1_%40types%2Breact%4019.2.14_lucide-react%400.563.0_react%4019.2.4__next%4016.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/remove-undefined-DRuHyD77.js","../../../../../../node_modules/.pnpm/fumadocs-core%4016.5.1_%40types%2Breact%4019.2.14_lucide-react%400.563.0_react%4019.2.4__next%4016.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/orama-cloud-Wo-D5oP_.js"],"sourcesContent":["//#region src/search/index.ts\nfunction escapeRegExp(input) {\n\treturn input.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction buildRegexFromQuery(q) {\n\tconst trimmed = q.trim();\n\tif (trimmed.length === 0) return null;\n\tconst terms = Array.from(new Set(trimmed.split(/\\s+/).map((t) => t.trim()).filter(Boolean)));\n\tif (terms.length === 0) return null;\n\tconst escaped = terms.map(escapeRegExp).join(\"|\");\n\treturn new RegExp(`(${escaped})`, \"gi\");\n}\nfunction createContentHighlighter(query) {\n\tconst regex = typeof query === \"string\" ? buildRegexFromQuery(query) : query;\n\treturn { highlight(content) {\n\t\tif (!regex) return [{\n\t\t\ttype: \"text\",\n\t\t\tcontent\n\t\t}];\n\t\tconst out = [];\n\t\tlet i = 0;\n\t\tfor (const match of content.matchAll(regex)) {\n\t\t\tif (i < match.index) out.push({\n\t\t\t\ttype: \"text\",\n\t\t\t\tcontent: content.substring(i, match.index)\n\t\t\t});\n\t\t\tout.push({\n\t\t\t\ttype: \"text\",\n\t\t\t\tcontent: match[0],\n\t\t\t\tstyles: { highlight: true }\n\t\t\t});\n\t\t\ti = match.index + match[0].length;\n\t\t}\n\t\tif (i < content.length) out.push({\n\t\t\ttype: \"text\",\n\t\t\tcontent: content.substring(i)\n\t\t});\n\t\treturn out;\n\t} };\n}\n\n//#endregion\nexport { createContentHighlighter as t };","//#region src/utils/remove-undefined.ts\nfunction removeUndefined(value, deep = false) {\n\tconst obj = value;\n\tfor (const key in obj) {\n\t\tif (obj[key] === void 0) delete obj[key];\n\t\tif (!deep) continue;\n\t\tconst entry = obj[key];\n\t\tif (typeof entry === \"object\" && entry !== null) {\n\t\t\tremoveUndefined(entry, deep);\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(entry)) for (const item of entry) removeUndefined(item, deep);\n\t}\n\treturn value;\n}\n\n//#endregion\nexport { removeUndefined as t };","import { t as createContentHighlighter } from \"./search-BBwdBAje.js\";\nimport { t as removeUndefined } from \"./remove-undefined-DRuHyD77.js\";\n\n//#region src/search/client/orama-cloud.ts\nasync function searchDocs(query, options) {\n\tconst highlighter = createContentHighlighter(query);\n\tconst list = [];\n\tconst { index = \"default\", client, params: extraParams, tag } = options;\n\tif (index === \"crawler\") {\n\t\tconst result$1 = await client.search({\n\t\t\tdatasources: [],\n\t\t\t...extraParams,\n\t\t\tterm: query,\n\t\t\twhere: {\n\t\t\t\tcategory: tag ? { eq: tag.slice(0, 1).toUpperCase() + tag.slice(1) } : void 0,\n\t\t\t\t...extraParams?.where\n\t\t\t},\n\t\t\tlimit: 10\n\t\t});\n\t\tif (!result$1) return list;\n\t\tfor (const hit of result$1.hits) {\n\t\t\tconst doc = hit.document;\n\t\t\tlist.push({\n\t\t\t\tid: hit.id,\n\t\t\t\ttype: \"page\",\n\t\t\t\tcontent: doc.title,\n\t\t\t\tcontentWithHighlights: highlighter.highlight(doc.title),\n\t\t\t\turl: doc.path\n\t\t\t}, {\n\t\t\t\tid: \"page\" + hit.id,\n\t\t\t\ttype: \"text\",\n\t\t\t\tcontent: doc.content,\n\t\t\t\tcontentWithHighlights: highlighter.highlight(doc.content),\n\t\t\t\turl: doc.path\n\t\t\t});\n\t\t}\n\t\treturn list;\n\t}\n\tconst params = {\n\t\tdatasources: [],\n\t\t...extraParams,\n\t\tterm: query,\n\t\twhere: removeUndefined({\n\t\t\ttag,\n\t\t\t...extraParams?.where\n\t\t}),\n\t\tgroupBy: {\n\t\t\tproperties: [\"page_id\"],\n\t\t\tmax_results: 7,\n\t\t\t...extraParams?.groupBy\n\t\t}\n\t};\n\tconst result = await client.search(params);\n\tif (!result || !result.groups) return list;\n\tfor (const item of result.groups) {\n\t\tlet addedHead = false;\n\t\tfor (const hit of item.result) {\n\t\t\tconst doc = hit.document;\n\t\t\tif (!addedHead) {\n\t\t\t\tlist.push({\n\t\t\t\t\tid: doc.page_id,\n\t\t\t\t\ttype: \"page\",\n\t\t\t\t\tcontent: doc.title,\n\t\t\t\t\tbreadcrumbs: doc.breadcrumbs,\n\t\t\t\t\tcontentWithHighlights: highlighter.highlight(doc.title),\n\t\t\t\t\turl: doc.url\n\t\t\t\t});\n\t\t\t\taddedHead = true;\n\t\t\t}\n\t\t\tlist.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tcontent: doc.content,\n\t\t\t\tcontentWithHighlights: highlighter.highlight(doc.content),\n\t\t\t\ttype: doc.content === doc.section ? \"heading\" : \"text\",\n\t\t\t\turl: doc.section_id ? `${doc.url}#${doc.section_id}` : doc.url\n\t\t\t});\n\t\t}\n\t}\n\treturn list;\n}\n\n//#endregion\nexport { searchDocs };"],"names":[],"mappings":"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","ignoreList":[0,1,2]}