module.exports=[2188,a=>{"use strict";let b,c,d=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,e=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d},f={primary:"bg-fd-primary text-fd-primary-foreground hover:bg-fd-primary/80 disabled:bg-fd-secondary disabled:text-fd-secondary-foreground",outline:"border hover:bg-fd-accent hover:text-fd-accent-foreground",ghost:"hover:bg-fd-accent hover:text-fd-accent-foreground",secondary:"border bg-fd-secondary text-fd-secondary-foreground hover:bg-fd-accent hover:text-fd-accent-foreground"},g=(b="inline-flex items-center justify-center rounded-md p-2 text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring",c={variants:{variant:f,color:f,size:{sm:"gap-1 px-2 py-1.5 text-xs",icon:"p-1.5 [&_svg]:size-5","icon-sm":"p-1.5 [&_svg]:size-4.5","icon-xs":"p-1 [&_svg]:size-4"}}},a=>{var f;if((null==c?void 0:c.variants)==null)return e(b,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:g,defaultVariants:h}=c,i=Object.keys(g).map(b=>{let c=null==a?void 0:a[b],e=null==h?void 0:h[b];if(null===c)return null;let f=d(c)||d(e);return g[b][f]}),j=a&&Object.entries(a).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return e(b,i,null==c||null==(f=c.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==a?void 0:a.class,null==a?void 0:a.className)});a.s(["buttonVariants",()=>g],2188)},318,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(78114).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/.pnpm/fumadocs-core@16.5.1_@types+react@19.2.14_lucide-react@0.563.0_react@19.2.4__next@16.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/link.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/.pnpm/fumadocs-core@16.5.1_@types+react@19.2.14_lucide-react@0.563.0_react@19.2.4__next@16.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/link.js <module evaluation>","default")},83483,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(78114).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/.pnpm/fumadocs-core@16.5.1_@types+react@19.2.14_lucide-react@0.563.0_react@19.2.4__next@16.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/link.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/.pnpm/fumadocs-core@16.5.1_@types+react@19.2.14_lucide-react@0.563.0_react@19.2.4__next@16.1._fd22a10c0eda7afe97c95df49fe9bbd3/node_modules/fumadocs-core/dist/link.js","default")},54647,a=>{"use strict";a.i(318);var b=a.i(83483);a.n(b)},50227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},88757,a=>{"use strict";let b=Symbol("VisitBreak");function c(a,b){let c=a.lastIndexOf("/");return a.substring(-1===c?0:c+1,b?a.length-b.length:a.length)}function d(a){let b=a.lastIndexOf(".");return -1!==b?a.substring(b):""}function e(a){return a.split("/").slice(0,-1).join("/")}function f(a){return a.split("/").filter(a=>a.length>0)}function g(...a){let b=[];for(let c of a.flatMap(f))switch(c){case"..":b.pop();break;case".":break;default:b.push(c)}return b.join("/")}Object.prototype.hasOwnProperty;let h=/^\(.+\)$/;function i(a){let b=e(a),f=c(a,d(a)),g=[];for(let a of b.split("/"))a.length>0&&!h.test(a)&&g.push(encodeURI(a));if(h.test(f))throw Error(`Cannot use folder group in file names: ${a}`);return"index"!==f&&g.push(encodeURI(f)),g}var j=a.i(50227),k=class{constructor(a){if(this.files=new Map,this.folders=new Map,a){for(const[b,c]of a.folders)this.folders.set(b,c);for(const[b,c]of a.files)this.files.set(b,c)}else this.folders.set("",[])}read(a){return this.files.get(a)}readDir(a){return this.folders.get(a)}write(a,b){if(!this.files.has(a)){let b=e(a);this.makeDir(b),this.readDir(b)?.push(a)}this.files.set(a,b)}delete(a,b=!1){if(this.files.delete(a))return!0;if(b){let b=this.folders.get(a);if(!b)return!1;for(let c of(this.folders.delete(a),b))this.delete(c);return!0}return!1}getFiles(){return Array.from(this.files.keys())}makeDir(a){let b=f(a);for(let a=0;a<b.length;a++){let c=b.slice(0,a+1).join("/");this.folders.has(c)||(this.folders.set(c,[]),this.folders.get(e(c)).push(c))}}};function l(a){return a.length>0&&!/\d+/.test(a)}let m={dir(a){let[b,...c]=a.split("/");return b&&c.length>0&&l(b)?[c.join("/"),b]:[a]},dot(a){let b=e(a),d=c(a).split(".");if(d.length<3)return[a];let[f]=d.splice(d.length-2,1);return l(f)?[g(b,d.join(".")),f]:[a]},none:a=>[a]},n=Symbol();function o(a){let{source:b,plugins:c=[],i18n:d}=a,e=d?m[d.parser??"dot"]:m.none,f=new Map;for(let a of b.files){let b,[c,g=d?d.defaultLanguage:n]=e((b="page"===a.type?{format:"page",path:p(a.path),slugs:a.slugs,data:a.data,absolutePath:a.absolutePath}:{format:"meta",path:p(a.path),absolutePath:a.absolutePath,data:a.data}).path),h=f.get(g)??[];h.push({pathWithoutLocale:c,file:b}),f.set(g,h)}function g(a,b){let d=new k(b);for(let{pathWithoutLocale:b,file:c}of f.get(a)??[])d.write(b,c);let e={storage:d};for(let a of c)a.transformStorage?.(e);return d}return{i18n(){let a={};if(!d)return a;let b=null!==d.fallbackLanguage?d.fallbackLanguage??d.defaultLanguage:null;for(let c of d.languages)!function c(d){return a[d]?a[d]:a[d]=g(d,b&&b!==d?c(b):void 0)}(c);return a},single:()=>g(n)}}function p(a){let b=f(a.startsWith("\\\\?\\")?a:a.replaceAll("\\","/"));if("."===b[0]||".."===b[0])throw Error("It must not start with './' or '../'");return b.join("/")}let q=/^\((?<name>.+)\)$/,r=/^(?<external>external:)?(?:\[(?<icon>[^\]]+)])?\[(?<name>[^\]]+)]\((?<url>[^)]+)\)$/,s=/^---(?:\[(?<icon>[^\]]+)])?(?<name>.+)---|^---$/,t="z...a";var u=class{constructor(a,b){this.flattenPathToFullPath=new Map,this.transformers=[],this.pathToNode=new Map,this.unfinished=new WeakSet,this.ownerMap=new Map,this._nextId=0;const{transformers:c,url:e,context:f,generateFallback:g=!0,idPrefix:h="",noRef:i=!1}=b;if(c&&this.transformers.push(...c),g&&this.transformers.push(function(){let a=new Set;function b(a){return a.custom?._fallback===!0}return{root(c){if(b(this))return c;let d=new k;if(a.size===this.storage.files.size)return c;for(let b of this.storage.getFiles())a.has(b)||d.write(b,this.storage.read(b));return c.fallback=new u(d,{idPrefix:this.idPrefix?`fallback:${this.idPrefix}`:"fallback",url:this.getUrl,noRef:this.noRef,transformers:this.transformers,generateFallback:!1,context:{...this.custom,_fallback:!0}}).root(),a.clear(),c},file(c,d){return b(this)||d&&a.add(d),c},folder(c,d,e){return b(this)||e&&a.add(e),c}}}()),this.ctx={builder:this,idPrefix:h,getUrl:e,storage:void 0,noRef:i,transformers:this.transformers,custom:f},Array.isArray(a)){const[b,c]=a;this.ctx.storage=this.storage=c[b],this.ctx.locale=b,this.ctx.storages=c}else this.ctx.storage=this.storage=a;for(const a of this.storage.getFiles()){const b=this.storage.read(a),c=a.substring(0,a.length-d(a).length);this.flattenPathToFullPath.set(c+"."+b.format,a)}}resolveFlattenPath(a,b){return this.flattenPathToFullPath.get(a+"."+b)??a}own(a,b,c){if(this.unfinished.has(b))return!1;let d=this.ownerMap.get(b);if(!d)return this.ownerMap.set(b,{owner:a,priority:c}),!0;if(d.owner===a)return d.priority=Math.max(d.priority,c),!0;if(d.priority>=c)return!1;let e=this.pathToNode.get(d.owner);if(e&&"folder"===e.type)if(e.index===b)delete e.index;else{let a=e.children.indexOf(b);-1!==a&&e.children.splice(a,1)}return d.owner=a,d.priority=c,!0}transferOwner(a,b){let c=this.ownerMap.get(b);c&&(c.owner=a)}generateId(a=`_${this._nextId++}`){let b=a;return this.ctx.locale&&(b=`${this.ctx.locale}:${b}`),this.ctx.idPrefix&&(b=`${this.ctx.idPrefix}:${b}`),b}buildPaths(a,b,e=!1){let f=[],g=[];for(let h of a.sort((a,b)=>e?b.localeCompare(a):a.localeCompare(b))){if(b&&!b(h))continue;let a=this.file(h);if(a){"index"===c(h,d(h))?f.unshift(a):f.push(a);continue}let e=this.folder(h);e&&g.push(e)}return f.push(...g),f}resolveFolderItem(a,b,c,d){if("..."===b||b===t)return void c.push(b);let e=s.exec(b);if(e?.groups){let a={$id:this.generateId(),type:"separator",icon:e.groups.icon,name:e.groups.name};for(let b of this.transformers)b.separator&&(a=b.separator.call(this.ctx,a));c.push(a);return}if(e=r.exec(b),e?.groups){let{icon:a,url:b,name:d,external:f}=e.groups,g={$id:this.generateId(),type:"page",icon:a,name:d,url:b};for(let a of(f&&(g.external=!0),this.transformers))a.file&&(g=a.file.call(this.ctx,g));c.push(g);return}if(b.startsWith("!")){let c=g(a,b.slice(1));d.add(c),d.add(this.resolveFlattenPath(c,"page"));return}if(b.startsWith("...")){let e=g(a,b.slice(3)),f=this.folder(e);if(!f)return;let h=f.index?[f.index,...f.children]:f.children;if(this.own(a,f,2)){for(let b of h)this.transferOwner(a,b),c.push(b);d.add(e)}else for(let b of h)this.own(a,b,2)&&c.push(b);return}let f=g(a,b),h=this.folder(f);h||(f=this.resolveFlattenPath(f,"page"),h=this.file(f)),h&&this.own(a,h,2)&&(c.push(h),d.add(f))}folder(a){let b=this.pathToNode.get(a);if(b)return b;let d=this.storage.readDir(a);if(!d)return;let e=""===a,f=this.resolveFlattenPath(g(a,"meta"),"meta"),h=this.resolveFlattenPath(g(a,"index"),"page"),i=this.storage.read(f);i&&"meta"!==i.format&&(i=void 0);let j=i?.data??{},k={type:"folder",name:null,root:j.root,defaultOpen:j.defaultOpen,description:j.description,collapsible:j.collapsible,children:[],$id:this.generateId(a),$ref:!this.ctx.noRef&&i?{metaFile:f}:void 0};if(this.pathToNode.set(a,k),this.unfinished.add(k),!(j.root??e)){let b=this.file(h);b&&this.own(a,b,0)&&(k.index=b)}if(j.pages){let b=[],c=new Set;for(let d of j.pages)this.resolveFolderItem(a,d,b,c);for(let e of(c.has(h)?delete k.index:k.index&&c.add(h),b)){if("..."!==e&&e!==t){k.children.push(e);continue}for(let b of this.buildPaths(d,a=>!c.has(a),e===t))this.own(a,b,0)&&k.children.push(b)}}else for(let b of this.buildPaths(d,k.index?a=>a!==h:void 0))this.own(a,b,0)&&k.children.push(b);if(k.icon=j.icon??k.index?.icon,k.name=j.title??k.index?.name,this.unfinished.delete(k),!k.name){let b=c(a);k.name=w(q.exec(b)?.[1]??b)}for(let b of this.transformers)b.folder&&(k=b.folder.call(this.ctx,k,a,i?f:void 0));return this.pathToNode.set(a,k),k}file(a){let b=this.pathToNode.get(a);if(b)return b;let e=this.storage.read(a);if(!e||"page"!==e.format)return;let{title:f,description:g,icon:h}=e.data,i={$id:this.generateId(a),type:"page",name:f??w(c(a,d(a))),description:g,icon:h,url:this.ctx.getUrl(e.slugs,this.ctx.locale),$ref:this.ctx.noRef?void 0:{file:a}};for(let b of this.transformers)b.file&&(i=b.file.call(this.ctx,i,a));return this.pathToNode.set(a,i),i}root(a="root",b=""){let c=this.folder(b),d={$id:this.generateId(a),name:c?.name||"Docs",children:c?c.children:[]};for(let a of this.transformers)a.root&&(d=a.root.call(this.ctx,d));return d}};function w(a){let b=[];for(let c of a)0===b.length?b.push(c.toLocaleUpperCase()):"-"===c?b.push(" "):b.push(c);return b.join("")}function x(...c){let d,e=2===c.length?y(c[0],c[1]):y(c[0].source,c[0]),{i18n:f}=e,h=f?o(e).i18n():o(e).single(),i=function({url:a}){let b=new Map,c=new Map,d=new Map;return{scan(e,f){for(let g of e.getFiles()){let h=e.read(g),i=f?`${f}.`:".",j=i+g;if("meta"===h.format){c.set(j,{path:h.path,absolutePath:h.absolutePath,data:h.data});continue}let k={absolutePath:h.absolutePath,path:h.path,url:a(h.slugs,f),slugs:h.slugs,data:h.data,locale:f};d.set(j,k),b.set(i+k.slugs.join("/"),k)}},getPage:(a,b="")=>d.get(`${b}.${a}`),getMeta:(a,b="")=>c.get(`${b}.${a}`),getPageBySlugs(a,c=""){let d=b.get(`${c}.${a.join("/")}`);if(d||(d=b.get(`${c}.${a.map(decodeURI).join("/")}`)))return d},getPages(a){let c=[];for(let[d,e]of b.entries())(void 0===a||d.startsWith(`${a}.`))&&c.push(e);return c}}}(e);if(h instanceof k)i.scan(h);else for(let a in h)i.scan(h[a],a);function l(){if(d)return d;let{plugins:a=[],url:b,pageTree:c}=e,f=[];for(let b of(c?.transformers&&f.push(...c.transformers),a))b.transformPageTree&&f.push(b.transformPageTree);let g={url:b,...c,transformers:f};if(h instanceof k)return d=new u(h,g).root();{let a={};for(let b in h)a[b]=new u([b,h],g).root();return d=a}}return{_i18n:f,get pageTree(){return l()},set pageTree(v){d=v},getPageByHref(a,{dir:b="",language:c=f?.defaultLanguage}={}){let d,[e,h]=a.split("#",2);if(e.startsWith("./")){let a=g(b,e);d=i.getPage(a,c)}else d=this.getPages(c).find(a=>a.url===e);if(d)return{page:d,hash:h}},resolveHref(a,b){if(a.startsWith("./")){let c=this.getPageByHref(a,{dir:j.default.dirname(b.path),language:b.locale});if(c)return c.hash?`${c.page.url}#${c.hash}`:c.page.url}return a},getPages:a=>i.getPages(a),getLanguages(){let a=[];if(!f)return a;for(let b of f.languages)a.push({language:b,pages:this.getPages(b)});return a},getPage:(a=[],b=f?.defaultLanguage)=>i.getPageBySlugs(a,b),getNodeMeta(a,b=f?.defaultLanguage){let c=a.$ref?.metaFile;if(c)return i.getMeta(c,b)},getNodePage(a,b=f?.defaultLanguage){let c=a.$ref?.file;if(c)return i.getPage(c,b)},getPageTree(a){if(f){let b=l();return a&&b[a]?b[a]:b[f.defaultLanguage]}return l()},generateParams(a,b){return f?this.getLanguages().flatMap(c=>c.pages.map(d=>({[a??"slug"]:d.slugs,[b??"lang"]:c.language}))):this.getPages().map(b=>({[a??"slug"]:b.slugs}))},async serializePageTree(c){let{renderToString:d}=await a.A(36291);return{$fumadocs_loader:"page-tree",data:function(a,c){try{return function a(d,e){let f=c(d,e);switch(f){case"skip":return d;case"break":throw b;default:f&&(d=f)}if("index"in d&&d.index&&(d.index=a(d.index,d)),"fallback"in d&&d.fallback&&(d.fallback=a(d.fallback,d)),"children"in d)for(let b=0;b<d.children.length;b++)d.children[b]=a(d.children[b],d);return d}(a)}catch(c){if(c===b)return a;throw c}}(c,a=>("icon"in(a={...a})&&a.icon&&(a.icon=d(a.icon)),a.name&&(a.name=d(a.name)),"children"in a&&(a.children=[...a.children]),a))}}}}function y(a,{slugs:b,icon:e,plugins:f=[],baseUrl:g,url:h,...j}){var k;let l,m={...j,url:h?(...a)=>{var b;return(b=h(...a)).startsWith("http://")||b.startsWith("https://")||(b.startsWith("/")||(b="/"+b),b.length>1&&b.endsWith("/")&&(b=b.slice(0,-1))),b}:(k=j.i18n,l=g.split("/"),(a,b)=>{let c,d=k?.hideLocale??"never";"never"===d?c=b:"default-locale"===d&&b!==k?.defaultLanguage&&(c=b);let e=[...l,...a];return c&&e.unshift(c),`/${e.filter(a=>a.length>0).join("/")}`}),source:a,plugins:function a(b,c=!0){let d=[];for(let c of b)Array.isArray(c)?d.push(...a(c,!1)):c&&d.push(c);return c?d.sort((a,b)=>z[b.enforce??"default"]-z[a.enforce??"default"]):d}([e&&function(a){function b(b){return(void 0===b.icon||"string"==typeof b.icon)&&(b.icon=a(b.icon)),b}return{name:"fumadocs:icon",transformPageTree:{file:b,folder:b,separator:b}}}(e),..."function"==typeof f?f({typedPlugin:a=>a}):f,{name:"fumadocs:slugs",transformStorage({storage:a}){let e=[],f=new Set;for(let g of a.getFiles()){let h=a.read(g);if(!h||"page"!==h.format||h.slugs)continue;let j=b?.(h);if(void 0===j&&"index"===c(g,d(g))){e.push(g);continue}h.slugs=j??i(g);let k=h.slugs.join("/");if(f.has(k))throw Error(`Duplicated slugs: ${k}`);f.add(k)}for(let b of e){let c=a.read(b);c?.format==="page"&&(c.slugs=i(b),f.has(c.slugs.join("/"))&&c.slugs.push("index"))}}}])};for(let a of m.plugins??[]){let b=a.config?.(m);b&&(m=b)}return m}let z={pre:1,default:0,post:-1};a.s(["loader",()=>x],88757)},81882,a=>{"use strict";var b=a.i(69819);let c={title:"Railway Deployment",description:"Deploy LinkDen on Railway with managed infrastructure, automatic SSL, and simple scaling."},d={contents:[{heading:"railway-deployment",content:"Railway is a cloud platform that makes it easy to deploy applications with automatic builds, managed databases, and built-in SSL. This guide covers deploying both the LinkDen API and web app on Railway."},{heading:"why-railway",content:"Simple deployment: Connect a GitHub repo and Railway handles builds and deploys."},{heading:"why-railway",content:"Managed infrastructure: No servers to configure or maintain."},{heading:"why-railway",content:"Automatic SSL: Custom domains get free SSL certificates instantly."},{heading:"why-railway",content:"Built-in databases: One-click SQLite-compatible volumes or PostgreSQL."},{heading:"why-railway",content:"Generous free tier: $5 free credit/month on the Trial plan; Hobby plan starts at $5/month."},{heading:"why-railway",content:"Preview environments: Automatic deploys for pull requests."},{heading:"architecture-on-railway",content:"Railway runs each service as a separate container. LinkDen uses two services plus a persistent volume for the SQLite database:"},{heading:"prerequisites",content:"A Railway account (GitHub sign-in recommended)."},{heading:"prerequisites",content:"The LinkDen repository forked to your GitHub account (or a private repo connected to Railway)."},{heading:"prerequisites",content:"Node.js 20+ and pnpm 9+ installed locally (for initial setup)."},{heading:"step-1-create-a-railway-project",content:"Log in to the Railway dashboard."},{heading:"step-1-create-a-railway-project",content:"Click New Project."},{heading:"step-1-create-a-railway-project",content:"Select Empty Project."},{heading:"step-1-create-a-railway-project",content:"Name it LinkDen."},{heading:"add-the-service",content:"In your project, click New > GitHub Repo."},{heading:"add-the-service",content:"Select the LinkDen repository."},{heading:"add-the-service",content:"Railway detects the repo and begins a build. Cancel this initial build -- we need to configure it first."},{heading:"configure-the-build",content:"Click on the service to open its settings."},{heading:"configure-the-build",content:"Go to Settings:"},{heading:"configure-the-build",content:"Service Name: linkden-api"},{heading:"configure-the-build",content:"Root Directory: Leave empty (uses repo root)"},{heading:"configure-the-build",content:"Build Command: Leave empty (uses Dockerfile)"},{heading:"configure-the-build",content:"Dockerfile Path: Dockerfile.api"},{heading:"configure-the-build",content:"If you have not created Dockerfile.api yet, see the Docker guide for the complete Dockerfile. Alternatively, use a Nixpacks build:"},{heading:"alternative-nixpacks-build-no-dockerfile",content:"Railway supports Nixpacks for automatic builds. Create a railway.json in the repo root:"},{heading:"alternative-nixpacks-build-no-dockerfile",content:"And a nixpacks.toml for the API:"},{heading:"alternative-nixpacks-build-no-dockerfile",content:"However, the Dockerfile approach gives you more control and is recommended."},{heading:"add-a-persistent-volume",content:"SQLite needs a persistent volume so data survives redeployments:"},{heading:"add-a-persistent-volume",content:"Click on the linkden-api service."},{heading:"add-a-persistent-volume",content:"Go to Volumes."},{heading:"add-a-persistent-volume",content:"Click New Volume."},{heading:"add-a-persistent-volume",content:"Set the mount path to /data."},{heading:"add-a-persistent-volume",content:"Click Create."},{heading:"set-environment-variables",content:"Click on the linkden-api service."},{heading:"set-environment-variables",content:"Go to Variables."},{heading:"set-environment-variables",content:"Add each variable:"},{heading:"set-environment-variables",content:"Variable"},{heading:"set-environment-variables",content:"Value"},{heading:"set-environment-variables",content:"BETTER_AUTH_SECRET"},{heading:"set-environment-variables",content:"A strong random secret (generate with openssl rand -base64 32)"},{heading:"set-environment-variables",content:"BETTER_AUTH_URL"},{heading:"set-environment-variables",content:"https://linkden-api-production.up.railway.app (or your custom API domain)"},{heading:"set-environment-variables",content:"CORS_ORIGIN"},{heading:"set-environment-variables",content:"https://yourdomain.com (update after setting up custom domain)"},{heading:"set-environment-variables",content:"DATABASE_URL"},{heading:"set-environment-variables",content:"file:/data/linkden.db"},{heading:"set-environment-variables",content:"PORT"},{heading:"set-environment-variables",content:"8787"},{heading:"set-environment-variables",content:"RESEND_API_KEY"},{heading:"set-environment-variables",content:"re_... (optional)"},{heading:"set-environment-variables",content:"RESEND_FROM_EMAIL"},{heading:"set-environment-variables",content:"contact@yourdomain.com (optional)"},{heading:"set-environment-variables",content:"TURNSTILE_SECRET_KEY"},{heading:"set-environment-variables",content:"0x... (optional)"},{heading:"set-environment-variables",content:"Click Deploy to trigger a build with the new configuration."},{heading:"expose-the-service",content:"Go to Settings > Networking."},{heading:"expose-the-service",content:"Under Public Networking, click Generate Domain to get a Railway-provided URL (e.g., linkden-api-production.up.railway.app)."},{heading:"expose-the-service",content:"Note this URL -- you need it for the web app's NEXT_PUBLIC_SERVER_URL."},{heading:"add-a-second-service",content:"In the same Railway project, click New > GitHub Repo."},{heading:"add-a-second-service",content:"Select the same LinkDen repository again."},{heading:"add-a-second-service",content:"Configure it as a separate service."},{heading:"configure-the-build-1",content:"Click on the new service and go to Settings:"},{heading:"configure-the-build-1",content:"Service Name: linkden-web"},{heading:"configure-the-build-1",content:"Dockerfile Path: Dockerfile.web"},{heading:"set-environment-variables-build-args",content:"Since NEXT_PUBLIC_* variables must be present at build time, add them as variables:"},{heading:"set-environment-variables-build-args",content:"Variable"},{heading:"set-environment-variables-build-args",content:"Value"},{heading:"set-environment-variables-build-args",content:"NEXT_PUBLIC_SERVER_URL"},{heading:"set-environment-variables-build-args",content:"https://linkden-api-production.up.railway.app (or your custom API domain)"},{heading:"set-environment-variables-build-args",content:"NEXT_PUBLIC_SITE_URL"},{heading:"set-environment-variables-build-args",content:"https://linkden-web-production.up.railway.app (or your custom domain)"},{heading:"set-environment-variables-build-args",content:"NEXT_PUBLIC_SITE_NAME"},{heading:"set-environment-variables-build-args",content:"LinkDen"},{heading:"set-environment-variables-build-args",content:"NEXT_PUBLIC_TURNSTILE_SITE_KEY"},{heading:"set-environment-variables-build-args",content:"(optional)"},{heading:"set-environment-variables-build-args",content:"PORT"},{heading:"set-environment-variables-build-args",content:"3001"},{heading:"expose-the-service-1",content:"Go to Settings > Networking."},{heading:"expose-the-service-1",content:"Click Generate Domain to get a public URL."},{heading:"expose-the-service-1",content:"Visit the URL to verify the web app is running."},{heading:"add-a-custom-domain-for-the-web-app",content:"Click on the linkden-web service."},{heading:"add-a-custom-domain-for-the-web-app",content:"Go to Settings > Networking > Custom Domain."},{heading:"add-a-custom-domain-for-the-web-app",content:"Enter your domain (e.g., yourdomain.com or links.yourdomain.com)."},{heading:"add-a-custom-domain-for-the-web-app",content:"Railway shows you a CNAME record to add at your DNS provider."},{heading:"add-a-custom-domain-for-the-web-app",content:"At your DNS provider, add the record:"},{heading:"add-a-custom-domain-for-the-web-app",content:"Type"},{heading:"add-a-custom-domain-for-the-web-app",content:"Name"},{heading:"add-a-custom-domain-for-the-web-app",content:"Target"},{heading:"add-a-custom-domain-for-the-web-app",content:"CNAME"},{heading:"add-a-custom-domain-for-the-web-app",content:"@ or subdomain"},{heading:"add-a-custom-domain-for-the-web-app",content:"linkden-web-production.up.railway.app"},{heading:"add-a-custom-domain-for-the-api",content:"Click on the linkden-api service."},{heading:"add-a-custom-domain-for-the-api",content:"Go to Settings > Networking > Custom Domain."},{heading:"add-a-custom-domain-for-the-api",content:"Enter your API domain (e.g., api.yourdomain.com)."},{heading:"add-a-custom-domain-for-the-api",content:"Add the CNAME record at your DNS provider."},{heading:"update-environment-variables",content:"After setting up custom domains, update the URLs:"},{heading:"update-environment-variables",content:"API service variables:"},{heading:"update-environment-variables",content:"Web service variables:"},{heading:"update-environment-variables",content:"Redeploy both services for changes to take effect."},{heading:"ssl-certificates",content:"Railway automatically provisions and renews SSL certificates for custom domains. No configuration is needed. SSL is active within minutes of DNS propagation."},{heading:"sqlite-with-persistent-volume-default",content:"The persistent volume mounted at /data stores the SQLite database file. This is the simplest approach and works well for single-instance deployments."},{heading:"sqlite-with-persistent-volume-default",content:"Ensure:"},{heading:"sqlite-with-persistent-volume-default",content:"DATABASE_URL=file:/data/linkden.db is set on the API service."},{heading:"sqlite-with-persistent-volume-default",content:"A volume is mounted at /data."},{heading:"postgresql-alternative-advanced",content:"If you prefer a managed PostgreSQL database for better concurrency:"},{heading:"postgresql-alternative-advanced",content:"In the Railway project, click New > Database > PostgreSQL."},{heading:"postgresql-alternative-advanced",content:"Railway provisions a PostgreSQL instance and provides a DATABASE_URL."},{heading:"postgresql-alternative-advanced",content:"Copy the DATABASE_URL to the API service variables."},{heading:"postgresql-alternative-advanced",content:"This requires modifying packages/db to use the Drizzle PostgreSQL driver instead of SQLite. This is an advanced configuration and beyond the default LinkDen setup."},{heading:"step-6-first-time-auth-setup",content:"After both services are deployed:"},{heading:"step-6-first-time-auth-setup",content:"Visit your web app URL (e.g., https://yourdomain.com/admin/setup)."},{heading:"step-6-first-time-auth-setup",content:"Complete the setup wizard to create your admin account (name, email, and password)."},{heading:"step-6-first-time-auth-setup",content:"After setup is complete, sign in at /admin/login."},{heading:"step-6-first-time-auth-setup",content:"Create a test link in the admin panel."},{heading:"step-6-first-time-auth-setup",content:"Visit the public page and verify the link appears."},{heading:"step-6-first-time-auth-setup",content:"Check analytics data is being recorded."},{heading:"service-logs",content:"Click on a service in the Railway dashboard."},{heading:"service-logs",content:"Go to Deployments > click the latest deployment > Logs."},{heading:"service-logs",content:"View real-time application logs."},{heading:"metrics",content:"Railway provides built-in metrics for each service:"},{heading:"metrics",content:"CPU usage"},{heading:"metrics",content:"Memory usage"},{heading:"metrics",content:"Network traffic"},{heading:"metrics",content:"Disk usage (for volumes)"},{heading:"metrics",content:"Access metrics from the service dashboard."},{heading:"deploy-notifications",content:"Railway can send notifications for deployments via:"},{heading:"deploy-notifications",content:"Email"},{heading:"deploy-notifications",content:"Slack (via Railway's integration)"},{heading:"deploy-notifications",content:"Webhooks"},{heading:"deploy-notifications",content:"Configure under Project Settings > Integrations."},{heading:"automatic-deployments",content:"If your repository is connected via GitHub, Railway automatically redeploys when you push to the configured branch."},{heading:"automatic-deployments",content:"Push changes to your repo."},{heading:"automatic-deployments",content:"Railway detects the change and triggers a new build."},{heading:"automatic-deployments",content:"The new version is deployed with zero downtime (rolling deployment)."},{heading:"manual-redeployment",content:"Go to the service in the Railway dashboard."},{heading:"manual-redeployment",content:"Click Deploy > Redeploy."},{heading:"rolling-back",content:"If a deployment has issues:"},{heading:"rolling-back",content:"Go to the service > Deployments."},{heading:"rolling-back",content:"Find the previous working deployment."},{heading:"rolling-back",content:"Click the three-dot menu > Rollback."},{heading:"costs",content:"Railway pricing (as of 2025):"},{heading:"costs",content:"Plan"},{heading:"costs",content:"Cost"},{heading:"costs",content:"Resources"},{heading:"costs",content:"Trial"},{heading:"costs",content:"Free ($5 credit/month)"},{heading:"costs",content:"512 MB RAM, shared CPU, 1 GB disk"},{heading:"costs",content:"Hobby"},{heading:"costs",content:"$5/month"},{heading:"costs",content:"8 GB RAM, 8 vCPU, 100 GB disk"},{heading:"costs",content:"Pro"},{heading:"costs",content:"$20/month per seat"},{heading:"costs",content:"Team features, higher limits"},{heading:"costs",content:"Usage-based pricing on top of the base plan:"},{heading:"costs",content:"Compute: $0.000231/min per vCPU"},{heading:"costs",content:"Memory: $0.000231/min per GB"},{heading:"costs",content:"Network egress: $0.10/GB"},{heading:"costs",content:"Volume storage: $0.25/GB per month"},{heading:"costs",content:"Typical LinkDen costs:"},{heading:"costs",content:"A single-user LinkDen instance with low traffic typically uses:"},{heading:"costs",content:"~0.1 vCPU average"},{heading:"costs",content:"~256 MB RAM per service"},{heading:"costs",content:"< 1 GB volume storage"},{heading:"costs",content:"Minimal network egress"},{heading:"costs",content:"This fits comfortably within the Hobby plan ($5/month) with minimal additional usage charges. The Trial plan's $5 free credit may cover it for light usage."},{heading:"build-fails",content:"Check the build logs in Railway for specific errors."},{heading:"build-fails",content:"Ensure Dockerfile.api and Dockerfile.web exist in the repository root."},{heading:"build-fails",content:"Verify all build arguments are set as environment variables."},{heading:"502-bad-gateway-or-application-failed-to-respond",content:"The service may not be listening on the correct port. Ensure the PORT environment variable matches the port your application listens on."},{heading:"502-bad-gateway-or-application-failed-to-respond",content:"Check the deploy logs for startup errors."},{heading:"502-bad-gateway-or-application-failed-to-respond",content:"Verify the health check is passing."},{heading:"database-resets-on-redeployment",content:"Ensure a persistent volume is attached to the API service at /data."},{heading:"database-resets-on-redeployment",content:"Verify DATABASE_URL points to a file inside the volume mount path."},{heading:"cors-errors",content:"CORS_ORIGIN must exactly match the web app's URL including protocol."},{heading:"cors-errors",content:"After switching to a custom domain, update CORS_ORIGIN and redeploy the API."},{heading:"custom-domain-shows-dns-not-configured",content:"Verify the CNAME record at your DNS provider."},{heading:"custom-domain-shows-dns-not-configured",content:"Wait for DNS propagation (can take up to 48 hours, usually minutes)."},{heading:"custom-domain-shows-dns-not-configured",content:"Ensure the CNAME target matches what Railway shows in the dashboard."}],headings:[{id:"railway-deployment",content:"Railway Deployment"},{id:"why-railway",content:"Why Railway?"},{id:"architecture-on-railway",content:"Architecture on Railway"},{id:"prerequisites",content:"Prerequisites"},{id:"step-1-create-a-railway-project",content:"Step 1: Create a Railway Project"},{id:"step-2-deploy-the-api-service",content:"Step 2: Deploy the API Service"},{id:"add-the-service",content:"Add the Service"},{id:"configure-the-build",content:"Configure the Build"},{id:"alternative-nixpacks-build-no-dockerfile",content:"Alternative: Nixpacks Build (No Dockerfile)"},{id:"add-a-persistent-volume",content:"Add a Persistent Volume"},{id:"set-environment-variables",content:"Set Environment Variables"},{id:"expose-the-service",content:"Expose the Service"},{id:"step-3-deploy-the-web-app",content:"Step 3: Deploy the Web App"},{id:"add-a-second-service",content:"Add a Second Service"},{id:"configure-the-build-1",content:"Configure the Build"},{id:"set-environment-variables-build-args",content:"Set Environment Variables (Build Args)"},{id:"expose-the-service-1",content:"Expose the Service"},{id:"step-4-set-up-custom-domains",content:"Step 4: Set Up Custom Domains"},{id:"add-a-custom-domain-for-the-web-app",content:"Add a Custom Domain for the Web App"},{id:"add-a-custom-domain-for-the-api",content:"Add a Custom Domain for the API"},{id:"update-environment-variables",content:"Update Environment Variables"},{id:"ssl-certificates",content:"SSL Certificates"},{id:"step-5-database-setup",content:"Step 5: Database Setup"},{id:"sqlite-with-persistent-volume-default",content:"SQLite with Persistent Volume (Default)"},{id:"postgresql-alternative-advanced",content:"PostgreSQL Alternative (Advanced)"},{id:"step-6-first-time-auth-setup",content:"Step 6: First-Time Auth Setup"},{id:"monitoring",content:"Monitoring"},{id:"service-logs",content:"Service Logs"},{id:"metrics",content:"Metrics"},{id:"deploy-notifications",content:"Deploy Notifications"},{id:"updating-linkden",content:"Updating LinkDen"},{id:"automatic-deployments",content:"Automatic Deployments"},{id:"manual-redeployment",content:"Manual Redeployment"},{id:"rolling-back",content:"Rolling Back"},{id:"costs",content:"Costs"},{id:"troubleshooting",content:"Troubleshooting"},{id:"build-fails",content:"Build fails"},{id:"502-bad-gateway-or-application-failed-to-respond",content:'"502 Bad Gateway" or "Application failed to respond"'},{id:"database-resets-on-redeployment",content:"Database resets on redeployment"},{id:"cors-errors",content:"CORS errors"},{id:"custom-domain-shows-dns-not-configured",content:'Custom domain shows "DNS not configured"'}]},e=[{depth:1,url:"#railway-deployment",title:(0,b.jsx)(b.Fragment,{children:"Railway Deployment"})},{depth:2,url:"#why-railway",title:(0,b.jsx)(b.Fragment,{children:"Why Railway?"})},{depth:2,url:"#architecture-on-railway",title:(0,b.jsx)(b.Fragment,{children:"Architecture on Railway"})},{depth:2,url:"#prerequisites",title:(0,b.jsx)(b.Fragment,{children:"Prerequisites"})},{depth:2,url:"#step-1-create-a-railway-project",title:(0,b.jsx)(b.Fragment,{children:"Step 1: Create a Railway Project"})},{depth:2,url:"#step-2-deploy-the-api-service",title:(0,b.jsx)(b.Fragment,{children:"Step 2: Deploy the API Service"})},{depth:3,url:"#add-the-service",title:(0,b.jsx)(b.Fragment,{children:"Add the Service"})},{depth:3,url:"#configure-the-build",title:(0,b.jsx)(b.Fragment,{children:"Configure the Build"})},{depth:3,url:"#alternative-nixpacks-build-no-dockerfile",title:(0,b.jsx)(b.Fragment,{children:"Alternative: Nixpacks Build (No Dockerfile)"})},{depth:3,url:"#add-a-persistent-volume",title:(0,b.jsx)(b.Fragment,{children:"Add a Persistent Volume"})},{depth:3,url:"#set-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Set Environment Variables"})},{depth:3,url:"#expose-the-service",title:(0,b.jsx)(b.Fragment,{children:"Expose the Service"})},{depth:2,url:"#step-3-deploy-the-web-app",title:(0,b.jsx)(b.Fragment,{children:"Step 3: Deploy the Web App"})},{depth:3,url:"#add-a-second-service",title:(0,b.jsx)(b.Fragment,{children:"Add a Second Service"})},{depth:3,url:"#configure-the-build-1",title:(0,b.jsx)(b.Fragment,{children:"Configure the Build"})},{depth:3,url:"#set-environment-variables-build-args",title:(0,b.jsx)(b.Fragment,{children:"Set Environment Variables (Build Args)"})},{depth:3,url:"#expose-the-service-1",title:(0,b.jsx)(b.Fragment,{children:"Expose the Service"})},{depth:2,url:"#step-4-set-up-custom-domains",title:(0,b.jsx)(b.Fragment,{children:"Step 4: Set Up Custom Domains"})},{depth:3,url:"#add-a-custom-domain-for-the-web-app",title:(0,b.jsx)(b.Fragment,{children:"Add a Custom Domain for the Web App"})},{depth:3,url:"#add-a-custom-domain-for-the-api",title:(0,b.jsx)(b.Fragment,{children:"Add a Custom Domain for the API"})},{depth:3,url:"#update-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Update Environment Variables"})},{depth:3,url:"#ssl-certificates",title:(0,b.jsx)(b.Fragment,{children:"SSL Certificates"})},{depth:2,url:"#step-5-database-setup",title:(0,b.jsx)(b.Fragment,{children:"Step 5: Database Setup"})},{depth:3,url:"#sqlite-with-persistent-volume-default",title:(0,b.jsx)(b.Fragment,{children:"SQLite with Persistent Volume (Default)"})},{depth:3,url:"#postgresql-alternative-advanced",title:(0,b.jsx)(b.Fragment,{children:"PostgreSQL Alternative (Advanced)"})},{depth:2,url:"#step-6-first-time-auth-setup",title:(0,b.jsx)(b.Fragment,{children:"Step 6: First-Time Auth Setup"})},{depth:2,url:"#monitoring",title:(0,b.jsx)(b.Fragment,{children:"Monitoring"})},{depth:3,url:"#service-logs",title:(0,b.jsx)(b.Fragment,{children:"Service Logs"})},{depth:3,url:"#metrics",title:(0,b.jsx)(b.Fragment,{children:"Metrics"})},{depth:3,url:"#deploy-notifications",title:(0,b.jsx)(b.Fragment,{children:"Deploy Notifications"})},{depth:2,url:"#updating-linkden",title:(0,b.jsx)(b.Fragment,{children:"Updating LinkDen"})},{depth:3,url:"#automatic-deployments",title:(0,b.jsx)(b.Fragment,{children:"Automatic Deployments"})},{depth:3,url:"#manual-redeployment",title:(0,b.jsx)(b.Fragment,{children:"Manual Redeployment"})},{depth:3,url:"#rolling-back",title:(0,b.jsx)(b.Fragment,{children:"Rolling Back"})},{depth:2,url:"#costs",title:(0,b.jsx)(b.Fragment,{children:"Costs"})},{depth:2,url:"#troubleshooting",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#build-fails",title:(0,b.jsx)(b.Fragment,{children:"Build fails"})},{depth:3,url:"#502-bad-gateway-or-application-failed-to-respond",title:(0,b.jsx)(b.Fragment,{children:'"502 Bad Gateway" or "Application failed to respond"'})},{depth:3,url:"#database-resets-on-redeployment",title:(0,b.jsx)(b.Fragment,{children:"Database resets on redeployment"})},{depth:3,url:"#cors-errors",title:(0,b.jsx)(b.Fragment,{children:"CORS errors"})},{depth:3,url:"#custom-domain-shows-dns-not-configured",title:(0,b.jsx)(b.Fragment,{children:'Custom domain shows "DNS not configured"'})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"railway-deployment",children:"Railway Deployment"}),"\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.a,{href:"https://railway.app",children:"Railway"})," is a cloud platform that makes it easy to deploy applications with automatic builds, managed databases, and built-in SSL. This guide covers deploying both the LinkDen API and web app on Railway."]}),"\n",(0,b.jsx)(c.h2,{id:"why-railway",children:"Why Railway?"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Simple deployment"}),": Connect a GitHub repo and Railway handles builds and deploys."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Managed infrastructure"}),": No servers to configure or maintain."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Automatic SSL"}),": Custom domains get free SSL certificates instantly."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Built-in databases"}),": One-click SQLite-compatible volumes or PostgreSQL."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Generous free tier"}),": $5 free credit/month on the Trial plan; Hobby plan starts at $5/month."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Preview environments"}),": Automatic deploys for pull requests."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"architecture-on-railway",children:"Architecture on Railway"}),"\n",(0,b.jsx)(c.p,{children:"Railway runs each service as a separate container. LinkDen uses two services plus a persistent volume for the SQLite database:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"┌──────────────────┐     ┌──────────────────┐     ┌──────────────┐"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Railway Service: │────▶│  Railway Service: │────▶│ Volume Mount │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Web (Next.js    │     │  API (Hono on     │     │ (SQLite DB)  │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  static + Caddy) │     │  Node.js)         │     │              │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"└──────────────────┘     └──────────────────┘     └──────────────┘"})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["A ",(0,b.jsx)(c.a,{href:"https://railway.app",children:"Railway account"})," (GitHub sign-in recommended)."]}),"\n",(0,b.jsx)(c.li,{children:"The LinkDen repository forked to your GitHub account (or a private repo connected to Railway)."}),"\n",(0,b.jsx)(c.li,{children:"Node.js 20+ and pnpm 9+ installed locally (for initial setup)."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-1-create-a-railway-project",children:"Step 1: Create a Railway Project"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Log in to the ",(0,b.jsx)(c.a,{href:"https://railway.app/dashboard",children:"Railway dashboard"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"New Project"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Select ",(0,b.jsx)(c.strong,{children:"Empty Project"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Name it ",(0,b.jsx)(c.code,{children:"LinkDen"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-2-deploy-the-api-service",children:"Step 2: Deploy the API Service"}),"\n",(0,b.jsx)(c.h3,{id:"add-the-service",children:"Add the Service"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["In your project, click ",(0,b.jsx)(c.strong,{children:"New"})," > ",(0,b.jsx)(c.strong,{children:"GitHub Repo"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Select the LinkDen repository."}),"\n",(0,b.jsx)(c.li,{children:"Railway detects the repo and begins a build. Cancel this initial build -- we need to configure it first."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"configure-the-build",children:"Configure the Build"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Click on the service to open its settings."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings"}),":","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Service Name"}),": ",(0,b.jsx)(c.code,{children:"linkden-api"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Root Directory"}),": Leave empty (uses repo root)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Build Command"}),": Leave empty (uses Dockerfile)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Dockerfile Path"}),": ",(0,b.jsx)(c.code,{children:"Dockerfile.api"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["If you have not created ",(0,b.jsx)(c.code,{children:"Dockerfile.api"})," yet, see the ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/docker",children:"Docker guide"})," for the complete Dockerfile. Alternatively, use a Nixpacks build:"]}),"\n",(0,b.jsx)(c.h3,{id:"alternative-nixpacks-build-no-dockerfile",children:"Alternative: Nixpacks Build (No Dockerfile)"}),"\n",(0,b.jsxs)(c.p,{children:["Railway supports Nixpacks for automatic builds. Create a ",(0,b.jsx)(c.code,{children:"railway.json"})," in the repo root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "build"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "builder"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"NIXPACKS"'})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  },"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "$schema"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"https://railway.app/railway.schema.json"'})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),"\n",(0,b.jsxs)(c.p,{children:["And a ",(0,b.jsx)(c.code,{children:"nixpacks.toml"})," for the API:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"phases"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"setup"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"nixPkgs = ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"nodejs_20"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"sqlite"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"phases"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"install"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"cmds = ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"corepack enable"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"corepack prepare pnpm@10.29.3 --activate"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"pnpm install --frozen-lockfile"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"phases"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"build"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"cmds = ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"\"echo 'Build complete'\""}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"start"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"cmd = "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"npx tsx apps/server/src/node-entry.ts"'})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"However, the Dockerfile approach gives you more control and is recommended."}),"\n",(0,b.jsx)(c.h3,{id:"add-a-persistent-volume",children:"Add a Persistent Volume"}),"\n",(0,b.jsx)(c.p,{children:"SQLite needs a persistent volume so data survives redeployments:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click on the ",(0,b.jsx)(c.code,{children:"linkden-api"})," service."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Volumes"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"New Volume"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Set the mount path to ",(0,b.jsx)(c.code,{children:"/data"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"set-environment-variables",children:"Set Environment Variables"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click on the ",(0,b.jsx)(c.code,{children:"linkden-api"})," service."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Variables"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Add each variable:"}),"\n"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Value"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsxs)(c.td,{children:["A strong random secret (generate with ",(0,b.jsx)(c.code,{children:"openssl rand -base64 32"}),")"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"https://linkden-api-production.up.railway.app"})," (or your custom API domain)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"https://yourdomain.com"})," (update after setting up custom domain)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"DATABASE_URL"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"file:/data/linkden.db"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"PORT"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"8787"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"RESEND_API_KEY"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"re_..."})," (optional)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"RESEND_FROM_EMAIL"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"contact@yourdomain.com"})," (optional)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"TURNSTILE_SECRET_KEY"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"0x..."})," (optional)"]})]})]})]}),"\n",(0,b.jsxs)(c.ol,{start:"4",children:["\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Deploy"})," to trigger a build with the new configuration."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"expose-the-service",children:"Expose the Service"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings"})," > ",(0,b.jsx)(c.strong,{children:"Networking"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Under ",(0,b.jsx)(c.strong,{children:"Public Networking"}),", click ",(0,b.jsx)(c.strong,{children:"Generate Domain"})," to get a Railway-provided URL (e.g., ",(0,b.jsx)(c.code,{children:"linkden-api-production.up.railway.app"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:["Note this URL -- you need it for the web app's ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-3-deploy-the-web-app",children:"Step 3: Deploy the Web App"}),"\n",(0,b.jsx)(c.h3,{id:"add-a-second-service",children:"Add a Second Service"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["In the same Railway project, click ",(0,b.jsx)(c.strong,{children:"New"})," > ",(0,b.jsx)(c.strong,{children:"GitHub Repo"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Select the same LinkDen repository again."}),"\n",(0,b.jsx)(c.li,{children:"Configure it as a separate service."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"configure-the-build-1",children:"Configure the Build"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click on the new service and go to ",(0,b.jsx)(c.strong,{children:"Settings"}),":","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Service Name"}),": ",(0,b.jsx)(c.code,{children:"linkden-web"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Dockerfile Path"}),": ",(0,b.jsx)(c.code,{children:"Dockerfile.web"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"set-environment-variables-build-args",children:"Set Environment Variables (Build Args)"}),"\n",(0,b.jsxs)(c.p,{children:["Since ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_*"})," variables must be present at build time, add them as variables:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Value"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"https://linkden-api-production.up.railway.app"})," (or your custom API domain)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SITE_URL"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"https://linkden-web-production.up.railway.app"})," (or your custom domain)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SITE_NAME"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"LinkDen"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_TURNSTILE_SITE_KEY"})}),(0,b.jsx)(c.td,{children:"(optional)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"PORT"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"3001"})})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"expose-the-service-1",children:"Expose the Service"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings"})," > ",(0,b.jsx)(c.strong,{children:"Networking"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Generate Domain"})," to get a public URL."]}),"\n",(0,b.jsx)(c.li,{children:"Visit the URL to verify the web app is running."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-4-set-up-custom-domains",children:"Step 4: Set Up Custom Domains"}),"\n",(0,b.jsx)(c.h3,{id:"add-a-custom-domain-for-the-web-app",children:"Add a Custom Domain for the Web App"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click on the ",(0,b.jsx)(c.code,{children:"linkden-web"})," service."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings"})," > ",(0,b.jsx)(c.strong,{children:"Networking"})," > ",(0,b.jsx)(c.strong,{children:"Custom Domain"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter your domain (e.g., ",(0,b.jsx)(c.code,{children:"yourdomain.com"})," or ",(0,b.jsx)(c.code,{children:"links.yourdomain.com"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"Railway shows you a CNAME record to add at your DNS provider."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"At your DNS provider, add the record:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Name"}),(0,b.jsx)(c.th,{children:"Target"})]})}),(0,b.jsx)(c.tbody,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"CNAME"}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"@"})," or subdomain"]}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"linkden-web-production.up.railway.app"})})]})})]}),"\n",(0,b.jsx)(c.h3,{id:"add-a-custom-domain-for-the-api",children:"Add a Custom Domain for the API"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click on the ",(0,b.jsx)(c.code,{children:"linkden-api"})," service."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings"})," > ",(0,b.jsx)(c.strong,{children:"Networking"})," > ",(0,b.jsx)(c.strong,{children:"Custom Domain"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter your API domain (e.g., ",(0,b.jsx)(c.code,{children:"api.yourdomain.com"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"Add the CNAME record at your DNS provider."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"update-environment-variables",children:"Update Environment Variables"}),"\n",(0,b.jsx)(c.p,{children:"After setting up custom domains, update the URLs:"}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"API service variables:"})}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"CORS_ORIGIN=https://yourdomain.com"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"BETTER_AUTH_URL=https://api.yourdomain.com"})})]})})}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"Web service variables:"})}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"NEXT_PUBLIC_SERVER_URL=https://api.yourdomain.com"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"NEXT_PUBLIC_SITE_URL=https://yourdomain.com"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"Redeploy both services for changes to take effect."}),"\n",(0,b.jsx)(c.h3,{id:"ssl-certificates",children:"SSL Certificates"}),"\n",(0,b.jsx)(c.p,{children:"Railway automatically provisions and renews SSL certificates for custom domains. No configuration is needed. SSL is active within minutes of DNS propagation."}),"\n",(0,b.jsx)(c.h2,{id:"step-5-database-setup",children:"Step 5: Database Setup"}),"\n",(0,b.jsx)(c.h3,{id:"sqlite-with-persistent-volume-default",children:"SQLite with Persistent Volume (Default)"}),"\n",(0,b.jsxs)(c.p,{children:["The persistent volume mounted at ",(0,b.jsx)(c.code,{children:"/data"})," stores the SQLite database file. This is the simplest approach and works well for single-instance deployments."]}),"\n",(0,b.jsx)(c.p,{children:"Ensure:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"DATABASE_URL=file:/data/linkden.db"})," is set on the API service."]}),"\n",(0,b.jsxs)(c.li,{children:["A volume is mounted at ",(0,b.jsx)(c.code,{children:"/data"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"postgresql-alternative-advanced",children:"PostgreSQL Alternative (Advanced)"}),"\n",(0,b.jsx)(c.p,{children:"If you prefer a managed PostgreSQL database for better concurrency:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["In the Railway project, click ",(0,b.jsx)(c.strong,{children:"New"})," > ",(0,b.jsx)(c.strong,{children:"Database"})," > ",(0,b.jsx)(c.strong,{children:"PostgreSQL"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Railway provisions a PostgreSQL instance and provides a ",(0,b.jsx)(c.code,{children:"DATABASE_URL"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Copy the ",(0,b.jsx)(c.code,{children:"DATABASE_URL"})," to the API service variables."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["This requires modifying ",(0,b.jsx)(c.code,{children:"packages/db"})," to use the Drizzle PostgreSQL driver instead of SQLite. This is an advanced configuration and beyond the default LinkDen setup."]}),"\n",(0,b.jsx)(c.h2,{id:"step-6-first-time-auth-setup",children:"Step 6: First-Time Auth Setup"}),"\n",(0,b.jsx)(c.p,{children:"After both services are deployed:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Visit your web app URL (e.g., ",(0,b.jsx)(c.code,{children:"https://yourdomain.com/admin/setup"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"Complete the setup wizard to create your admin account (name, email, and password)."}),"\n",(0,b.jsxs)(c.li,{children:["After setup is complete, sign in at ",(0,b.jsx)(c.code,{children:"/admin/login"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Create a test link in the admin panel."}),"\n",(0,b.jsx)(c.li,{children:"Visit the public page and verify the link appears."}),"\n",(0,b.jsx)(c.li,{children:"Check analytics data is being recorded."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,b.jsx)(c.h3,{id:"service-logs",children:"Service Logs"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Click on a service in the Railway dashboard."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Deployments"})," > click the latest deployment > ",(0,b.jsx)(c.strong,{children:"Logs"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"View real-time application logs."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"metrics",children:"Metrics"}),"\n",(0,b.jsx)(c.p,{children:"Railway provides built-in metrics for each service:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:(0,b.jsx)(c.strong,{children:"CPU usage"})}),"\n",(0,b.jsx)(c.li,{children:(0,b.jsx)(c.strong,{children:"Memory usage"})}),"\n",(0,b.jsx)(c.li,{children:(0,b.jsx)(c.strong,{children:"Network traffic"})}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Disk usage"})," (for volumes)"]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Access metrics from the service dashboard."}),"\n",(0,b.jsx)(c.h3,{id:"deploy-notifications",children:"Deploy Notifications"}),"\n",(0,b.jsx)(c.p,{children:"Railway can send notifications for deployments via:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Email"}),"\n",(0,b.jsx)(c.li,{children:"Slack (via Railway's integration)"}),"\n",(0,b.jsx)(c.li,{children:"Webhooks"}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Configure under ",(0,b.jsx)(c.strong,{children:"Project Settings"})," > ",(0,b.jsx)(c.strong,{children:"Integrations"}),"."]}),"\n",(0,b.jsx)(c.h2,{id:"updating-linkden",children:"Updating LinkDen"}),"\n",(0,b.jsx)(c.h3,{id:"automatic-deployments",children:"Automatic Deployments"}),"\n",(0,b.jsx)(c.p,{children:"If your repository is connected via GitHub, Railway automatically redeploys when you push to the configured branch."}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Push changes to your repo."}),"\n",(0,b.jsx)(c.li,{children:"Railway detects the change and triggers a new build."}),"\n",(0,b.jsx)(c.li,{children:"The new version is deployed with zero downtime (rolling deployment)."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"manual-redeployment",children:"Manual Redeployment"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Go to the service in the Railway dashboard."}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Deploy"})," > ",(0,b.jsx)(c.strong,{children:"Redeploy"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"rolling-back",children:"Rolling Back"}),"\n",(0,b.jsx)(c.p,{children:"If a deployment has issues:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to the service > ",(0,b.jsx)(c.strong,{children:"Deployments"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Find the previous working deployment."}),"\n",(0,b.jsxs)(c.li,{children:["Click the three-dot menu > ",(0,b.jsx)(c.strong,{children:"Rollback"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"costs",children:"Costs"}),"\n",(0,b.jsx)(c.p,{children:"Railway pricing (as of 2025):"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Plan"}),(0,b.jsx)(c.th,{children:"Cost"}),(0,b.jsx)(c.th,{children:"Resources"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Trial"})}),(0,b.jsx)(c.td,{children:"Free ($5 credit/month)"}),(0,b.jsx)(c.td,{children:"512 MB RAM, shared CPU, 1 GB disk"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Hobby"})}),(0,b.jsx)(c.td,{children:"$5/month"}),(0,b.jsx)(c.td,{children:"8 GB RAM, 8 vCPU, 100 GB disk"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Pro"})}),(0,b.jsx)(c.td,{children:"$20/month per seat"}),(0,b.jsx)(c.td,{children:"Team features, higher limits"})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"Usage-based pricing on top of the base plan:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Compute"}),": $0.000231/min per vCPU"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Memory"}),": $0.000231/min per GB"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Network egress"}),": $0.10/GB"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Volume storage"}),": $0.25/GB per month"]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"Typical LinkDen costs:"})}),"\n",(0,b.jsx)(c.p,{children:"A single-user LinkDen instance with low traffic typically uses:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"~0.1 vCPU average"}),"\n",(0,b.jsx)(c.li,{children:"~256 MB RAM per service"}),"\n",(0,b.jsx)(c.li,{children:"< 1 GB volume storage"}),"\n",(0,b.jsx)(c.li,{children:"Minimal network egress"}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["This fits comfortably within the ",(0,b.jsx)(c.strong,{children:"Hobby plan"})," ($5/month) with minimal additional usage charges. The Trial plan's $5 free credit may cover it for light usage."]}),"\n",(0,b.jsx)(c.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,b.jsx)(c.h3,{id:"build-fails",children:"Build fails"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Check the build logs in Railway for specific errors."}),"\n",(0,b.jsxs)(c.li,{children:["Ensure ",(0,b.jsx)(c.code,{children:"Dockerfile.api"})," and ",(0,b.jsx)(c.code,{children:"Dockerfile.web"})," exist in the repository root."]}),"\n",(0,b.jsx)(c.li,{children:"Verify all build arguments are set as environment variables."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"502-bad-gateway-or-application-failed-to-respond",children:'"502 Bad Gateway" or "Application failed to respond"'}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["The service may not be listening on the correct port. Ensure the ",(0,b.jsx)(c.code,{children:"PORT"})," environment variable matches the port your application listens on."]}),"\n",(0,b.jsx)(c.li,{children:"Check the deploy logs for startup errors."}),"\n",(0,b.jsx)(c.li,{children:"Verify the health check is passing."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"database-resets-on-redeployment",children:"Database resets on redeployment"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Ensure a persistent volume is attached to the API service at ",(0,b.jsx)(c.code,{children:"/data"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Verify ",(0,b.jsx)(c.code,{children:"DATABASE_URL"})," points to a file inside the volume mount path."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"cors-errors",children:"CORS errors"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," must exactly match the web app's URL including protocol."]}),"\n",(0,b.jsxs)(c.li,{children:["After switching to a custom domain, update ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," and redeploy the API."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"custom-domain-shows-dns-not-configured",children:'Custom domain shows "DNS not configured"'}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Verify the CNAME record at your DNS provider."}),"\n",(0,b.jsx)(c.li,{children:"Wait for DNS propagation (can take up to 48 hours, usually minutes)."}),"\n",(0,b.jsx)(c.li,{children:"Ensure the CNAME target matches what Railway shows in the dashboard."}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nRailway Deployment [#railway-deployment]\n\n[Railway](https://railway.app) is a cloud platform that makes it easy to deploy applications with automatic builds, managed databases, and built-in SSL. This guide covers deploying both the LinkDen API and web app on Railway.\n\nWhy Railway? [#why-railway]\n\n* **Simple deployment**: Connect a GitHub repo and Railway handles builds and deploys.\n* **Managed infrastructure**: No servers to configure or maintain.\n* **Automatic SSL**: Custom domains get free SSL certificates instantly.\n* **Built-in databases**: One-click SQLite-compatible volumes or PostgreSQL.\n* **Generous free tier**: $5 free credit/month on the Trial plan; Hobby plan starts at $5/month.\n* **Preview environments**: Automatic deploys for pull requests.\n\nArchitecture on Railway [#architecture-on-railway]\n\nRailway runs each service as a separate container. LinkDen uses two services plus a persistent volume for the SQLite database:\n\n```\n┌──────────────────┐     ┌──────────────────┐     ┌──────────────┐\n│  Railway Service: │────▶│  Railway Service: │────▶│ Volume Mount │\n│  Web (Next.js    │     │  API (Hono on     │     │ (SQLite DB)  │\n│  static + Caddy) │     │  Node.js)         │     │              │\n└──────────────────┘     └──────────────────┘     └──────────────┘\n```\n\nPrerequisites [#prerequisites]\n\n1. A [Railway account](https://railway.app) (GitHub sign-in recommended).\n2. The LinkDen repository forked to your GitHub account (or a private repo connected to Railway).\n3. Node.js 20+ and pnpm 9+ installed locally (for initial setup).\n\nStep 1: Create a Railway Project [#step-1-create-a-railway-project]\n\n1. Log in to the [Railway dashboard](https://railway.app/dashboard).\n2. Click **New Project**.\n3. Select **Empty Project**.\n4. Name it `LinkDen`.\n\nStep 2: Deploy the API Service [#step-2-deploy-the-api-service]\n\nAdd the Service [#add-the-service]\n\n1. In your project, click **New** > **GitHub Repo**.\n2. Select the LinkDen repository.\n3. Railway detects the repo and begins a build. Cancel this initial build -- we need to configure it first.\n\nConfigure the Build [#configure-the-build]\n\n1. Click on the service to open its settings.\n2. Go to **Settings**:\n   * **Service Name**: `linkden-api`\n   * **Root Directory**: Leave empty (uses repo root)\n   * **Build Command**: Leave empty (uses Dockerfile)\n   * **Dockerfile Path**: `Dockerfile.api`\n\nIf you have not created `Dockerfile.api` yet, see the [Docker guide](/docs/self-hosting/docker) for the complete Dockerfile. Alternatively, use a Nixpacks build:\n\nAlternative: Nixpacks Build (No Dockerfile) [#alternative-nixpacks-build-no-dockerfile]\n\nRailway supports Nixpacks for automatic builds. Create a `railway.json` in the repo root:\n\n```json\n{\n  "build": {\n    "builder": "NIXPACKS"\n  },\n  "$schema": "https://railway.app/railway.schema.json"\n}\n```\n\nAnd a `nixpacks.toml` for the API:\n\n```toml\n[phases.setup]\nnixPkgs = ["nodejs_20", "sqlite"]\n\n[phases.install]\ncmds = ["corepack enable", "corepack prepare pnpm@10.29.3 --activate", "pnpm install --frozen-lockfile"]\n\n[phases.build]\ncmds = ["echo \'Build complete\'"]\n\n[start]\ncmd = "npx tsx apps/server/src/node-entry.ts"\n```\n\nHowever, the Dockerfile approach gives you more control and is recommended.\n\nAdd a Persistent Volume [#add-a-persistent-volume]\n\nSQLite needs a persistent volume so data survives redeployments:\n\n1. Click on the `linkden-api` service.\n2. Go to **Volumes**.\n3. Click **New Volume**.\n4. Set the mount path to `/data`.\n5. Click **Create**.\n\nSet Environment Variables [#set-environment-variables]\n\n1. Click on the `linkden-api` service.\n2. Go to **Variables**.\n3. Add each variable:\n\n| Variable               | Value                                                                       |\n| ---------------------- | --------------------------------------------------------------------------- |\n| `BETTER_AUTH_SECRET`   | A strong random secret (generate with `openssl rand -base64 32`)            |\n| `BETTER_AUTH_URL`      | `https://linkden-api-production.up.railway.app` (or your custom API domain) |\n| `CORS_ORIGIN`          | `https://yourdomain.com` (update after setting up custom domain)            |\n| `DATABASE_URL`         | `file:/data/linkden.db`                                                     |\n| `PORT`                 | `8787`                                                                      |\n| `RESEND_API_KEY`       | `re_...` (optional)                                                         |\n| `RESEND_FROM_EMAIL`    | `contact@yourdomain.com` (optional)                                         |\n| `TURNSTILE_SECRET_KEY` | `0x...` (optional)                                                          |\n\n4. Click **Deploy** to trigger a build with the new configuration.\n\nExpose the Service [#expose-the-service]\n\n1. Go to **Settings** > **Networking**.\n2. Under **Public Networking**, click **Generate Domain** to get a Railway-provided URL (e.g., `linkden-api-production.up.railway.app`).\n3. Note this URL -- you need it for the web app\'s `NEXT_PUBLIC_SERVER_URL`.\n\nStep 3: Deploy the Web App [#step-3-deploy-the-web-app]\n\nAdd a Second Service [#add-a-second-service]\n\n1. In the same Railway project, click **New** > **GitHub Repo**.\n2. Select the same LinkDen repository again.\n3. Configure it as a separate service.\n\nConfigure the Build [#configure-the-build-1]\n\n1. Click on the new service and go to **Settings**:\n   * **Service Name**: `linkden-web`\n   * **Dockerfile Path**: `Dockerfile.web`\n\nSet Environment Variables (Build Args) [#set-environment-variables-build-args]\n\nSince `NEXT_PUBLIC_*` variables must be present at build time, add them as variables:\n\n| Variable                         | Value                                                                       |\n| -------------------------------- | --------------------------------------------------------------------------- |\n| `NEXT_PUBLIC_SERVER_URL`         | `https://linkden-api-production.up.railway.app` (or your custom API domain) |\n| `NEXT_PUBLIC_SITE_URL`           | `https://linkden-web-production.up.railway.app` (or your custom domain)     |\n| `NEXT_PUBLIC_SITE_NAME`          | `LinkDen`                                                                   |\n| `NEXT_PUBLIC_TURNSTILE_SITE_KEY` | (optional)                                                                  |\n| `PORT`                           | `3001`                                                                      |\n\nExpose the Service [#expose-the-service-1]\n\n1. Go to **Settings** > **Networking**.\n2. Click **Generate Domain** to get a public URL.\n3. Visit the URL to verify the web app is running.\n\nStep 4: Set Up Custom Domains [#step-4-set-up-custom-domains]\n\nAdd a Custom Domain for the Web App [#add-a-custom-domain-for-the-web-app]\n\n1. Click on the `linkden-web` service.\n2. Go to **Settings** > **Networking** > **Custom Domain**.\n3. Enter your domain (e.g., `yourdomain.com` or `links.yourdomain.com`).\n4. Railway shows you a CNAME record to add at your DNS provider.\n\nAt your DNS provider, add the record:\n\n| Type  | Name             | Target                                  |\n| ----- | ---------------- | --------------------------------------- |\n| CNAME | `@` or subdomain | `linkden-web-production.up.railway.app` |\n\nAdd a Custom Domain for the API [#add-a-custom-domain-for-the-api]\n\n1. Click on the `linkden-api` service.\n2. Go to **Settings** > **Networking** > **Custom Domain**.\n3. Enter your API domain (e.g., `api.yourdomain.com`).\n4. Add the CNAME record at your DNS provider.\n\nUpdate Environment Variables [#update-environment-variables]\n\nAfter setting up custom domains, update the URLs:\n\n**API service variables:**\n\n```\nCORS_ORIGIN=https://yourdomain.com\nBETTER_AUTH_URL=https://api.yourdomain.com\n```\n\n**Web service variables:**\n\n```\nNEXT_PUBLIC_SERVER_URL=https://api.yourdomain.com\nNEXT_PUBLIC_SITE_URL=https://yourdomain.com\n```\n\nRedeploy both services for changes to take effect.\n\nSSL Certificates [#ssl-certificates]\n\nRailway automatically provisions and renews SSL certificates for custom domains. No configuration is needed. SSL is active within minutes of DNS propagation.\n\nStep 5: Database Setup [#step-5-database-setup]\n\nSQLite with Persistent Volume (Default) [#sqlite-with-persistent-volume-default]\n\nThe persistent volume mounted at `/data` stores the SQLite database file. This is the simplest approach and works well for single-instance deployments.\n\nEnsure:\n\n* `DATABASE_URL=file:/data/linkden.db` is set on the API service.\n* A volume is mounted at `/data`.\n\nPostgreSQL Alternative (Advanced) [#postgresql-alternative-advanced]\n\nIf you prefer a managed PostgreSQL database for better concurrency:\n\n1. In the Railway project, click **New** > **Database** > **PostgreSQL**.\n2. Railway provisions a PostgreSQL instance and provides a `DATABASE_URL`.\n3. Copy the `DATABASE_URL` to the API service variables.\n\nThis requires modifying `packages/db` to use the Drizzle PostgreSQL driver instead of SQLite. This is an advanced configuration and beyond the default LinkDen setup.\n\nStep 6: First-Time Auth Setup [#step-6-first-time-auth-setup]\n\nAfter both services are deployed:\n\n1. Visit your web app URL (e.g., `https://yourdomain.com/admin/setup`).\n2. Complete the setup wizard to create your admin account (name, email, and password).\n3. After setup is complete, sign in at `/admin/login`.\n4. Create a test link in the admin panel.\n5. Visit the public page and verify the link appears.\n6. Check analytics data is being recorded.\n\nMonitoring [#monitoring]\n\nService Logs [#service-logs]\n\n1. Click on a service in the Railway dashboard.\n2. Go to **Deployments** > click the latest deployment > **Logs**.\n3. View real-time application logs.\n\nMetrics [#metrics]\n\nRailway provides built-in metrics for each service:\n\n* **CPU usage**\n* **Memory usage**\n* **Network traffic**\n* **Disk usage** (for volumes)\n\nAccess metrics from the service dashboard.\n\nDeploy Notifications [#deploy-notifications]\n\nRailway can send notifications for deployments via:\n\n* Email\n* Slack (via Railway\'s integration)\n* Webhooks\n\nConfigure under **Project Settings** > **Integrations**.\n\nUpdating LinkDen [#updating-linkden]\n\nAutomatic Deployments [#automatic-deployments]\n\nIf your repository is connected via GitHub, Railway automatically redeploys when you push to the configured branch.\n\n1. Push changes to your repo.\n2. Railway detects the change and triggers a new build.\n3. The new version is deployed with zero downtime (rolling deployment).\n\nManual Redeployment [#manual-redeployment]\n\n1. Go to the service in the Railway dashboard.\n2. Click **Deploy** > **Redeploy**.\n\nRolling Back [#rolling-back]\n\nIf a deployment has issues:\n\n1. Go to the service > **Deployments**.\n2. Find the previous working deployment.\n3. Click the three-dot menu > **Rollback**.\n\nCosts [#costs]\n\nRailway pricing (as of 2025):\n\n| Plan      | Cost                   | Resources                         |\n| --------- | ---------------------- | --------------------------------- |\n| **Trial** | Free ($5 credit/month) | 512 MB RAM, shared CPU, 1 GB disk |\n| **Hobby** | $5/month               | 8 GB RAM, 8 vCPU, 100 GB disk     |\n| **Pro**   | $20/month per seat     | Team features, higher limits      |\n\nUsage-based pricing on top of the base plan:\n\n* **Compute**: $0.000231/min per vCPU\n* **Memory**: $0.000231/min per GB\n* **Network egress**: $0.10/GB\n* **Volume storage**: $0.25/GB per month\n\n**Typical LinkDen costs:**\n\nA single-user LinkDen instance with low traffic typically uses:\n\n* \\~0.1 vCPU average\n* \\~256 MB RAM per service\n* \\< 1 GB volume storage\n* Minimal network egress\n\nThis fits comfortably within the **Hobby plan** ($5/month) with minimal additional usage charges. The Trial plan\'s $5 free credit may cover it for light usage.\n\nTroubleshooting [#troubleshooting]\n\nBuild fails [#build-fails]\n\n* Check the build logs in Railway for specific errors.\n* Ensure `Dockerfile.api` and `Dockerfile.web` exist in the repository root.\n* Verify all build arguments are set as environment variables.\n\n"502 Bad Gateway" or "Application failed to respond" [#502-bad-gateway-or-application-failed-to-respond]\n\n* The service may not be listening on the correct port. Ensure the `PORT` environment variable matches the port your application listens on.\n* Check the deploy logs for startup errors.\n* Verify the health check is passing.\n\nDatabase resets on redeployment [#database-resets-on-redeployment]\n\n* Ensure a persistent volume is attached to the API service at `/data`.\n* Verify `DATABASE_URL` points to a file inside the volume mount path.\n\nCORS errors [#cors-errors]\n\n* `CORS_ORIGIN` must exactly match the web app\'s URL including protocol.\n* After switching to a custom domain, update `CORS_ORIGIN` and redeploy the API.\n\nCustom domain shows "DNS not configured" [#custom-domain-shows-dns-not-configured]\n\n* Verify the CNAME record at your DNS provider.\n* Wait for DNS propagation (can take up to 48 hours, usually minutes).\n* Ensure the CNAME target matches what Railway shows in the dashboard.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},65545,a=>{"use strict";var b=a.i(69819);let c={title:"Environment Variables",description:"Complete reference of all environment variables used by LinkDen."},d={contents:[{heading:"environment-variables-reference",content:"This page is the definitive reference for every environment variable used by LinkDen."},{heading:"quick-start",content:"LinkDen uses a single .env file at the monorepo root:"},{heading:"required-variables",content:"Variable"},{heading:"required-variables",content:"Description"},{heading:"required-variables",content:"Example"},{heading:"required-variables",content:"BETTER_AUTH_SECRET"},{heading:"required-variables",content:"Secret key for Better Auth session signing"},{heading:"required-variables",content:"Generate with openssl rand -base64 32"},{heading:"required-variables",content:"BETTER_AUTH_URL"},{heading:"required-variables",content:"Base URL for the auth server (API server URL)"},{heading:"required-variables",content:"http://localhost:3000"},{heading:"required-variables",content:"CORS_ORIGIN"},{heading:"required-variables",content:"Allowed CORS origin (frontend URL). Must exactly match including protocol."},{heading:"required-variables",content:"http://localhost:3001"},{heading:"required-variables",content:"NEXT_PUBLIC_SERVER_URL"},{heading:"required-variables",content:"Public URL of the API server used by the Next.js frontend"},{heading:"required-variables",content:"http://localhost:3000"},{heading:"runtime-configuration",content:"Most configuration that was previously done through environment variables is now managed through the admin settings UI at /admin/settings and stored in the database. This includes:"},{heading:"runtime-configuration",content:"Setting"},{heading:"runtime-configuration",content:"Configured In"},{heading:"runtime-configuration",content:"Email provider and API key"},{heading:"runtime-configuration",content:"Settings > Email"},{heading:"runtime-configuration",content:"CAPTCHA provider and keys"},{heading:"runtime-configuration",content:"Settings > CAPTCHA"},{heading:"runtime-configuration",content:"Apple Wallet Team ID, Pass Type ID"},{heading:"runtime-configuration",content:"Settings > Apple Wallet"},{heading:"runtime-configuration",content:"Branding / whitelabel"},{heading:"runtime-configuration",content:"Settings > Branding"},{heading:"runtime-configuration",content:"Contact form delivery mode"},{heading:"runtime-configuration",content:"Settings > Contact Form"},{heading:"runtime-configuration",content:"This approach keeps the .env file minimal (4 variables) and allows changing settings without redeploying."},{heading:"cloudflare-deployment-variables",content:"When deploying to Cloudflare using Alchemy, you also need:"},{heading:"cloudflare-deployment-variables",content:"Variable"},{heading:"cloudflare-deployment-variables",content:"Description"},{heading:"cloudflare-deployment-variables",content:"Required"},{heading:"cloudflare-deployment-variables",content:"CLOUDFLARE_API_TOKEN"},{heading:"cloudflare-deployment-variables",content:"Cloudflare API token with Workers, Pages, D1 permissions"},{heading:"cloudflare-deployment-variables",content:"For Cloudflare deploy"},{heading:"cloudflare-deployment-variables",content:"CLOUDFLARE_ACCOUNT_ID"},{heading:"cloudflare-deployment-variables",content:"Your Cloudflare account ID"},{heading:"cloudflare-deployment-variables",content:"For Cloudflare deploy"},{heading:"generating-a-cloudflare-api-token",content:"Go to Cloudflare API Tokens."},{heading:"generating-a-cloudflare-api-token",content:"Click Create Token and use the Custom token template."},{heading:"generating-a-cloudflare-api-token",content:"Add permissions:"},{heading:"generating-a-cloudflare-api-token",content:"Scope"},{heading:"generating-a-cloudflare-api-token",content:"Resource"},{heading:"generating-a-cloudflare-api-token",content:"Access"},{heading:"generating-a-cloudflare-api-token",content:"Account"},{heading:"generating-a-cloudflare-api-token",content:"Cloudflare Pages"},{heading:"generating-a-cloudflare-api-token",content:"Edit"},{heading:"generating-a-cloudflare-api-token",content:"Account"},{heading:"generating-a-cloudflare-api-token",content:"Cloudflare Workers Scripts"},{heading:"generating-a-cloudflare-api-token",content:"Edit"},{heading:"generating-a-cloudflare-api-token",content:"Account"},{heading:"generating-a-cloudflare-api-token",content:"D1"},{heading:"generating-a-cloudflare-api-token",content:"Edit"},{heading:"generating-a-cloudflare-api-token",content:"Account"},{heading:"generating-a-cloudflare-api-token",content:"Workers KV Storage"},{heading:"generating-a-cloudflare-api-token",content:"Edit"},{heading:"finding-your-account-id",content:"Go to the Cloudflare dashboard. Your Account ID is in the right sidebar under Account details."},{heading:"environment-variables-by-hosting-platform",content:"Platform"},{heading:"environment-variables-by-hosting-platform",content:"How to Set Variables"},{heading:"environment-variables-by-hosting-platform",content:"Cloudflare"},{heading:"environment-variables-by-hosting-platform",content:'Workers > Settings > Variables (use "Encrypt" for secrets)'},{heading:"environment-variables-by-hosting-platform",content:"Docker"},{heading:"environment-variables-by-hosting-platform",content:".env file or docker-compose.yml environment block"},{heading:"environment-variables-by-hosting-platform",content:"Coolify"},{heading:"environment-variables-by-hosting-platform",content:"Coolify UI > Service > Environment Variables"},{heading:"environment-variables-by-hosting-platform",content:"Railway"},{heading:"environment-variables-by-hosting-platform",content:"Railway dashboard > Service > Variables"},{heading:"security-best-practices",content:"Never commit .env files to version control. They are included in .gitignore."},{heading:"security-best-practices",content:"Generate a strong secret for BETTER_AUTH_SECRET using openssl rand -base64 32."},{heading:"security-best-practices",content:"Use different secrets for development and production."},{heading:"security-best-practices",content:"Encrypt sensitive variables when your platform supports it."},{heading:"api-returns-cors-errors",content:"CORS_ORIGIN must exactly match the web app URL including the protocol (https://) and must not have a trailing slash."},{heading:"api-returns-cors-errors",content:"For local development, set CORS_ORIGIN=http://localhost:3001."},{heading:"authentication-not-working",content:"Verify BETTER_AUTH_SECRET is set."},{heading:"authentication-not-working",content:"Verify BETTER_AUTH_URL matches the actual URL where the API server is running."},{heading:"authentication-not-working",content:"For cross-origin setups, ensure CORS_ORIGIN is correct."},{heading:"environment-variable-changes-not-taking-effect",content:"NEXT_PUBLIC_SERVER_URL is baked into the frontend build. Changing it requires a rebuild."},{heading:"environment-variable-changes-not-taking-effect",content:"Server-side variables take effect on the next request (no rebuild needed)."},{heading:"environment-variable-changes-not-taking-effect",content:"Docker: Restart the container after changing environment variables."}],headings:[{id:"environment-variables-reference",content:"Environment Variables Reference"},{id:"quick-start",content:"Quick Start"},{id:"required-variables",content:"Required Variables"},{id:"runtime-configuration",content:"Runtime Configuration"},{id:"cloudflare-deployment-variables",content:"Cloudflare Deployment Variables"},{id:"generating-a-cloudflare-api-token",content:"Generating a Cloudflare API Token"},{id:"finding-your-account-id",content:"Finding Your Account ID"},{id:"complete-env-example",content:"Complete .env Example"},{id:"environment-variables-by-hosting-platform",content:"Environment Variables by Hosting Platform"},{id:"security-best-practices",content:"Security Best Practices"},{id:"troubleshooting",content:"Troubleshooting"},{id:"api-returns-cors-errors",content:"API returns CORS errors"},{id:"authentication-not-working",content:"Authentication not working"},{id:"environment-variable-changes-not-taking-effect",content:"Environment variable changes not taking effect"}]},e=[{depth:1,url:"#environment-variables-reference",title:(0,b.jsx)(b.Fragment,{children:"Environment Variables Reference"})},{depth:2,url:"#quick-start",title:(0,b.jsx)(b.Fragment,{children:"Quick Start"})},{depth:2,url:"#required-variables",title:(0,b.jsx)(b.Fragment,{children:"Required Variables"})},{depth:2,url:"#runtime-configuration",title:(0,b.jsx)(b.Fragment,{children:"Runtime Configuration"})},{depth:2,url:"#cloudflare-deployment-variables",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare Deployment Variables"})},{depth:3,url:"#generating-a-cloudflare-api-token",title:(0,b.jsx)(b.Fragment,{children:"Generating a Cloudflare API Token"})},{depth:3,url:"#finding-your-account-id",title:(0,b.jsx)(b.Fragment,{children:"Finding Your Account ID"})},{depth:2,url:"#complete-env-example",title:(0,b.jsxs)(b.Fragment,{children:["Complete ",(0,b.jsx)("code",{children:".env"})," Example"]})},{depth:2,url:"#environment-variables-by-hosting-platform",title:(0,b.jsx)(b.Fragment,{children:"Environment Variables by Hosting Platform"})},{depth:2,url:"#security-best-practices",title:(0,b.jsx)(b.Fragment,{children:"Security Best Practices"})},{depth:2,url:"#troubleshooting",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#api-returns-cors-errors",title:(0,b.jsx)(b.Fragment,{children:"API returns CORS errors"})},{depth:3,url:"#authentication-not-working",title:(0,b.jsx)(b.Fragment,{children:"Authentication not working"})},{depth:3,url:"#environment-variable-changes-not-taking-effect",title:(0,b.jsx)(b.Fragment,{children:"Environment variable changes not taking effect"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"environment-variables-reference",children:"Environment Variables Reference"}),"\n",(0,b.jsx)(c.p,{children:"This page is the definitive reference for every environment variable used by LinkDen."}),"\n",(0,b.jsx)(c.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen uses a single ",(0,b.jsx)(c.code,{children:".env"})," file at the monorepo root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env.example"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"required-variables",children:"Required Variables"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Description"}),(0,b.jsx)(c.th,{children:"Example"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsx)(c.td,{children:"Secret key for Better Auth session signing"}),(0,b.jsxs)(c.td,{children:["Generate with ",(0,b.jsx)(c.code,{children:"openssl rand -base64 32"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsx)(c.td,{children:"Base URL for the auth server (API server URL)"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3000"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsx)(c.td,{children:"Allowed CORS origin (frontend URL). Must exactly match including protocol."}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3001"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})}),(0,b.jsx)(c.td,{children:"Public URL of the API server used by the Next.js frontend"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3000"})})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"runtime-configuration",children:"Runtime Configuration"}),"\n",(0,b.jsxs)(c.p,{children:["Most configuration that was previously done through environment variables is now managed through the admin settings UI at ",(0,b.jsx)(c.code,{children:"/admin/settings"})," and stored in the database. This includes:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Setting"}),(0,b.jsx)(c.th,{children:"Configured In"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Email provider and API key"}),(0,b.jsx)(c.td,{children:"Settings > Email"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"CAPTCHA provider and keys"}),(0,b.jsx)(c.td,{children:"Settings > CAPTCHA"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Apple Wallet Team ID, Pass Type ID"}),(0,b.jsx)(c.td,{children:"Settings > Apple Wallet"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Branding / whitelabel"}),(0,b.jsx)(c.td,{children:"Settings > Branding"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Contact form delivery mode"}),(0,b.jsx)(c.td,{children:"Settings > Contact Form"})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["This approach keeps the ",(0,b.jsx)(c.code,{children:".env"})," file minimal (4 variables) and allows changing settings without redeploying."]}),"\n",(0,b.jsx)(c.h2,{id:"cloudflare-deployment-variables",children:"Cloudflare Deployment Variables"}),"\n",(0,b.jsx)(c.p,{children:"When deploying to Cloudflare using Alchemy, you also need:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Description"}),(0,b.jsx)(c.th,{children:"Required"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CLOUDFLARE_API_TOKEN"})}),(0,b.jsx)(c.td,{children:"Cloudflare API token with Workers, Pages, D1 permissions"}),(0,b.jsx)(c.td,{children:"For Cloudflare deploy"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CLOUDFLARE_ACCOUNT_ID"})}),(0,b.jsx)(c.td,{children:"Your Cloudflare account ID"}),(0,b.jsx)(c.td,{children:"For Cloudflare deploy"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"generating-a-cloudflare-api-token",children:"Generating a Cloudflare API Token"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.a,{href:"https://dash.cloudflare.com/profile/api-tokens",children:"Cloudflare API Tokens"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Create Token"})," and use the ",(0,b.jsx)(c.strong,{children:"Custom token"})," template."]}),"\n",(0,b.jsx)(c.li,{children:"Add permissions:"}),"\n"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Scope"}),(0,b.jsx)(c.th,{children:"Resource"}),(0,b.jsx)(c.th,{children:"Access"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"Cloudflare Pages"}),(0,b.jsx)(c.td,{children:"Edit"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"Cloudflare Workers Scripts"}),(0,b.jsx)(c.td,{children:"Edit"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"D1"}),(0,b.jsx)(c.td,{children:"Edit"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"Workers KV Storage"}),(0,b.jsx)(c.td,{children:"Edit"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"finding-your-account-id",children:"Finding Your Account ID"}),"\n",(0,b.jsxs)(c.p,{children:["Go to the ",(0,b.jsx)(c.a,{href:"https://dash.cloudflare.com",children:"Cloudflare dashboard"}),". Your Account ID is in the right sidebar under ",(0,b.jsx)(c.strong,{children:"Account details"}),"."]}),"\n",(0,b.jsxs)(c.h2,{id:"complete-env-example",children:["Complete ",(0,b.jsx)(c.code,{children:".env"})," Example"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Better Auth (required)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_SECRET"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-generated-secret-key"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"http://localhost:3000"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"http://localhost:3001"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SERVER_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"http://localhost:3000"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Cloudflare Deployment (only needed for Cloudflare hosting)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id"})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"environment-variables-by-hosting-platform",children:"Environment Variables by Hosting Platform"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Platform"}),(0,b.jsx)(c.th,{children:"How to Set Variables"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Cloudflare"})}),(0,b.jsx)(c.td,{children:'Workers > Settings > Variables (use "Encrypt" for secrets)'})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Docker"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:".env"})," file or ",(0,b.jsx)(c.code,{children:"docker-compose.yml"})," ",(0,b.jsx)(c.code,{children:"environment"})," block"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Coolify"})}),(0,b.jsx)(c.td,{children:"Coolify UI > Service > Environment Variables"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Railway"})}),(0,b.jsx)(c.td,{children:"Railway dashboard > Service > Variables"})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsxs)(c.strong,{children:["Never commit ",(0,b.jsx)(c.code,{children:".env"})," files"]})," to version control. They are included in ",(0,b.jsx)(c.code,{children:".gitignore"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Generate a strong secret"})," for ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," using ",(0,b.jsx)(c.code,{children:"openssl rand -base64 32"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Use different secrets"})," for development and production."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Encrypt sensitive variables"})," when your platform supports it."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,b.jsx)(c.h3,{id:"api-returns-cors-errors",children:"API returns CORS errors"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," must exactly match the web app URL including the protocol (",(0,b.jsx)(c.code,{children:"https://"}),") and must not have a trailing slash."]}),"\n",(0,b.jsxs)(c.li,{children:["For local development, set ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN=http://localhost:3001"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"authentication-not-working",children:"Authentication not working"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Verify ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," is set."]}),"\n",(0,b.jsxs)(c.li,{children:["Verify ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})," matches the actual URL where the API server is running."]}),"\n",(0,b.jsxs)(c.li,{children:["For cross-origin setups, ensure ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," is correct."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"environment-variable-changes-not-taking-effect",children:"Environment variable changes not taking effect"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})," is baked into the frontend build. Changing it requires a rebuild."]}),"\n",(0,b.jsx)(c.li,{children:"Server-side variables take effect on the next request (no rebuild needed)."}),"\n",(0,b.jsx)(c.li,{children:"Docker: Restart the container after changing environment variables."}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nEnvironment Variables Reference [#environment-variables-reference]\n\nThis page is the definitive reference for every environment variable used by LinkDen.\n\nQuick Start [#quick-start]\n\nLinkDen uses a single `.env` file at the monorepo root:\n\n```bash\ncp .env.example .env\n```\n\nRequired Variables [#required-variables]\n\n| Variable                 | Description                                                                | Example                                 |\n| ------------------------ | -------------------------------------------------------------------------- | --------------------------------------- |\n| `BETTER_AUTH_SECRET`     | Secret key for Better Auth session signing                                 | Generate with `openssl rand -base64 32` |\n| `BETTER_AUTH_URL`        | Base URL for the auth server (API server URL)                              | `http://localhost:3000`                 |\n| `CORS_ORIGIN`            | Allowed CORS origin (frontend URL). Must exactly match including protocol. | `http://localhost:3001`                 |\n| `NEXT_PUBLIC_SERVER_URL` | Public URL of the API server used by the Next.js frontend                  | `http://localhost:3000`                 |\n\nRuntime Configuration [#runtime-configuration]\n\nMost configuration that was previously done through environment variables is now managed through the admin settings UI at `/admin/settings` and stored in the database. This includes:\n\n| Setting                            | Configured In           |\n| ---------------------------------- | ----------------------- |\n| Email provider and API key         | Settings > Email        |\n| CAPTCHA provider and keys          | Settings > CAPTCHA      |\n| Apple Wallet Team ID, Pass Type ID | Settings > Apple Wallet |\n| Branding / whitelabel              | Settings > Branding     |\n| Contact form delivery mode         | Settings > Contact Form |\n\nThis approach keeps the `.env` file minimal (4 variables) and allows changing settings without redeploying.\n\nCloudflare Deployment Variables [#cloudflare-deployment-variables]\n\nWhen deploying to Cloudflare using Alchemy, you also need:\n\n| Variable                | Description                                              | Required              |\n| ----------------------- | -------------------------------------------------------- | --------------------- |\n| `CLOUDFLARE_API_TOKEN`  | Cloudflare API token with Workers, Pages, D1 permissions | For Cloudflare deploy |\n| `CLOUDFLARE_ACCOUNT_ID` | Your Cloudflare account ID                               | For Cloudflare deploy |\n\nGenerating a Cloudflare API Token [#generating-a-cloudflare-api-token]\n\n1. Go to [Cloudflare API Tokens](https://dash.cloudflare.com/profile/api-tokens).\n2. Click **Create Token** and use the **Custom token** template.\n3. Add permissions:\n\n| Scope   | Resource                   | Access |\n| ------- | -------------------------- | ------ |\n| Account | Cloudflare Pages           | Edit   |\n| Account | Cloudflare Workers Scripts | Edit   |\n| Account | D1                         | Edit   |\n| Account | Workers KV Storage         | Edit   |\n\nFinding Your Account ID [#finding-your-account-id]\n\nGo to the [Cloudflare dashboard](https://dash.cloudflare.com). Your Account ID is in the right sidebar under **Account details**.\n\nComplete .env Example [#complete-env-example]\n\n```bash\n# Better Auth (required)\nBETTER_AUTH_SECRET=your-generated-secret-key\nBETTER_AUTH_URL=http://localhost:3000\nCORS_ORIGIN=http://localhost:3001\nNEXT_PUBLIC_SERVER_URL=http://localhost:3000\n\n# Cloudflare Deployment (only needed for Cloudflare hosting)\n# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token\n# CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id\n```\n\nEnvironment Variables by Hosting Platform [#environment-variables-by-hosting-platform]\n\n| Platform       | How to Set Variables                                       |\n| -------------- | ---------------------------------------------------------- |\n| **Cloudflare** | Workers > Settings > Variables (use "Encrypt" for secrets) |\n| **Docker**     | `.env` file or `docker-compose.yml` `environment` block    |\n| **Coolify**    | Coolify UI > Service > Environment Variables               |\n| **Railway**    | Railway dashboard > Service > Variables                    |\n\nSecurity Best Practices [#security-best-practices]\n\n* **Never commit `.env` files** to version control. They are included in `.gitignore`.\n* **Generate a strong secret** for `BETTER_AUTH_SECRET` using `openssl rand -base64 32`.\n* **Use different secrets** for development and production.\n* **Encrypt sensitive variables** when your platform supports it.\n\nTroubleshooting [#troubleshooting]\n\nAPI returns CORS errors [#api-returns-cors-errors]\n\n* `CORS_ORIGIN` must exactly match the web app URL including the protocol (`https://`) and must not have a trailing slash.\n* For local development, set `CORS_ORIGIN=http://localhost:3001`.\n\nAuthentication not working [#authentication-not-working]\n\n* Verify `BETTER_AUTH_SECRET` is set.\n* Verify `BETTER_AUTH_URL` matches the actual URL where the API server is running.\n* For cross-origin setups, ensure `CORS_ORIGIN` is correct.\n\nEnvironment variable changes not taking effect [#environment-variable-changes-not-taking-effect]\n\n* `NEXT_PUBLIC_SERVER_URL` is baked into the frontend build. Changing it requires a rebuild.\n* Server-side variables take effect on the next request (no rebuild needed).\n* Docker: Restart the container after changing environment variables.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},81194,a=>{"use strict";var b=a.i(69819);let c={title:"Docker",description:"Self-host LinkDen with Docker and Docker Compose for full control over your deployment."},d={contents:[{heading:"docker-self-hosting",content:"This guide covers deploying LinkDen using Docker on any Linux server, VPS, or local machine. Docker gives you full control over the runtime environment, networking, and data storage."},{heading:"architecture",content:"The Docker deployment runs three components:"},{heading:"architecture",content:"Web app: Next.js static export served by Caddy (or Nginx)."},{heading:"architecture",content:"API server: Hono running on Node.js with @hono/node-server."},{heading:"architecture",content:"Database: SQLite file on a persistent Docker volume."},{heading:"prerequisites",content:"Docker 20.10+ and Docker Compose v2+ installed on your server."},{heading:"prerequisites",content:"A domain name pointed at your server (for SSL)."},{heading:"quick-start",content:"For those who want to get running fast:"},{heading:"quick-start",content:"The rest of this guide breaks down each component in detail."},{heading:"project-structure",content:"Create these files in the repository root:"},{heading:"dockerfile-for-the-api-server",content:"Create Dockerfile.api:"},{heading:"nodejs-entry-point",content:"The Hono server is built for Cloudflare Workers. To run it on Node.js, create apps/server/src/node-entry.ts:"},{heading:"nodejs-entry-point",content:"Install the required dependency:"},{heading:"nodejs-entry-point",content:"For the database driver, install better-sqlite3 or @libsql/client in packages/db:"},{heading:"dockerfile-for-the-web-app",content:"Create Dockerfile.web:"},{heading:"docker-compose",content:"Create docker-compose.yml:"},{heading:"environment-variables",content:"Create a .env file in the project root:"},{heading:"environment-variables",content:"Generate a secure BETTER_AUTH_SECRET with:"},{heading:"environment-variables",content:"See the Environment Variables reference for all available options."},{heading:"first-time-setup",content:"After starting the containers for the first time, visit http://localhost:3001/admin/setup (or your production URL's /admin/setup) to complete the setup wizard. This creates your admin account with your chosen email and password."},{heading:"first-time-setup",content:"After setup, sign in at /admin/login."},{heading:"reverse-proxy-setup",content:"In production, you should place a reverse proxy in front of the Docker containers to handle SSL termination and route traffic."},{heading:"option-a-caddy-recommended",content:"Caddy automatically obtains and renews Let's Encrypt SSL certificates."},{heading:"option-a-caddy-recommended",content:"Add a caddy service to your docker-compose.yml:"},{heading:"option-a-caddy-recommended",content:"Create Caddyfile in the project root:"},{heading:"option-a-caddy-recommended",content:"That is the entire Caddy configuration. Caddy automatically:"},{heading:"option-a-caddy-recommended",content:"Obtains Let's Encrypt SSL certificates for both domains."},{heading:"option-a-caddy-recommended",content:"Redirects HTTP to HTTPS."},{heading:"option-a-caddy-recommended",content:"Renews certificates before they expire."},{heading:"option-a-caddy-recommended",content:"When using Caddy as the external reverse proxy, remove the ports mapping from the api and web services (they are only accessible through Caddy's internal Docker network):"},{heading:"option-b-nginx",content:"If you prefer Nginx, add it to docker-compose.yml:"},{heading:"option-b-nginx",content:"Create nginx.conf:"},{heading:"option-b-nginx",content:"For Nginx, you need to manually manage SSL certificates. Use Certbot:"},{heading:"volume-mounts-for-sqlite-persistence",content:"The SQLite database is stored in a named Docker volume (linkden-data) mounted at /data inside the API container. This ensures data survives container restarts, image rebuilds, and redeployments."},{heading:"automated-backups",content:"Create a cron job for daily backups:"},{heading:"automated-backups",content:"This backs up daily at 3 AM and deletes backups older than 30 days."},{heading:"health-checks",content:"Both Dockerfiles include health checks that Docker uses to monitor container health:"},{heading:"health-checks",content:"API: Sends an HTTP request to http://localhost:8787/ every 30 seconds."},{heading:"health-checks",content:"Web: Sends an HTTP request to http://localhost:3001/ every 30 seconds."},{heading:"health-checks",content:"Check health status:"},{heading:"health-checks",content:"The web service has a depends_on condition that waits for the api to be healthy before starting, ensuring the API is available when the web app comes up."},{heading:"updating-linkden",content:"To update to a new version:"},{heading:"updating-linkden",content:"The SQLite database is on a persistent volume, so data is preserved across rebuilds."},{heading:"updating-linkden",content:"If the update includes database schema changes, they are applied automatically when the API server starts (Drizzle ORM handles migrations)."},{heading:"production-checklist",content:"Before going live, verify:"},{heading:"production-checklist",content:"BETTER_AUTH_SECRET is set to a strong random value"},{heading:"production-checklist",content:"BETTER_AUTH_URL matches the API's production URL"},{heading:"production-checklist",content:"CORS_ORIGIN matches the web app's production URL exactly (including https://, no trailing slash)"},{heading:"production-checklist",content:"NEXT_PUBLIC_SERVER_URL points to the API's production URL"},{heading:"production-checklist",content:"NEXT_PUBLIC_SITE_URL matches the web app's production URL"},{heading:"production-checklist",content:"SSL is working (lock icon in browser)"},{heading:"production-checklist",content:"Persistent volume is configured for /data"},{heading:"production-checklist",content:'Health checks are passing (docker compose ps shows "healthy")'},{heading:"production-checklist",content:"Automatic container restart is enabled (restart: unless-stopped)"},{heading:"production-checklist",content:"Database backups are configured"},{heading:"production-checklist",content:"Firewall rules allow only ports 80 and 443 from the internet"},{heading:"production-checklist",content:"Setup wizard completed at /admin/setup"},{heading:"container-keeps-restarting",content:"Common causes:"},{heading:"container-keeps-restarting",content:"Missing required environment variables"},{heading:"container-keeps-restarting",content:"Port conflict (another process using 8787 or 3001)"},{heading:"container-keeps-restarting",content:"Out of memory (increase server RAM or Docker memory limits)"},{heading:"cors-error-in-the-browser",content:"CORS_ORIGIN on the API must exactly match the web app URL."},{heading:"cors-error-in-the-browser",content:"If using a reverse proxy, ensure it forwards the Origin header."},{heading:"cors-error-in-the-browser",content:"Check that the API is accessible from the browser (visit the API URL directly)."},{heading:"database-file-is-empty-after-restart",content:"Verify the volume is mounted: docker inspect linkden-api | grep Mounts -A 20"},{heading:"database-file-is-empty-after-restart",content:"Ensure DATABASE_URL=file:/data/linkden.db (path must be inside the mounted volume)."},{heading:"database-file-is-empty-after-restart",content:"Check that the volume was not accidentally removed with docker compose down -v."},{heading:"build-fails-with-out-of-memory-error",content:"Next.js builds can be memory-intensive. Increase the Docker memory limit:"},{heading:"cannot-connect-to-api-from-web-app",content:"If both containers are on the same Docker network, use the service name (api) as the hostname."},{heading:"cannot-connect-to-api-from-web-app",content:"For NEXT_PUBLIC_SERVER_URL, use the external URL that the browser can reach (not the internal Docker hostname)."},{heading:"cannot-connect-to-api-from-web-app",content:"Verify the API container is healthy: docker compose ps."}],headings:[{id:"docker-self-hosting",content:"Docker Self-Hosting"},{id:"architecture",content:"Architecture"},{id:"prerequisites",content:"Prerequisites"},{id:"quick-start",content:"Quick Start"},{id:"project-structure",content:"Project Structure"},{id:"dockerfile-for-the-api-server",content:"Dockerfile for the API Server"},{id:"nodejs-entry-point",content:"Node.js Entry Point"},{id:"dockerfile-for-the-web-app",content:"Dockerfile for the Web App"},{id:"docker-compose",content:"Docker Compose"},{id:"environment-variables",content:"Environment Variables"},{id:"first-time-setup",content:"First-Time Setup"},{id:"building-and-starting",content:"Building and Starting"},{id:"reverse-proxy-setup",content:"Reverse Proxy Setup"},{id:"option-a-caddy-recommended",content:"Option A: Caddy (Recommended)"},{id:"option-b-nginx",content:"Option B: Nginx"},{id:"volume-mounts-for-sqlite-persistence",content:"Volume Mounts for SQLite Persistence"},{id:"inspect-the-volume",content:"Inspect the Volume"},{id:"back-up-the-database",content:"Back Up the Database"},{id:"restore-from-backup",content:"Restore from Backup"},{id:"automated-backups",content:"Automated Backups"},{id:"health-checks",content:"Health Checks"},{id:"updating-linkden",content:"Updating LinkDen"},{id:"production-checklist",content:"Production Checklist"},{id:"troubleshooting",content:"Troubleshooting"},{id:"container-keeps-restarting",content:"Container keeps restarting"},{id:"cors-error-in-the-browser",content:'"CORS error" in the browser'},{id:"database-file-is-empty-after-restart",content:"Database file is empty after restart"},{id:"build-fails-with-out-of-memory-error",content:"Build fails with out-of-memory error"},{id:"cannot-connect-to-api-from-web-app",content:"Cannot connect to API from web app"}]},e=[{depth:1,url:"#docker-self-hosting",title:(0,b.jsx)(b.Fragment,{children:"Docker Self-Hosting"})},{depth:2,url:"#architecture",title:(0,b.jsx)(b.Fragment,{children:"Architecture"})},{depth:2,url:"#prerequisites",title:(0,b.jsx)(b.Fragment,{children:"Prerequisites"})},{depth:2,url:"#quick-start",title:(0,b.jsx)(b.Fragment,{children:"Quick Start"})},{depth:2,url:"#project-structure",title:(0,b.jsx)(b.Fragment,{children:"Project Structure"})},{depth:2,url:"#dockerfile-for-the-api-server",title:(0,b.jsx)(b.Fragment,{children:"Dockerfile for the API Server"})},{depth:3,url:"#nodejs-entry-point",title:(0,b.jsx)(b.Fragment,{children:"Node.js Entry Point"})},{depth:2,url:"#dockerfile-for-the-web-app",title:(0,b.jsx)(b.Fragment,{children:"Dockerfile for the Web App"})},{depth:2,url:"#docker-compose",title:(0,b.jsx)(b.Fragment,{children:"Docker Compose"})},{depth:2,url:"#environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Environment Variables"})},{depth:2,url:"#first-time-setup",title:(0,b.jsx)(b.Fragment,{children:"First-Time Setup"})},{depth:2,url:"#building-and-starting",title:(0,b.jsx)(b.Fragment,{children:"Building and Starting"})},{depth:2,url:"#reverse-proxy-setup",title:(0,b.jsx)(b.Fragment,{children:"Reverse Proxy Setup"})},{depth:3,url:"#option-a-caddy-recommended",title:(0,b.jsx)(b.Fragment,{children:"Option A: Caddy (Recommended)"})},{depth:3,url:"#option-b-nginx",title:(0,b.jsx)(b.Fragment,{children:"Option B: Nginx"})},{depth:2,url:"#volume-mounts-for-sqlite-persistence",title:(0,b.jsx)(b.Fragment,{children:"Volume Mounts for SQLite Persistence"})},{depth:3,url:"#inspect-the-volume",title:(0,b.jsx)(b.Fragment,{children:"Inspect the Volume"})},{depth:3,url:"#back-up-the-database",title:(0,b.jsx)(b.Fragment,{children:"Back Up the Database"})},{depth:3,url:"#restore-from-backup",title:(0,b.jsx)(b.Fragment,{children:"Restore from Backup"})},{depth:3,url:"#automated-backups",title:(0,b.jsx)(b.Fragment,{children:"Automated Backups"})},{depth:2,url:"#health-checks",title:(0,b.jsx)(b.Fragment,{children:"Health Checks"})},{depth:2,url:"#updating-linkden",title:(0,b.jsx)(b.Fragment,{children:"Updating LinkDen"})},{depth:2,url:"#production-checklist",title:(0,b.jsx)(b.Fragment,{children:"Production Checklist"})},{depth:2,url:"#troubleshooting",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#container-keeps-restarting",title:(0,b.jsx)(b.Fragment,{children:"Container keeps restarting"})},{depth:3,url:"#cors-error-in-the-browser",title:(0,b.jsx)(b.Fragment,{children:'"CORS error" in the browser'})},{depth:3,url:"#database-file-is-empty-after-restart",title:(0,b.jsx)(b.Fragment,{children:"Database file is empty after restart"})},{depth:3,url:"#build-fails-with-out-of-memory-error",title:(0,b.jsx)(b.Fragment,{children:"Build fails with out-of-memory error"})},{depth:3,url:"#cannot-connect-to-api-from-web-app",title:(0,b.jsx)(b.Fragment,{children:"Cannot connect to API from web app"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",input:"input",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"docker-self-hosting",children:"Docker Self-Hosting"}),"\n",(0,b.jsx)(c.p,{children:"This guide covers deploying LinkDen using Docker on any Linux server, VPS, or local machine. Docker gives you full control over the runtime environment, networking, and data storage."}),"\n",(0,b.jsx)(c.h2,{id:"architecture",children:"Architecture"}),"\n",(0,b.jsx)(c.p,{children:"The Docker deployment runs three components:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"┌──────────────┐     ┌──────────────────┐     ┌───────────────┐"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Caddy/Nginx │────▶│  Hono API Server │────▶│ SQLite Volume │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  (static web │     │  (Node.js)       │     │ (/data/)      │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│   + reverse  │     │  Port 8787       │     │               │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│   proxy)     │     └──────────────────┘     └───────────────┘"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Port 80/443 │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"└──────────────┘"})})]})})}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Web app"}),": Next.js static export served by Caddy (or Nginx)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"API server"}),": Hono running on Node.js with ",(0,b.jsx)(c.code,{children:"@hono/node-server"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Database"}),": SQLite file on a persistent Docker volume."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Docker"})," 20.10+ and ",(0,b.jsx)(c.strong,{children:"Docker Compose"})," v2+ installed on your server."]}),"\n",(0,b.jsx)(c.li,{children:"A domain name pointed at your server (for SSL)."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,b.jsx)(c.p,{children:"For those who want to get running fast:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clone"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://github.com/mrdemonwolf/linkden.git"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" LinkDen"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env.example"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Edit .env with your values (see below)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" up"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"The rest of this guide breaks down each component in detail."}),"\n",(0,b.jsx)(c.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,b.jsx)(c.p,{children:"Create these files in the repository root:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"LinkDen/"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"├── Dockerfile.api          # API server container"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"├── Dockerfile.web          # Web app container"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"├── docker-compose.yml      # Orchestrates everything"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"├── Caddyfile               # Reverse proxy config (if using Caddy)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"└── .env                    # Environment variables"})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"dockerfile-for-the-api-server",children:"Dockerfile for the API Server"}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"Dockerfile.api"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" node:20-alpine "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" corepack enable && corepack prepare pnpm@10.29.3 --activate"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Install dependencies"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" deps"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" package.json pnpm-lock.yaml pnpm-workspace.yaml ./"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" apps/server/package.json apps/server/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/db/package.json packages/db/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/email/package.json packages/email/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/validators/package.json packages/validators/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm install --frozen-lockfile"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Build"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" builder"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/ ./"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" . ."})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Runtime"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" runner"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" apk add --no-cache sqlite"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=builder /app/ ./"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" mkdir -p /data"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NODE_ENV=production"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" DATABASE_URL=file:/data/linkden.db"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"EXPOSE"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" 8787"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"HEALTHCHECK"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --interval=30s --timeout=10s --start-period=5s --retries=3 \\"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  CMD"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" wget --spider -q http://localhost:8787/ || exit 1"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"CMD"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"npx"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"tsx"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"apps/server/src/node-entry.ts"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"nodejs-entry-point",children:"Node.js Entry Point"}),"\n",(0,b.jsxs)(c.p,{children:["The Hono server is built for Cloudflare Workers. To run it on Node.js, create ",(0,b.jsx)(c.code,{children:"apps/server/src/node-entry.ts"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#E1E4E8"},children:" { serve } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#9ECBFF"},children:' "@hono/node-server"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" app "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "./index"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" port"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#B392F0"},children:" Number"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#E1E4E8"},children:"(process.env."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#79B8FF"},children:"PORT"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#E1E4E8"},children:") "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"||"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#79B8FF"},children:" 8787"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"serve"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  { fetch: app.fetch, port },"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  ("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"info"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"=>"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    console."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"`LinkDen API running on http://localhost:${"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"info"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"port"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"}`"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"Install the required dependency:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" apps/server"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @hono/node-server"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["For the database driver, install ",(0,b.jsx)(c.code,{children:"better-sqlite3"})," or ",(0,b.jsx)(c.code,{children:"@libsql/client"})," in ",(0,b.jsx)(c.code,{children:"packages/db"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" packages/db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" better-sqlite3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -D"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @types/better-sqlite3"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"dockerfile-for-the-web-app",children:"Dockerfile for the Web App"}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"Dockerfile.web"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" node:20-alpine "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" corepack enable && corepack prepare pnpm@10.29.3 --activate"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Install dependencies"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" deps"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" package.json pnpm-lock.yaml pnpm-workspace.yaml ./"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" apps/web/package.json apps/web/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/ui/package.json packages/ui/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/validators/package.json packages/validators/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm install --frozen-lockfile"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Build the static export"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" builder"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/ ./"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" . ."})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SERVER_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_NAME=LinkDen"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_TURNSTILE_SITE_KEY"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SERVER_URL=$NEXT_PUBLIC_SERVER_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_URL=$NEXT_PUBLIC_SITE_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_NAME=$NEXT_PUBLIC_SITE_NAME"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_TURNSTILE_SITE_KEY=$NEXT_PUBLIC_TURNSTILE_SITE_KEY"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm --filter @linkden/web build"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Serve with Caddy"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" caddy:2-alpine "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" runner"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=builder /app/apps/web/out /srv"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" <<"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"'EOF'"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /etc/caddy/Caddyfile"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":3001 {"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    root * /srv"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    file_server"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    try_files {path} {path}.html /index.html"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    header {"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        X-Frame-Options "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"DENY"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        X-Content-Type-Options "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"nosniff"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        Referrer-Policy "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"strict-origin-when-cross-origin"'})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        -Server"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    }"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    # Cache static assets"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    @static path *.js *.css *.png *.jpg *.jpeg *.gif *.svg *.ico *.woff *.woff2"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    header @static Cache-Control "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"public, max-age=31536000, immutable"'})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"EOF"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"EXPOSE"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" 3001"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"HEALTHCHECK"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --interval=30s --timeout=10s --retries=3 \\"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  CMD"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" wget --spider -q http://localhost:3001/ || exit 1"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"services"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    build"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      context"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"."})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      dockerfile"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"Dockerfile.api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    container_name"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    restart"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"unless-stopped"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    ports"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"8787:8787"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    environment"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"BETTER_AUTH_SECRET=${BETTER_AUTH_SECRET}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"BETTER_AUTH_URL=${BETTER_AUTH_URL:-http://localhost:8787}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:3001}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"DATABASE_URL=file:/data/linkden.db"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"RESEND_API_KEY=${RESEND_API_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"RESEND_FROM_EMAIL=${RESEND_FROM_EMAIL:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"TURNSTILE_SECRET_KEY=${TURNSTILE_SECRET_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"APPLE_PASS_TYPE_ID=${APPLE_PASS_TYPE_ID:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"APPLE_TEAM_ID=${APPLE_TEAM_ID:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"APPLE_WWDR_CERT=${APPLE_WWDR_CERT:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"APPLE_SIGNER_CERT=${APPLE_SIGNER_CERT:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"APPLE_SIGNER_KEY=${APPLE_SIGNER_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"APPLE_SIGNER_PASSPHRASE=${APPLE_SIGNER_PASSPHRASE:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-data:/data"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    healthcheck"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      test"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"CMD"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"wget"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"--spider"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"-q"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"http://localhost:8787/"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      interval"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"30s"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      timeout"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"10s"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      start_period"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"5s"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      retries"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"3"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  web"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    build"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      context"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"."})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      dockerfile"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"Dockerfile.web"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      args"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_SERVER_URL=${NEXT_PUBLIC_SERVER_URL:-http://localhost:8787}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_SITE_URL=${NEXT_PUBLIC_SITE_URL:-http://localhost:3001}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_SITE_NAME=${NEXT_PUBLIC_SITE_NAME:-LinkDen}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_TURNSTILE_SITE_KEY=${NEXT_PUBLIC_TURNSTILE_SITE_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    container_name"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-web"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    restart"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"unless-stopped"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    ports"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"3001:3001"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    depends_on"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"        condition"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"service_healthy"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  linkden-data"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    name"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-data"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,b.jsxs)(c.p,{children:["Create a ",(0,b.jsx)(c.code,{children:".env"})," file in the project root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Required: Better Auth"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_SECRET"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-random-secret-here"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Required: URLs (update these for production)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SERVER_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SITE_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://yourdomain.com"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Optional: Site name"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SITE_NAME"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LinkDen"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Optional: Email notifications"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"RESEND_API_KEY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"RESEND_FROM_EMAIL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Optional: CAPTCHA"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_TURNSTILE_SITE_KEY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TURNSTILE_SECRET_KEY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Generate a secure ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," with:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rand"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -base64"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 32"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["See the ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/environment-variables",children:"Environment Variables reference"})," for all available options."]}),"\n",(0,b.jsx)(c.h2,{id:"first-time-setup",children:"First-Time Setup"}),"\n",(0,b.jsxs)(c.p,{children:["After starting the containers for the first time, visit ",(0,b.jsx)(c.code,{children:"http://localhost:3001/admin/setup"})," (or your production URL's ",(0,b.jsx)(c.code,{children:"/admin/setup"}),") to complete the setup wizard. This creates your admin account with your chosen email and password."]}),"\n",(0,b.jsxs)(c.p,{children:["After setup, sign in at ",(0,b.jsx)(c.code,{children:"/admin/login"}),"."]}),"\n",(0,b.jsx)(c.h2,{id:"building-and-starting",children:"Building and Starting"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Build and start all services"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" up"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --build"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# View logs"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -f"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# View logs for a specific service"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -f"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -f"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" web"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Stop all services"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" down"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Stop and remove volumes (deletes database!)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" down"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -v"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"reverse-proxy-setup",children:"Reverse Proxy Setup"}),"\n",(0,b.jsx)(c.p,{children:"In production, you should place a reverse proxy in front of the Docker containers to handle SSL termination and route traffic."}),"\n",(0,b.jsx)(c.h3,{id:"option-a-caddy-recommended",children:"Option A: Caddy (Recommended)"}),"\n",(0,b.jsx)(c.p,{children:"Caddy automatically obtains and renews Let's Encrypt SSL certificates."}),"\n",(0,b.jsxs)(c.p,{children:["Add a ",(0,b.jsx)(c.code,{children:"caddy"})," service to your ",(0,b.jsx)(c.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"services"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  caddy"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    image"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"caddy:2-alpine"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    container_name"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-caddy"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    restart"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"unless-stopped"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    ports"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"80:80"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"443:443"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"./Caddyfile:/etc/caddy/Caddyfile"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"caddy-data:/data"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"caddy-config:/config"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    depends_on"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"web"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"api"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  # ... existing api and web services ..."})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  # Remove the "ports" from api and web services since Caddy handles external traffic'})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  linkden-data"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  caddy-data"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  caddy-config"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"Caddyfile"})," in the project root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"yourdomain.com {"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"    reverse_proxy web:3001"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"api.yourdomain.com {"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"    reverse_proxy api:8787"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"}"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"That is the entire Caddy configuration. Caddy automatically:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Obtains Let's Encrypt SSL certificates for both domains."}),"\n",(0,b.jsx)(c.li,{children:"Redirects HTTP to HTTPS."}),"\n",(0,b.jsx)(c.li,{children:"Renews certificates before they expire."}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["When using Caddy as the external reverse proxy, remove the ",(0,b.jsx)(c.code,{children:"ports"})," mapping from the ",(0,b.jsx)(c.code,{children:"api"})," and ",(0,b.jsx)(c.code,{children:"web"})," services (they are only accessible through Caddy's internal Docker network):"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'    # Remove: ports: - "8787:8787"'})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    expose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"8787"'})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  web"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'    # Remove: ports: - "3001:3001"'})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    expose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"3001"'})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"option-b-nginx",children:"Option B: Nginx"}),"\n",(0,b.jsxs)(c.p,{children:["If you prefer Nginx, add it to ",(0,b.jsx)(c.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"services"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  nginx"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    image"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"nginx:alpine"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    container_name"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-nginx"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    restart"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"unless-stopped"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    ports"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"80:80"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"443:443"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"./nginx.conf:/etc/nginx/conf.d/default.conf"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"/etc/letsencrypt:/etc/letsencrypt:ro"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    depends_on"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"web"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"api"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"nginx.conf"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"upstream"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" web "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    server"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" web:3001;"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"upstream"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" api "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    server"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" api:8787;"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Redirect HTTP to HTTPS"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"server"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    listen "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"80"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    server_name "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"yourdomain.com api.yourdomain.com;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    return"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 301"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" https://$server_name$request_uri;"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Web app"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"server"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    listen "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"443"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ssl http2;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    server_name "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"yourdomain.com;"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_certificate "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"/etc/letsencrypt/live/yourdomain.com/fullchain.pem;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_certificate_key "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"/etc/letsencrypt/live/yourdomain.com/privkey.pem;"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_protocols "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TLSv1.2 TLSv1.3;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_ciphers "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"HIGH:!aNULL:!MD5;"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    location"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" / "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_pass "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"http://web;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"Host $host;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"X-Real-IP $remote_addr;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"X-Forwarded-For $proxy_add_x_forwarded_for;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"X-Forwarded-Proto $scheme;"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    }"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# API"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"server"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    listen "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"443"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ssl http2;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    server_name "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"api.yourdomain.com;"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_certificate "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"/etc/letsencrypt/live/api.yourdomain.com/fullchain.pem;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_certificate_key "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"/etc/letsencrypt/live/api.yourdomain.com/privkey.pem;"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_protocols "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TLSv1.2 TLSv1.3;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    ssl_ciphers "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"HIGH:!aNULL:!MD5;"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    location"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" / "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_pass "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"http://api;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"Host $host;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"X-Real-IP $remote_addr;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"X-Forwarded-For $proxy_add_x_forwarded_for;"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        proxy_set_header "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"X-Forwarded-Proto $scheme;"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    }"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"For Nginx, you need to manually manage SSL certificates. Use Certbot:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Install certbot"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"apt"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" certbot"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Obtain certificates (stop nginx first, or use webroot plugin)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"certbot"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" certonly"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --standalone"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yourdomain.com"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api.yourdomain.com"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Auto-renewal is configured automatically by certbot"})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"volume-mounts-for-sqlite-persistence",children:"Volume Mounts for SQLite Persistence"}),"\n",(0,b.jsxs)(c.p,{children:["The SQLite database is stored in a named Docker volume (",(0,b.jsx)(c.code,{children:"linkden-data"}),") mounted at ",(0,b.jsx)(c.code,{children:"/data"})," inside the API container. This ensures data survives container restarts, image rebuilds, and redeployments."]}),"\n",(0,b.jsx)(c.h3,{id:"inspect-the-volume",children:"Inspect the Volume"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# List volumes"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" volume"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ls"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" grep"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Inspect volume details"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" volume"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" inspect"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-data"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"back-up-the-database",children:"Back Up the Database"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Create a backup"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" exec"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" sqlite3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /data/linkden.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' ".backup /data/backup.db"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api:/data/backup.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ./linkden-backup-"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"$("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"date"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +%Y%m%d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".db"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Or directly copy the database file (stop writes first for consistency)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" stop"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api:/data/linkden.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ./linkden-backup.db"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" start"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"restore-from-backup",children:"Restore from Backup"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" stop"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ./linkden-backup.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api:/data/linkden.db"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" start"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"automated-backups",children:"Automated Backups"}),"\n",(0,b.jsx)(c.p,{children:"Create a cron job for daily backups:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Add to crontab (crontab -e)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"0"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" exec"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" sqlite3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /data/linkden.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' ".backup /data/backup.db"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api:/data/backup.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /backups/linkden-"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"$("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"date"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"\\%"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"Y"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"\\%"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"m"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"\\%"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"find"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /backups"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -name"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "linkden-*.db"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -mtime"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +30"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -delete"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"This backs up daily at 3 AM and deletes backups older than 30 days."}),"\n",(0,b.jsx)(c.h2,{id:"health-checks",children:"Health Checks"}),"\n",(0,b.jsx)(c.p,{children:"Both Dockerfiles include health checks that Docker uses to monitor container health:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"API"}),": Sends an HTTP request to ",(0,b.jsx)(c.code,{children:"http://localhost:8787/"})," every 30 seconds."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Web"}),": Sends an HTTP request to ",(0,b.jsx)(c.code,{children:"http://localhost:3001/"})," every 30 seconds."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Check health status:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ps"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'# Look for "(healthy)" in the STATUS column'})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Detailed health check info"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" inspect"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --format="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"'{{json .State.Health}}'"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" jq"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["The ",(0,b.jsx)(c.code,{children:"web"})," service has a ",(0,b.jsx)(c.code,{children:"depends_on"})," condition that waits for the ",(0,b.jsx)(c.code,{children:"api"})," to be healthy before starting, ensuring the API is available when the web app comes up."]}),"\n",(0,b.jsx)(c.h2,{id:"updating-linkden",children:"Updating LinkDen"}),"\n",(0,b.jsx)(c.p,{children:"To update to a new version:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Pull the latest code"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pull"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" origin"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" main"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Rebuild and restart (zero-downtime if using rolling updates)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" up"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --build"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Verify the update"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ps"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -f"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --tail=50"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"The SQLite database is on a persistent volume, so data is preserved across rebuilds."}),"\n",(0,b.jsx)(c.p,{children:"If the update includes database schema changes, they are applied automatically when the API server starts (Drizzle ORM handles migrations)."}),"\n",(0,b.jsx)(c.h2,{id:"production-checklist",children:"Production Checklist"}),"\n",(0,b.jsx)(c.p,{children:"Before going live, verify:"}),"\n",(0,b.jsxs)(c.ul,{className:"contains-task-list",children:["\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," is set to a strong random value"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})," matches the API's production URL"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," matches the web app's production URL exactly (including ",(0,b.jsx)(c.code,{children:"https://"}),", no trailing slash)"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})," points to the API's production URL"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SITE_URL"})," matches the web app's production URL"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","SSL is working (lock icon in browser)"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","Persistent volume is configured for ",(0,b.jsx)(c.code,{children:"/data"})]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","Health checks are passing (",(0,b.jsx)(c.code,{children:"docker compose ps"}),' shows "healthy")']}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","Automatic container restart is enabled (",(0,b.jsx)(c.code,{children:"restart: unless-stopped"}),")"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","Database backups are configured"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","Firewall rules allow only ports 80 and 443 from the internet"]}),"\n",(0,b.jsxs)(c.li,{className:"task-list-item",children:[(0,b.jsx)(c.input,{type:"checkbox",disabled:!0})," ","Setup wizard completed at ",(0,b.jsx)(c.code,{children:"/admin/setup"})]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,b.jsx)(c.h3,{id:"container-keeps-restarting",children:"Container keeps restarting"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Check logs for the failing container"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --tail=100"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" compose"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" web"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --tail=100"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"Common causes:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Missing required environment variables"}),"\n",(0,b.jsx)(c.li,{children:"Port conflict (another process using 8787 or 3001)"}),"\n",(0,b.jsx)(c.li,{children:"Out of memory (increase server RAM or Docker memory limits)"}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"cors-error-in-the-browser",children:'"CORS error" in the browser'}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," on the API must exactly match the web app URL."]}),"\n",(0,b.jsxs)(c.li,{children:["If using a reverse proxy, ensure it forwards the ",(0,b.jsx)(c.code,{children:"Origin"})," header."]}),"\n",(0,b.jsx)(c.li,{children:"Check that the API is accessible from the browser (visit the API URL directly)."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"database-file-is-empty-after-restart",children:"Database file is empty after restart"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Verify the volume is mounted: ",(0,b.jsx)(c.code,{children:"docker inspect linkden-api | grep Mounts -A 20"})]}),"\n",(0,b.jsxs)(c.li,{children:["Ensure ",(0,b.jsx)(c.code,{children:"DATABASE_URL=file:/data/linkden.db"})," (path must be inside the mounted volume)."]}),"\n",(0,b.jsxs)(c.li,{children:["Check that the volume was not accidentally removed with ",(0,b.jsx)(c.code,{children:"docker compose down -v"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"build-fails-with-out-of-memory-error",children:"Build fails with out-of-memory error"}),"\n",(0,b.jsx)(c.p,{children:"Next.js builds can be memory-intensive. Increase the Docker memory limit:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# In docker-compose.yml, add to the web service:"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deploy:"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"  resources:"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"    limits:"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"      memory:"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" 2G"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"cannot-connect-to-api-from-web-app",children:"Cannot connect to API from web app"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["If both containers are on the same Docker network, use the service name (",(0,b.jsx)(c.code,{children:"api"}),") as the hostname."]}),"\n",(0,b.jsxs)(c.li,{children:["For ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"}),", use the ",(0,b.jsx)(c.strong,{children:"external"})," URL that the browser can reach (not the internal Docker hostname)."]}),"\n",(0,b.jsxs)(c.li,{children:["Verify the API container is healthy: ",(0,b.jsx)(c.code,{children:"docker compose ps"}),"."]}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nDocker Self-Hosting [#docker-self-hosting]\n\nThis guide covers deploying LinkDen using Docker on any Linux server, VPS, or local machine. Docker gives you full control over the runtime environment, networking, and data storage.\n\nArchitecture [#architecture]\n\nThe Docker deployment runs three components:\n\n```\n┌──────────────┐     ┌──────────────────┐     ┌───────────────┐\n│  Caddy/Nginx │────▶│  Hono API Server │────▶│ SQLite Volume │\n│  (static web │     │  (Node.js)       │     │ (/data/)      │\n│   + reverse  │     │  Port 8787       │     │               │\n│   proxy)     │     └──────────────────┘     └───────────────┘\n│  Port 80/443 │\n└──────────────┘\n```\n\n* **Web app**: Next.js static export served by Caddy (or Nginx).\n* **API server**: Hono running on Node.js with `@hono/node-server`.\n* **Database**: SQLite file on a persistent Docker volume.\n\nPrerequisites [#prerequisites]\n\n* **Docker** 20.10+ and **Docker Compose** v2+ installed on your server.\n* A domain name pointed at your server (for SSL).\n\nQuick Start [#quick-start]\n\nFor those who want to get running fast:\n\n```bash\ngit clone https://github.com/mrdemonwolf/linkden.git\ncd LinkDen\ncp .env.example .env\n# Edit .env with your values (see below)\ndocker compose up -d\n```\n\nThe rest of this guide breaks down each component in detail.\n\nProject Structure [#project-structure]\n\nCreate these files in the repository root:\n\n```\nLinkDen/\n├── Dockerfile.api          # API server container\n├── Dockerfile.web          # Web app container\n├── docker-compose.yml      # Orchestrates everything\n├── Caddyfile               # Reverse proxy config (if using Caddy)\n└── .env                    # Environment variables\n```\n\nDockerfile for the API Server [#dockerfile-for-the-api-server]\n\nCreate `Dockerfile.api`:\n\n```dockerfile\nFROM node:20-alpine AS base\nRUN corepack enable && corepack prepare pnpm@10.29.3 --activate\nWORKDIR /app\n\n# Install dependencies\nFROM base AS deps\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml ./\nCOPY apps/server/package.json apps/server/\nCOPY packages/db/package.json packages/db/\nCOPY packages/email/package.json packages/email/\nCOPY packages/validators/package.json packages/validators/\nRUN pnpm install --frozen-lockfile\n\n# Build\nFROM base AS builder\nCOPY --from=deps /app/ ./\nCOPY . .\n\n# Runtime\nFROM base AS runner\nRUN apk add --no-cache sqlite\nCOPY --from=builder /app/ ./\n\nRUN mkdir -p /data\n\nENV NODE_ENV=production\nENV DATABASE_URL=file:/data/linkden.db\n\nEXPOSE 8787\n\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\\n  CMD wget --spider -q http://localhost:8787/ || exit 1\n\nCMD ["npx", "tsx", "apps/server/src/node-entry.ts"]\n```\n\nNode.js Entry Point [#nodejs-entry-point]\n\nThe Hono server is built for Cloudflare Workers. To run it on Node.js, create `apps/server/src/node-entry.ts`:\n\n```typescript\nimport { serve } from "@hono/node-server";\nimport app from "./index";\n\nconst port = Number(process.env.PORT) || 8787;\n\nserve(\n  { fetch: app.fetch, port },\n  (info) => {\n    console.log(`LinkDen API running on http://localhost:${info.port}`);\n  }\n);\n```\n\nInstall the required dependency:\n\n```bash\ncd apps/server && pnpm add @hono/node-server\n```\n\nFor the database driver, install `better-sqlite3` or `@libsql/client` in `packages/db`:\n\n```bash\ncd packages/db && pnpm add better-sqlite3 && pnpm add -D @types/better-sqlite3\n```\n\nDockerfile for the Web App [#dockerfile-for-the-web-app]\n\nCreate `Dockerfile.web`:\n\n```dockerfile\nFROM node:20-alpine AS base\nRUN corepack enable && corepack prepare pnpm@10.29.3 --activate\nWORKDIR /app\n\n# Install dependencies\nFROM base AS deps\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml ./\nCOPY apps/web/package.json apps/web/\nCOPY packages/ui/package.json packages/ui/\nCOPY packages/validators/package.json packages/validators/\nRUN pnpm install --frozen-lockfile\n\n# Build the static export\nFROM base AS builder\nCOPY --from=deps /app/ ./\nCOPY . .\n\nARG NEXT_PUBLIC_SERVER_URL\nARG NEXT_PUBLIC_SITE_URL\nARG NEXT_PUBLIC_SITE_NAME=LinkDen\nARG NEXT_PUBLIC_TURNSTILE_SITE_KEY\n\nENV NEXT_PUBLIC_SERVER_URL=$NEXT_PUBLIC_SERVER_URL\nENV NEXT_PUBLIC_SITE_URL=$NEXT_PUBLIC_SITE_URL\nENV NEXT_PUBLIC_SITE_NAME=$NEXT_PUBLIC_SITE_NAME\nENV NEXT_PUBLIC_TURNSTILE_SITE_KEY=$NEXT_PUBLIC_TURNSTILE_SITE_KEY\n\nRUN pnpm --filter @linkden/web build\n\n# Serve with Caddy\nFROM caddy:2-alpine AS runner\n\nCOPY --from=builder /app/apps/web/out /srv\n\nCOPY <<\'EOF\' /etc/caddy/Caddyfile\n:3001 {\n    root * /srv\n    file_server\n    try_files {path} {path}.html /index.html\n\n    header {\n        X-Frame-Options "DENY"\n        X-Content-Type-Options "nosniff"\n        Referrer-Policy "strict-origin-when-cross-origin"\n        -Server\n    }\n\n    # Cache static assets\n    @static path *.js *.css *.png *.jpg *.jpeg *.gif *.svg *.ico *.woff *.woff2\n    header @static Cache-Control "public, max-age=31536000, immutable"\n}\nEOF\n\nEXPOSE 3001\n\nHEALTHCHECK --interval=30s --timeout=10s --retries=3 \\\n  CMD wget --spider -q http://localhost:3001/ || exit 1\n```\n\nDocker Compose [#docker-compose]\n\nCreate `docker-compose.yml`:\n\n```yaml\nservices:\n  api:\n    build:\n      context: .\n      dockerfile: Dockerfile.api\n    container_name: linkden-api\n    restart: unless-stopped\n    ports:\n      - "8787:8787"\n    environment:\n      - BETTER_AUTH_SECRET=${BETTER_AUTH_SECRET}\n      - BETTER_AUTH_URL=${BETTER_AUTH_URL:-http://localhost:8787}\n      - CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:3001}\n      - DATABASE_URL=file:/data/linkden.db\n      - RESEND_API_KEY=${RESEND_API_KEY:-}\n      - RESEND_FROM_EMAIL=${RESEND_FROM_EMAIL:-}\n      - TURNSTILE_SECRET_KEY=${TURNSTILE_SECRET_KEY:-}\n      - APPLE_PASS_TYPE_ID=${APPLE_PASS_TYPE_ID:-}\n      - APPLE_TEAM_ID=${APPLE_TEAM_ID:-}\n      - APPLE_WWDR_CERT=${APPLE_WWDR_CERT:-}\n      - APPLE_SIGNER_CERT=${APPLE_SIGNER_CERT:-}\n      - APPLE_SIGNER_KEY=${APPLE_SIGNER_KEY:-}\n      - APPLE_SIGNER_PASSPHRASE=${APPLE_SIGNER_PASSPHRASE:-}\n    volumes:\n      - linkden-data:/data\n    healthcheck:\n      test: ["CMD", "wget", "--spider", "-q", "http://localhost:8787/"]\n      interval: 30s\n      timeout: 10s\n      start_period: 5s\n      retries: 3\n\n  web:\n    build:\n      context: .\n      dockerfile: Dockerfile.web\n      args:\n        - NEXT_PUBLIC_SERVER_URL=${NEXT_PUBLIC_SERVER_URL:-http://localhost:8787}\n        - NEXT_PUBLIC_SITE_URL=${NEXT_PUBLIC_SITE_URL:-http://localhost:3001}\n        - NEXT_PUBLIC_SITE_NAME=${NEXT_PUBLIC_SITE_NAME:-LinkDen}\n        - NEXT_PUBLIC_TURNSTILE_SITE_KEY=${NEXT_PUBLIC_TURNSTILE_SITE_KEY:-}\n    container_name: linkden-web\n    restart: unless-stopped\n    ports:\n      - "3001:3001"\n    depends_on:\n      api:\n        condition: service_healthy\n\nvolumes:\n  linkden-data:\n    name: linkden-data\n```\n\nEnvironment Variables [#environment-variables]\n\nCreate a `.env` file in the project root:\n\n```bash\n# Required: Better Auth\nBETTER_AUTH_SECRET=your-random-secret-here\nBETTER_AUTH_URL=https://api.yourdomain.com\n\n# Required: URLs (update these for production)\nNEXT_PUBLIC_SERVER_URL=https://api.yourdomain.com\nNEXT_PUBLIC_SITE_URL=https://yourdomain.com\nCORS_ORIGIN=https://yourdomain.com\n\n# Optional: Site name\nNEXT_PUBLIC_SITE_NAME=LinkDen\n\n# Optional: Email notifications\nRESEND_API_KEY=\nRESEND_FROM_EMAIL=\n\n# Optional: CAPTCHA\nNEXT_PUBLIC_TURNSTILE_SITE_KEY=\nTURNSTILE_SECRET_KEY=\n```\n\nGenerate a secure `BETTER_AUTH_SECRET` with:\n\n```bash\nopenssl rand -base64 32\n```\n\nSee the [Environment Variables reference](/docs/self-hosting/environment-variables) for all available options.\n\nFirst-Time Setup [#first-time-setup]\n\nAfter starting the containers for the first time, visit `http://localhost:3001/admin/setup` (or your production URL\'s `/admin/setup`) to complete the setup wizard. This creates your admin account with your chosen email and password.\n\nAfter setup, sign in at `/admin/login`.\n\nBuilding and Starting [#building-and-starting]\n\n```bash\n# Build and start all services\ndocker compose up -d --build\n\n# View logs\ndocker compose logs -f\n\n# View logs for a specific service\ndocker compose logs -f api\ndocker compose logs -f web\n\n# Stop all services\ndocker compose down\n\n# Stop and remove volumes (deletes database!)\ndocker compose down -v\n```\n\nReverse Proxy Setup [#reverse-proxy-setup]\n\nIn production, you should place a reverse proxy in front of the Docker containers to handle SSL termination and route traffic.\n\nOption A: Caddy (Recommended) [#option-a-caddy-recommended]\n\nCaddy automatically obtains and renews Let\'s Encrypt SSL certificates.\n\nAdd a `caddy` service to your `docker-compose.yml`:\n\n```yaml\nservices:\n  caddy:\n    image: caddy:2-alpine\n    container_name: linkden-caddy\n    restart: unless-stopped\n    ports:\n      - "80:80"\n      - "443:443"\n    volumes:\n      - ./Caddyfile:/etc/caddy/Caddyfile\n      - caddy-data:/data\n      - caddy-config:/config\n    depends_on:\n      - web\n      - api\n\n  # ... existing api and web services ...\n  # Remove the "ports" from api and web services since Caddy handles external traffic\n\nvolumes:\n  linkden-data:\n  caddy-data:\n  caddy-config:\n```\n\nCreate `Caddyfile` in the project root:\n\n```\nyourdomain.com {\n    reverse_proxy web:3001\n}\n\napi.yourdomain.com {\n    reverse_proxy api:8787\n}\n```\n\nThat is the entire Caddy configuration. Caddy automatically:\n\n* Obtains Let\'s Encrypt SSL certificates for both domains.\n* Redirects HTTP to HTTPS.\n* Renews certificates before they expire.\n\nWhen using Caddy as the external reverse proxy, remove the `ports` mapping from the `api` and `web` services (they are only accessible through Caddy\'s internal Docker network):\n\n```yaml\n  api:\n    # Remove: ports: - "8787:8787"\n    expose:\n      - "8787"\n\n  web:\n    # Remove: ports: - "3001:3001"\n    expose:\n      - "3001"\n```\n\nOption B: Nginx [#option-b-nginx]\n\nIf you prefer Nginx, add it to `docker-compose.yml`:\n\n```yaml\nservices:\n  nginx:\n    image: nginx:alpine\n    container_name: linkden-nginx\n    restart: unless-stopped\n    ports:\n      - "80:80"\n      - "443:443"\n    volumes:\n      - ./nginx.conf:/etc/nginx/conf.d/default.conf\n      - /etc/letsencrypt:/etc/letsencrypt:ro\n    depends_on:\n      - web\n      - api\n```\n\nCreate `nginx.conf`:\n\n```nginx\nupstream web {\n    server web:3001;\n}\n\nupstream api {\n    server api:8787;\n}\n\n# Redirect HTTP to HTTPS\nserver {\n    listen 80;\n    server_name yourdomain.com api.yourdomain.com;\n    return 301 https://$server_name$request_uri;\n}\n\n# Web app\nserver {\n    listen 443 ssl http2;\n    server_name yourdomain.com;\n\n    ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n\n    location / {\n        proxy_pass http://web;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n\n# API\nserver {\n    listen 443 ssl http2;\n    server_name api.yourdomain.com;\n\n    ssl_certificate /etc/letsencrypt/live/api.yourdomain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/api.yourdomain.com/privkey.pem;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n\n    location / {\n        proxy_pass http://api;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\nFor Nginx, you need to manually manage SSL certificates. Use Certbot:\n\n```bash\n# Install certbot\napt install certbot\n\n# Obtain certificates (stop nginx first, or use webroot plugin)\ncertbot certonly --standalone -d yourdomain.com -d api.yourdomain.com\n\n# Auto-renewal is configured automatically by certbot\n```\n\nVolume Mounts for SQLite Persistence [#volume-mounts-for-sqlite-persistence]\n\nThe SQLite database is stored in a named Docker volume (`linkden-data`) mounted at `/data` inside the API container. This ensures data survives container restarts, image rebuilds, and redeployments.\n\nInspect the Volume [#inspect-the-volume]\n\n```bash\n# List volumes\ndocker volume ls | grep linkden\n\n# Inspect volume details\ndocker volume inspect linkden-data\n```\n\nBack Up the Database [#back-up-the-database]\n\n```bash\n# Create a backup\ndocker exec linkden-api sqlite3 /data/linkden.db ".backup /data/backup.db"\ndocker cp linkden-api:/data/backup.db ./linkden-backup-$(date +%Y%m%d).db\n\n# Or directly copy the database file (stop writes first for consistency)\ndocker compose stop api\ndocker cp linkden-api:/data/linkden.db ./linkden-backup.db\ndocker compose start api\n```\n\nRestore from Backup [#restore-from-backup]\n\n```bash\ndocker compose stop api\ndocker cp ./linkden-backup.db linkden-api:/data/linkden.db\ndocker compose start api\n```\n\nAutomated Backups [#automated-backups]\n\nCreate a cron job for daily backups:\n\n```bash\n# Add to crontab (crontab -e)\n0 3 * * * docker exec linkden-api sqlite3 /data/linkden.db ".backup /data/backup.db" && docker cp linkden-api:/data/backup.db /backups/linkden-$(date +\\%Y\\%m\\%d).db && find /backups -name "linkden-*.db" -mtime +30 -delete\n```\n\nThis backs up daily at 3 AM and deletes backups older than 30 days.\n\nHealth Checks [#health-checks]\n\nBoth Dockerfiles include health checks that Docker uses to monitor container health:\n\n* **API**: Sends an HTTP request to `http://localhost:8787/` every 30 seconds.\n* **Web**: Sends an HTTP request to `http://localhost:3001/` every 30 seconds.\n\nCheck health status:\n\n```bash\ndocker compose ps\n# Look for "(healthy)" in the STATUS column\n\n# Detailed health check info\ndocker inspect --format=\'{{json .State.Health}}\' linkden-api | jq\n```\n\nThe `web` service has a `depends_on` condition that waits for the `api` to be healthy before starting, ensuring the API is available when the web app comes up.\n\nUpdating LinkDen [#updating-linkden]\n\nTo update to a new version:\n\n```bash\n# Pull the latest code\ngit pull origin main\n\n# Rebuild and restart (zero-downtime if using rolling updates)\ndocker compose up -d --build\n\n# Verify the update\ndocker compose ps\ndocker compose logs -f --tail=50\n```\n\nThe SQLite database is on a persistent volume, so data is preserved across rebuilds.\n\nIf the update includes database schema changes, they are applied automatically when the API server starts (Drizzle ORM handles migrations).\n\nProduction Checklist [#production-checklist]\n\nBefore going live, verify:\n\n* [ ] `BETTER_AUTH_SECRET` is set to a strong random value\n* [ ] `BETTER_AUTH_URL` matches the API\'s production URL\n* [ ] `CORS_ORIGIN` matches the web app\'s production URL exactly (including `https://`, no trailing slash)\n* [ ] `NEXT_PUBLIC_SERVER_URL` points to the API\'s production URL\n* [ ] `NEXT_PUBLIC_SITE_URL` matches the web app\'s production URL\n* [ ] SSL is working (lock icon in browser)\n* [ ] Persistent volume is configured for `/data`\n* [ ] Health checks are passing (`docker compose ps` shows "healthy")\n* [ ] Automatic container restart is enabled (`restart: unless-stopped`)\n* [ ] Database backups are configured\n* [ ] Firewall rules allow only ports 80 and 443 from the internet\n* [ ] Setup wizard completed at `/admin/setup`\n\nTroubleshooting [#troubleshooting]\n\nContainer keeps restarting [#container-keeps-restarting]\n\n```bash\n# Check logs for the failing container\ndocker compose logs api --tail=100\ndocker compose logs web --tail=100\n```\n\nCommon causes:\n\n* Missing required environment variables\n* Port conflict (another process using 8787 or 3001)\n* Out of memory (increase server RAM or Docker memory limits)\n\n"CORS error" in the browser [#cors-error-in-the-browser]\n\n* `CORS_ORIGIN` on the API must exactly match the web app URL.\n* If using a reverse proxy, ensure it forwards the `Origin` header.\n* Check that the API is accessible from the browser (visit the API URL directly).\n\nDatabase file is empty after restart [#database-file-is-empty-after-restart]\n\n* Verify the volume is mounted: `docker inspect linkden-api | grep Mounts -A 20`\n* Ensure `DATABASE_URL=file:/data/linkden.db` (path must be inside the mounted volume).\n* Check that the volume was not accidentally removed with `docker compose down -v`.\n\nBuild fails with out-of-memory error [#build-fails-with-out-of-memory-error]\n\nNext.js builds can be memory-intensive. Increase the Docker memory limit:\n\n```bash\n# In docker-compose.yml, add to the web service:\ndeploy:\n  resources:\n    limits:\n      memory: 2G\n```\n\nCannot connect to API from web app [#cannot-connect-to-api-from-web-app]\n\n* If both containers are on the same Docker network, use the service name (`api`) as the hostname.\n* For `NEXT_PUBLIC_SERVER_URL`, use the **external** URL that the browser can reach (not the internal Docker hostname).\n* Verify the API container is healthy: `docker compose ps`.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},234,a=>{"use strict";var b=a.i(69819);let c={title:"Custom Domain",description:"Set up a custom domain for your LinkDen instance with detailed DNS configuration for various providers."},d={contents:[{heading:"custom-domain-setup",content:"After deploying LinkDen, you can add a custom domain so your link page is accessible at yourdomain.com instead of the default *.workers.dev URL. This guide covers setup for both the web app and API Workers, with instructions for various DNS providers."},{heading:"overview",content:"LinkDen has two Workers that can each get a custom domain:"},{heading:"overview",content:"Service"},{heading:"overview",content:"Default URL"},{heading:"overview",content:"Custom Domain Example"},{heading:"overview",content:"Web app (Worker)"},{heading:"overview",content:"linkden-web.your-subdomain.workers.dev"},{heading:"overview",content:"links.yourdomain.com or yourdomain.com"},{heading:"overview",content:"API (Worker)"},{heading:"overview",content:"linkden-api.your-subdomain.workers.dev"},{heading:"overview",content:"api.yourdomain.com"},{heading:"overview",content:"You can set up a custom domain for one or both services."},{heading:"option-1-domain-on-cloudflare-dns-recommended",content:"If your domain is already using Cloudflare's nameservers, the setup is nearly automatic and provides the best performance."},{heading:"add-your-domain-to-cloudflare",content:"If your domain is not yet on Cloudflare:"},{heading:"add-your-domain-to-cloudflare",content:"Go to the Cloudflare dashboard."},{heading:"add-your-domain-to-cloudflare",content:"Click Add a site."},{heading:"add-your-domain-to-cloudflare",content:"Enter your domain name and select the Free plan."},{heading:"add-your-domain-to-cloudflare",content:"Cloudflare scans your existing DNS records."},{heading:"add-your-domain-to-cloudflare",content:"Update your domain's nameservers at your registrar to the ones Cloudflare provides (e.g., ada.ns.cloudflare.com, bob.ns.cloudflare.com)."},{heading:"add-your-domain-to-cloudflare",content:"Wait for nameserver propagation (usually 15 minutes to 24 hours)."},{heading:"set-up-custom-domains-for-workers",content:"For each Worker (linkden-web and linkden-api):"},{heading:"set-up-custom-domains-for-workers",content:"Go to Workers & Pages in the Cloudflare dashboard."},{heading:"set-up-custom-domains-for-workers",content:"Click on the Worker."},{heading:"set-up-custom-domains-for-workers",content:"Go to Settings > Domains & Routes."},{heading:"set-up-custom-domains-for-workers",content:"Click Add Custom Domain."},{heading:"set-up-custom-domains-for-workers",content:"Enter your domain (e.g., links.yourdomain.com for web, api.yourdomain.com for API)."},{heading:"set-up-custom-domains-for-workers",content:"Click Add Custom Domain."},{heading:"set-up-custom-domains-for-workers",content:"Cloudflare automatically creates the DNS record and provisions an SSL certificate."},{heading:"update-environment-variables",content:"After adding custom domains, update your environment variables:"},{heading:"update-environment-variables",content:"apps/web/.env:"},{heading:"update-environment-variables",content:"Worker environment variables (via dashboard or Wrangler):"},{heading:"update-environment-variables",content:"Redeploy for changes to take effect:"},{heading:"option-2-domain-on-external-dns-namecheap-godaddy-route-53-etc",content:"If your domain uses a DNS provider other than Cloudflare, you need to manually add DNS records."},{heading:"step-1-add-the-domain-in-cloudflare",content:"Follow the same steps as Option 1 to add the custom domain in the Cloudflare dashboard (Workers & Pages > your Worker > Settings > Domains & Routes). Cloudflare shows you the required DNS record."},{heading:"for-the-web-app-pages",content:"Add a CNAME record at your DNS provider:"},{heading:"for-the-web-app-pages",content:"Type"},{heading:"for-the-web-app-pages",content:"Name"},{heading:"for-the-web-app-pages",content:"Target"},{heading:"for-the-web-app-pages",content:"TTL"},{heading:"for-the-web-app-pages",content:"CNAME"},{heading:"for-the-web-app-pages",content:"@ or subdomain"},{heading:"for-the-web-app-pages",content:"linkden-web.your-subdomain.workers.dev"},{heading:"for-the-web-app-pages",content:"Auto or 300"},{heading:"for-the-web-app-pages",content:"Replace linkden-web.your-subdomain.workers.dev with the actual Pages URL shown in the Cloudflare dashboard."},{heading:"for-the-api-worker",content:"Add a CNAME record for the API subdomain:"},{heading:"for-the-api-worker",content:"Type"},{heading:"for-the-api-worker",content:"Name"},{heading:"for-the-api-worker",content:"Target"},{heading:"for-the-api-worker",content:"TTL"},{heading:"for-the-api-worker",content:"CNAME"},{heading:"for-the-api-worker",content:"api"},{heading:"for-the-api-worker",content:"linkden-api.your-subdomain.workers.dev"},{heading:"for-the-api-worker",content:"Auto or 300"},{heading:"namecheap",content:"Log in to your Namecheap account."},{heading:"namecheap",content:"Go to Domain List and click Manage next to your domain."},{heading:"namecheap",content:"Go to the Advanced DNS tab."},{heading:"namecheap",content:"Click Add New Record."},{heading:"namecheap",content:"Select CNAME Record."},{heading:"namecheap",content:"For the host, enter @ (apex) or your subdomain (e.g., links)."},{heading:"namecheap",content:"For the value, enter linkden-web.your-subdomain.workers.dev."},{heading:"namecheap",content:"Set TTL to Automatic."},{heading:"namecheap",content:"Click the checkmark to save."},{heading:"namecheap",content:"Note: Namecheap does not support CNAME records on the apex domain (@). Use a subdomain or transfer your domain to Cloudflare."},{heading:"godaddy",content:"Log in to your GoDaddy account."},{heading:"godaddy",content:"Go to My Products and click DNS next to your domain."},{heading:"godaddy",content:"Click Add under the records table."},{heading:"godaddy",content:"Select CNAME as the type."},{heading:"godaddy",content:"Enter the host (@ for apex, or a subdomain like links)."},{heading:"godaddy",content:"Enter the target as linkden-web.your-subdomain.workers.dev."},{heading:"godaddy",content:"Set TTL to 1 Hour."},{heading:"godaddy",content:"Click Save."},{heading:"godaddy",content:"Note: GoDaddy does not support CNAME on the apex domain. Use a subdomain or transfer to Cloudflare."},{heading:"amazon-route-53",content:"Open the Route 53 console."},{heading:"amazon-route-53",content:"Go to Hosted zones and click on your domain."},{heading:"amazon-route-53",content:"Click Create record."},{heading:"amazon-route-53",content:"For the record name, enter a subdomain or leave blank for apex."},{heading:"amazon-route-53",content:"For record type, select CNAME."},{heading:"amazon-route-53",content:"Enter linkden-web.your-subdomain.workers.dev as the value."},{heading:"amazon-route-53",content:"Set TTL to 300."},{heading:"amazon-route-53",content:"Click Create records."},{heading:"amazon-route-53",content:"For apex domains, Route 53 supports ALIAS records: select record type A and toggle Alias on, but note this only works for AWS resources. For Cloudflare Pages, use a subdomain or transfer to Cloudflare DNS."},{heading:"cloudflare-registrar-domain-not-yet-proxied",content:"If your domain is registered with Cloudflare but not yet using Cloudflare DNS:"},{heading:"cloudflare-registrar-domain-not-yet-proxied",content:"Go to the Cloudflare dashboard."},{heading:"cloudflare-registrar-domain-not-yet-proxied",content:"Click Add a site and add your domain."},{heading:"cloudflare-registrar-domain-not-yet-proxied",content:'The DNS records are managed directly in Cloudflare -- follow the "Option 1" instructions above.'},{heading:"step-3-wait-for-dns-propagation",content:"DNS changes can take up to 48 hours to propagate globally, though most providers update within 5-30 minutes."},{heading:"step-3-wait-for-dns-propagation",content:"To check propagation status:"},{heading:"step-3-wait-for-dns-propagation",content:"You can also use online tools:"},{heading:"step-3-wait-for-dns-propagation",content:"whatsmydns.net -- check DNS propagation worldwide"},{heading:"step-3-wait-for-dns-propagation",content:"dnschecker.org -- similar global DNS checker"},{heading:"step-3-wait-for-dns-propagation",content:'Cloudflare shows the domain as "Active" in the dashboard once the CNAME is verified.'},{heading:"step-4-ssl-certificate-provisioning",content:"Cloudflare automatically provisions a free SSL certificate for your custom domain once DNS verification completes."},{heading:"step-4-ssl-certificate-provisioning",content:"For Cloudflare DNS domains: The certificate is issued instantly."},{heading:"step-4-ssl-certificate-provisioning",content:"For external DNS domains: The certificate is issued after the CNAME record is verified (typically within 15 minutes of DNS propagation)."},{heading:"step-4-ssl-certificate-provisioning",content:"No manual certificate management, renewal, or configuration is needed. Cloudflare handles the entire certificate lifecycle."},{heading:"step-4-ssl-certificate-provisioning",content:"To verify SSL is active:"},{heading:"step-4-ssl-certificate-provisioning",content:"Visit https://yourdomain.com in your browser."},{heading:"step-4-ssl-certificate-provisioning",content:"Click the lock icon in the address bar."},{heading:"step-4-ssl-certificate-provisioning",content:"Verify the certificate is issued by Cloudflare."},{heading:"apex-domain-configuration",content:"An apex domain (also called a root domain or naked domain) is yourdomain.com without any subdomain prefix."},{heading:"cloudflare-dns-works-automatically",content:"If your domain uses Cloudflare DNS, apex domains work automatically. Cloudflare uses CNAME flattening to resolve CNAME records at the apex into A records, which is required by the DNS specification."},{heading:"cloudflare-dns-works-automatically",content:"Simply add your apex domain as a custom domain for Pages, and Cloudflare handles the rest."},{heading:"external-dns-limitations",content:"Most external DNS providers do not support CNAME records on the apex domain because the DNS specification (RFC 1034) forbids CNAME records at the zone apex when other records exist (like SOA and NS)."},{heading:"external-dns-limitations",content:"Your options:"},{heading:"external-dns-limitations",content:"Transfer your domain to Cloudflare DNS (recommended): Cloudflare's registrar is free and supports CNAME flattening at the apex. This is the simplest solution."},{heading:"external-dns-limitations",content:"Use a subdomain instead: Use links.yourdomain.com or www.yourdomain.com instead of the bare apex domain."},{heading:"external-dns-limitations",content:"Check for ALIAS/ANAME support: Some providers offer proprietary record types that work like CNAME at the apex:"},{heading:"external-dns-limitations",content:"Provider"},{heading:"external-dns-limitations",content:"Apex CNAME Alternative"},{heading:"external-dns-limitations",content:"Route 53"},{heading:"external-dns-limitations",content:"ALIAS (AWS resources only)"},{heading:"external-dns-limitations",content:"DNSimple"},{heading:"external-dns-limitations",content:"ALIAS"},{heading:"external-dns-limitations",content:"NS1"},{heading:"external-dns-limitations",content:"ALIAS"},{heading:"external-dns-limitations",content:"Netlify DNS"},{heading:"external-dns-limitations",content:"ALIAS"},{heading:"external-dns-limitations",content:"Cloudflare"},{heading:"external-dns-limitations",content:"CNAME flattening (automatic)"},{heading:"external-dns-limitations",content:"Namecheap"},{heading:"external-dns-limitations",content:"Not supported"},{heading:"external-dns-limitations",content:"GoDaddy"},{heading:"external-dns-limitations",content:"Not supported"},{heading:"external-dns-limitations",content:"Set up a redirect: Configure a redirect from the apex domain to a www subdomain at your DNS provider, then point www via CNAME to Pages."},{heading:"setting-up-both-web-and-api-on-the-same-domain",content:"You can run the web app and API on the same apex domain using different paths or subdomains:"},{heading:"subdomain-approach-recommended",content:"This is the simplest and most maintainable configuration."},{heading:"path-based-approach-advanced",content:"Using Cloudflare Workers routes, you can route /api/* to the Worker and everything else to Pages. This requires additional Worker configuration and is not recommended for most users."},{heading:"verifying-the-complete-setup",content:"After configuring custom domains, run through this checklist:"},{heading:"verifying-the-complete-setup",content:"Public page: Visit https://yourdomain.com -- you should see your link page."},{heading:"verifying-the-complete-setup",content:"HTTPS: The browser shows a lock icon (SSL is active)."},{heading:"verifying-the-complete-setup",content:"Admin panel: Navigate to https://yourdomain.com/admin -- the Better Auth login page loads."},{heading:"verifying-the-complete-setup",content:"Authentication: Sign in successfully and reach the admin dashboard."},{heading:"verifying-the-complete-setup",content:"API connection: Create or edit a link in the admin panel -- the change saves without errors."},{heading:"verifying-the-complete-setup",content:"API domain: Visit https://api.yourdomain.com directly -- it should return a response (not a 404 or connection error)."},{heading:"verifying-the-complete-setup",content:"Analytics: View the analytics page and confirm page view data is being recorded."},{heading:"removing-a-custom-domain",content:"To remove a custom domain:"},{heading:"removing-a-custom-domain",content:"Go to the Cloudflare dashboard."},{heading:"removing-a-custom-domain",content:"Navigate to the Pages project or Worker."},{heading:"removing-a-custom-domain",content:"Go to Custom Domains."},{heading:"removing-a-custom-domain",content:"Click the three-dot menu next to the domain and select Remove."},{heading:"removing-a-custom-domain",content:"Remove the corresponding CNAME record from your DNS provider."},{heading:"removing-a-custom-domain",content:"Update your environment variables back to the default *.workers.dev / *.workers.dev URLs."},{heading:"removing-a-custom-domain",content:"Redeploy."}],headings:[{id:"custom-domain-setup",content:"Custom Domain Setup"},{id:"overview",content:"Overview"},{id:"option-1-domain-on-cloudflare-dns-recommended",content:"Option 1: Domain on Cloudflare DNS (Recommended)"},{id:"add-your-domain-to-cloudflare",content:"Add Your Domain to Cloudflare"},{id:"set-up-custom-domains-for-workers",content:"Set Up Custom Domains for Workers"},{id:"update-environment-variables",content:"Update Environment Variables"},{id:"option-2-domain-on-external-dns-namecheap-godaddy-route-53-etc",content:"Option 2: Domain on External DNS (Namecheap, GoDaddy, Route 53, etc.)"},{id:"step-1-add-the-domain-in-cloudflare",content:"Step 1: Add the Domain in Cloudflare"},{id:"step-2-add-dns-records-at-your-provider",content:"Step 2: Add DNS Records at Your Provider"},{id:"for-the-web-app-pages",content:"For the Web App (Pages)"},{id:"for-the-api-worker",content:"For the API (Worker)"},{id:"provider-specific-instructions",content:"Provider-Specific Instructions"},{id:"namecheap",content:"Namecheap"},{id:"godaddy",content:"GoDaddy"},{id:"amazon-route-53",content:"Amazon Route 53"},{id:"cloudflare-registrar-domain-not-yet-proxied",content:"Cloudflare Registrar (Domain Not Yet Proxied)"},{id:"step-3-wait-for-dns-propagation",content:"Step 3: Wait for DNS Propagation"},{id:"step-4-ssl-certificate-provisioning",content:"Step 4: SSL Certificate Provisioning"},{id:"apex-domain-configuration",content:"Apex Domain Configuration"},{id:"cloudflare-dns-works-automatically",content:"Cloudflare DNS (Works Automatically)"},{id:"external-dns-limitations",content:"External DNS (Limitations)"},{id:"setting-up-both-web-and-api-on-the-same-domain",content:"Setting Up Both Web and API on the Same Domain"},{id:"subdomain-approach-recommended",content:"Subdomain Approach (Recommended)"},{id:"path-based-approach-advanced",content:"Path-Based Approach (Advanced)"},{id:"verifying-the-complete-setup",content:"Verifying the Complete Setup"},{id:"removing-a-custom-domain",content:"Removing a Custom Domain"}]},e=[{depth:1,url:"#custom-domain-setup",title:(0,b.jsx)(b.Fragment,{children:"Custom Domain Setup"})},{depth:2,url:"#overview",title:(0,b.jsx)(b.Fragment,{children:"Overview"})},{depth:2,url:"#option-1-domain-on-cloudflare-dns-recommended",title:(0,b.jsx)(b.Fragment,{children:"Option 1: Domain on Cloudflare DNS (Recommended)"})},{depth:3,url:"#add-your-domain-to-cloudflare",title:(0,b.jsx)(b.Fragment,{children:"Add Your Domain to Cloudflare"})},{depth:3,url:"#set-up-custom-domains-for-workers",title:(0,b.jsx)(b.Fragment,{children:"Set Up Custom Domains for Workers"})},{depth:3,url:"#update-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Update Environment Variables"})},{depth:2,url:"#option-2-domain-on-external-dns-namecheap-godaddy-route-53-etc",title:(0,b.jsx)(b.Fragment,{children:"Option 2: Domain on External DNS (Namecheap, GoDaddy, Route 53, etc.)"})},{depth:3,url:"#step-1-add-the-domain-in-cloudflare",title:(0,b.jsx)(b.Fragment,{children:"Step 1: Add the Domain in Cloudflare"})},{depth:3,url:"#step-2-add-dns-records-at-your-provider",title:(0,b.jsx)(b.Fragment,{children:"Step 2: Add DNS Records at Your Provider"})},{depth:4,url:"#for-the-web-app-pages",title:(0,b.jsx)(b.Fragment,{children:"For the Web App (Pages)"})},{depth:4,url:"#for-the-api-worker",title:(0,b.jsx)(b.Fragment,{children:"For the API (Worker)"})},{depth:3,url:"#provider-specific-instructions",title:(0,b.jsx)(b.Fragment,{children:"Provider-Specific Instructions"})},{depth:4,url:"#namecheap",title:(0,b.jsx)(b.Fragment,{children:"Namecheap"})},{depth:4,url:"#godaddy",title:(0,b.jsx)(b.Fragment,{children:"GoDaddy"})},{depth:4,url:"#amazon-route-53",title:(0,b.jsx)(b.Fragment,{children:"Amazon Route 53"})},{depth:4,url:"#cloudflare-registrar-domain-not-yet-proxied",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare Registrar (Domain Not Yet Proxied)"})},{depth:3,url:"#step-3-wait-for-dns-propagation",title:(0,b.jsx)(b.Fragment,{children:"Step 3: Wait for DNS Propagation"})},{depth:3,url:"#step-4-ssl-certificate-provisioning",title:(0,b.jsx)(b.Fragment,{children:"Step 4: SSL Certificate Provisioning"})},{depth:2,url:"#apex-domain-configuration",title:(0,b.jsx)(b.Fragment,{children:"Apex Domain Configuration"})},{depth:3,url:"#cloudflare-dns-works-automatically",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare DNS (Works Automatically)"})},{depth:3,url:"#external-dns-limitations",title:(0,b.jsx)(b.Fragment,{children:"External DNS (Limitations)"})},{depth:2,url:"#setting-up-both-web-and-api-on-the-same-domain",title:(0,b.jsx)(b.Fragment,{children:"Setting Up Both Web and API on the Same Domain"})},{depth:3,url:"#subdomain-approach-recommended",title:(0,b.jsx)(b.Fragment,{children:"Subdomain Approach (Recommended)"})},{depth:3,url:"#path-based-approach-advanced",title:(0,b.jsx)(b.Fragment,{children:"Path-Based Approach (Advanced)"})},{depth:2,url:"#verifying-the-complete-setup",title:(0,b.jsx)(b.Fragment,{children:"Verifying the Complete Setup"})},{depth:2,url:"#removing-a-custom-domain",title:(0,b.jsx)(b.Fragment,{children:"Removing a Custom Domain"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"custom-domain-setup",children:"Custom Domain Setup"}),"\n",(0,b.jsxs)(c.p,{children:["After deploying LinkDen, you can add a custom domain so your link page is accessible at ",(0,b.jsx)(c.code,{children:"yourdomain.com"})," instead of the default ",(0,b.jsx)(c.code,{children:"*.workers.dev"})," URL. This guide covers setup for both the web app and API Workers, with instructions for various DNS providers."]}),"\n",(0,b.jsx)(c.h2,{id:"overview",children:"Overview"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen has two Workers that can each get a custom domain:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Service"}),(0,b.jsx)(c.th,{children:"Default URL"}),(0,b.jsx)(c.th,{children:"Custom Domain Example"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Web app (Worker)"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"linkden-web.your-subdomain.workers.dev"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"links.yourdomain.com"})," or ",(0,b.jsx)(c.code,{children:"yourdomain.com"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"API (Worker)"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"linkden-api.your-subdomain.workers.dev"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"api.yourdomain.com"})})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"You can set up a custom domain for one or both services."}),"\n",(0,b.jsx)(c.h2,{id:"option-1-domain-on-cloudflare-dns-recommended",children:"Option 1: Domain on Cloudflare DNS (Recommended)"}),"\n",(0,b.jsx)(c.p,{children:"If your domain is already using Cloudflare's nameservers, the setup is nearly automatic and provides the best performance."}),"\n",(0,b.jsx)(c.h3,{id:"add-your-domain-to-cloudflare",children:"Add Your Domain to Cloudflare"}),"\n",(0,b.jsx)(c.p,{children:"If your domain is not yet on Cloudflare:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to the ",(0,b.jsx)(c.a,{href:"https://dash.cloudflare.com",children:"Cloudflare dashboard"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add a site"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter your domain name and select the ",(0,b.jsx)(c.strong,{children:"Free"})," plan."]}),"\n",(0,b.jsx)(c.li,{children:"Cloudflare scans your existing DNS records."}),"\n",(0,b.jsxs)(c.li,{children:["Update your domain's nameservers at your registrar to the ones Cloudflare provides (e.g., ",(0,b.jsx)(c.code,{children:"ada.ns.cloudflare.com"}),", ",(0,b.jsx)(c.code,{children:"bob.ns.cloudflare.com"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"Wait for nameserver propagation (usually 15 minutes to 24 hours)."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"set-up-custom-domains-for-workers",children:"Set Up Custom Domains for Workers"}),"\n",(0,b.jsxs)(c.p,{children:["For each Worker (",(0,b.jsx)(c.code,{children:"linkden-web"})," and ",(0,b.jsx)(c.code,{children:"linkden-api"}),"):"]}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Workers & Pages"})," in the Cloudflare dashboard."]}),"\n",(0,b.jsx)(c.li,{children:"Click on the Worker."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings > Domains & Routes"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add Custom Domain"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter your domain (e.g., ",(0,b.jsx)(c.code,{children:"links.yourdomain.com"})," for web, ",(0,b.jsx)(c.code,{children:"api.yourdomain.com"})," for API)."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add Custom Domain"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Cloudflare automatically creates the DNS record and provisions an SSL certificate."}),"\n",(0,b.jsx)(c.h3,{id:"update-environment-variables",children:"Update Environment Variables"}),"\n",(0,b.jsx)(c.p,{children:"After adding custom domains, update your environment variables:"}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsxs)(c.strong,{children:[(0,b.jsx)(c.code,{children:"apps/web/.env"}),":"]})}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_API_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SITE_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://yourdomain.com"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"Worker environment variables (via dashboard or Wrangler):"})}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"APP_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://yourdomain.com"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"Redeploy for changes to take effect:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:deploy"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"option-2-domain-on-external-dns-namecheap-godaddy-route-53-etc",children:"Option 2: Domain on External DNS (Namecheap, GoDaddy, Route 53, etc.)"}),"\n",(0,b.jsx)(c.p,{children:"If your domain uses a DNS provider other than Cloudflare, you need to manually add DNS records."}),"\n",(0,b.jsx)(c.h3,{id:"step-1-add-the-domain-in-cloudflare",children:"Step 1: Add the Domain in Cloudflare"}),"\n",(0,b.jsx)(c.p,{children:"Follow the same steps as Option 1 to add the custom domain in the Cloudflare dashboard (Workers & Pages > your Worker > Settings > Domains & Routes). Cloudflare shows you the required DNS record."}),"\n",(0,b.jsx)(c.h3,{id:"step-2-add-dns-records-at-your-provider",children:"Step 2: Add DNS Records at Your Provider"}),"\n",(0,b.jsx)(c.h4,{id:"for-the-web-app-pages",children:"For the Web App (Pages)"}),"\n",(0,b.jsx)(c.p,{children:"Add a CNAME record at your DNS provider:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Name"}),(0,b.jsx)(c.th,{children:"Target"}),(0,b.jsx)(c.th,{children:"TTL"})]})}),(0,b.jsx)(c.tbody,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"CNAME"}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"@"})," or subdomain"]}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"linkden-web.your-subdomain.workers.dev"})}),(0,b.jsx)(c.td,{children:"Auto or 300"})]})})]}),"\n",(0,b.jsxs)(c.p,{children:["Replace ",(0,b.jsx)(c.code,{children:"linkden-web.your-subdomain.workers.dev"})," with the actual Pages URL shown in the Cloudflare dashboard."]}),"\n",(0,b.jsx)(c.h4,{id:"for-the-api-worker",children:"For the API (Worker)"}),"\n",(0,b.jsx)(c.p,{children:"Add a CNAME record for the API subdomain:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Name"}),(0,b.jsx)(c.th,{children:"Target"}),(0,b.jsx)(c.th,{children:"TTL"})]})}),(0,b.jsx)(c.tbody,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"CNAME"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"api"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"linkden-api.your-subdomain.workers.dev"})}),(0,b.jsx)(c.td,{children:"Auto or 300"})]})})]}),"\n",(0,b.jsx)(c.h3,{id:"provider-specific-instructions",children:"Provider-Specific Instructions"}),"\n",(0,b.jsx)(c.h4,{id:"namecheap",children:"Namecheap"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Log in to your Namecheap account."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Domain List"})," and click ",(0,b.jsx)(c.strong,{children:"Manage"})," next to your domain."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to the ",(0,b.jsx)(c.strong,{children:"Advanced DNS"})," tab."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add New Record"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Select ",(0,b.jsx)(c.strong,{children:"CNAME Record"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["For the host, enter ",(0,b.jsx)(c.code,{children:"@"})," (apex) or your subdomain (e.g., ",(0,b.jsx)(c.code,{children:"links"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:["For the value, enter ",(0,b.jsx)(c.code,{children:"linkden-web.your-subdomain.workers.dev"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Set TTL to ",(0,b.jsx)(c.strong,{children:"Automatic"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Click the checkmark to save."}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Note: Namecheap does not support CNAME records on the apex domain (",(0,b.jsx)(c.code,{children:"@"}),"). Use a subdomain or transfer your domain to Cloudflare."]}),"\n",(0,b.jsx)(c.h4,{id:"godaddy",children:"GoDaddy"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Log in to your GoDaddy account."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"My Products"})," and click ",(0,b.jsx)(c.strong,{children:"DNS"})," next to your domain."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add"})," under the records table."]}),"\n",(0,b.jsxs)(c.li,{children:["Select ",(0,b.jsx)(c.strong,{children:"CNAME"})," as the type."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter the host (",(0,b.jsx)(c.code,{children:"@"})," for apex, or a subdomain like ",(0,b.jsx)(c.code,{children:"links"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter the target as ",(0,b.jsx)(c.code,{children:"linkden-web.your-subdomain.workers.dev"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Set TTL to ",(0,b.jsx)(c.strong,{children:"1 Hour"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Note: GoDaddy does not support CNAME on the apex domain. Use a subdomain or transfer to Cloudflare."}),"\n",(0,b.jsx)(c.h4,{id:"amazon-route-53",children:"Amazon Route 53"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Open the ",(0,b.jsx)(c.a,{href:"https://console.aws.amazon.com/route53/",children:"Route 53 console"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Hosted zones"})," and click on your domain."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Create record"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"For the record name, enter a subdomain or leave blank for apex."}),"\n",(0,b.jsxs)(c.li,{children:["For record type, select ",(0,b.jsx)(c.strong,{children:"CNAME"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Enter ",(0,b.jsx)(c.code,{children:"linkden-web.your-subdomain.workers.dev"})," as the value."]}),"\n",(0,b.jsxs)(c.li,{children:["Set TTL to ",(0,b.jsx)(c.strong,{children:"300"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Create records"}),"."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["For apex domains, Route 53 supports ",(0,b.jsx)(c.strong,{children:"ALIAS records"}),": select record type ",(0,b.jsx)(c.strong,{children:"A"})," and toggle ",(0,b.jsx)(c.strong,{children:"Alias"})," on, but note this only works for AWS resources. For Cloudflare Pages, use a subdomain or transfer to Cloudflare DNS."]}),"\n",(0,b.jsx)(c.h4,{id:"cloudflare-registrar-domain-not-yet-proxied",children:"Cloudflare Registrar (Domain Not Yet Proxied)"}),"\n",(0,b.jsx)(c.p,{children:"If your domain is registered with Cloudflare but not yet using Cloudflare DNS:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Go to the Cloudflare dashboard."}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add a site"})," and add your domain."]}),"\n",(0,b.jsx)(c.li,{children:'The DNS records are managed directly in Cloudflare -- follow the "Option 1" instructions above.'}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"step-3-wait-for-dns-propagation",children:"Step 3: Wait for DNS Propagation"}),"\n",(0,b.jsx)(c.p,{children:"DNS changes can take up to 48 hours to propagate globally, though most providers update within 5-30 minutes."}),"\n",(0,b.jsx)(c.p,{children:"To check propagation status:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Check CNAME resolution"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"dig"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yourdomain.com"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" CNAME"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +short"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Check if the domain resolves"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"dig"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yourdomain.com"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" A"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +short"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Or use nslookup"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"nslookup"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yourdomain.com"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"You can also use online tools:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"https://www.whatsmydns.net/",children:"whatsmydns.net"})," -- check DNS propagation worldwide"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"https://www.dnschecker.org/",children:"dnschecker.org"})," -- similar global DNS checker"]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Cloudflare shows the domain as ",(0,b.jsx)(c.strong,{children:'"Active"'})," in the dashboard once the CNAME is verified."]}),"\n",(0,b.jsx)(c.h3,{id:"step-4-ssl-certificate-provisioning",children:"Step 4: SSL Certificate Provisioning"}),"\n",(0,b.jsx)(c.p,{children:"Cloudflare automatically provisions a free SSL certificate for your custom domain once DNS verification completes."}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"For Cloudflare DNS domains"}),": The certificate is issued instantly."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"For external DNS domains"}),": The certificate is issued after the CNAME record is verified (typically within 15 minutes of DNS propagation)."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"No manual certificate management, renewal, or configuration is needed. Cloudflare handles the entire certificate lifecycle."}),"\n",(0,b.jsx)(c.p,{children:"To verify SSL is active:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Visit ",(0,b.jsx)(c.code,{children:"https://yourdomain.com"})," in your browser."]}),"\n",(0,b.jsx)(c.li,{children:"Click the lock icon in the address bar."}),"\n",(0,b.jsx)(c.li,{children:"Verify the certificate is issued by Cloudflare."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"apex-domain-configuration",children:"Apex Domain Configuration"}),"\n",(0,b.jsxs)(c.p,{children:["An apex domain (also called a root domain or naked domain) is ",(0,b.jsx)(c.code,{children:"yourdomain.com"})," without any subdomain prefix."]}),"\n",(0,b.jsx)(c.h3,{id:"cloudflare-dns-works-automatically",children:"Cloudflare DNS (Works Automatically)"}),"\n",(0,b.jsxs)(c.p,{children:["If your domain uses Cloudflare DNS, apex domains work automatically. Cloudflare uses ",(0,b.jsx)(c.strong,{children:"CNAME flattening"})," to resolve CNAME records at the apex into A records, which is required by the DNS specification."]}),"\n",(0,b.jsx)(c.p,{children:"Simply add your apex domain as a custom domain for Pages, and Cloudflare handles the rest."}),"\n",(0,b.jsx)(c.h3,{id:"external-dns-limitations",children:"External DNS (Limitations)"}),"\n",(0,b.jsxs)(c.p,{children:["Most external DNS providers do ",(0,b.jsx)(c.strong,{children:"not"})," support CNAME records on the apex domain because the DNS specification (RFC 1034) forbids CNAME records at the zone apex when other records exist (like SOA and NS)."]}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"Your options:"})}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"Transfer your domain to Cloudflare DNS (recommended)"}),": Cloudflare's registrar is free and supports CNAME flattening at the apex. This is the simplest solution."]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"Use a subdomain instead"}),": Use ",(0,b.jsx)(c.code,{children:"links.yourdomain.com"})," or ",(0,b.jsx)(c.code,{children:"www.yourdomain.com"})," instead of the bare apex domain."]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"Check for ALIAS/ANAME support"}),": Some providers offer proprietary record types that work like CNAME at the apex:"]}),"\n"]}),"\n"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Provider"}),(0,b.jsx)(c.th,{children:"Apex CNAME Alternative"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Route 53"}),(0,b.jsx)(c.td,{children:"ALIAS (AWS resources only)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"DNSimple"}),(0,b.jsx)(c.td,{children:"ALIAS"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"NS1"}),(0,b.jsx)(c.td,{children:"ALIAS"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Netlify DNS"}),(0,b.jsx)(c.td,{children:"ALIAS"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Cloudflare"}),(0,b.jsx)(c.td,{children:"CNAME flattening (automatic)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Namecheap"}),(0,b.jsx)(c.td,{children:"Not supported"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"GoDaddy"}),(0,b.jsx)(c.td,{children:"Not supported"})]})]})]}),"\n",(0,b.jsxs)(c.ol,{start:"4",children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Set up a redirect"}),": Configure a redirect from the apex domain to a ",(0,b.jsx)(c.code,{children:"www"})," subdomain at your DNS provider, then point ",(0,b.jsx)(c.code,{children:"www"})," via CNAME to Pages."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"setting-up-both-web-and-api-on-the-same-domain",children:"Setting Up Both Web and API on the Same Domain"}),"\n",(0,b.jsx)(c.p,{children:"You can run the web app and API on the same apex domain using different paths or subdomains:"}),"\n",(0,b.jsx)(c.h3,{id:"subdomain-approach-recommended",children:"Subdomain Approach (Recommended)"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"yourdomain.com       → Cloudflare Pages (web app)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"api.yourdomain.com   → Cloudflare Worker (API)"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"This is the simplest and most maintainable configuration."}),"\n",(0,b.jsx)(c.h3,{id:"path-based-approach-advanced",children:"Path-Based Approach (Advanced)"}),"\n",(0,b.jsxs)(c.p,{children:["Using Cloudflare Workers routes, you can route ",(0,b.jsx)(c.code,{children:"/api/*"})," to the Worker and everything else to Pages. This requires additional Worker configuration and is not recommended for most users."]}),"\n",(0,b.jsx)(c.h2,{id:"verifying-the-complete-setup",children:"Verifying the Complete Setup"}),"\n",(0,b.jsx)(c.p,{children:"After configuring custom domains, run through this checklist:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Public page"}),": Visit ",(0,b.jsx)(c.code,{children:"https://yourdomain.com"})," -- you should see your link page."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"HTTPS"}),": The browser shows a lock icon (SSL is active)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Admin panel"}),": Navigate to ",(0,b.jsx)(c.code,{children:"https://yourdomain.com/admin"})," -- the Better Auth login page loads."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Authentication"}),": Sign in successfully and reach the admin dashboard."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"API connection"}),": Create or edit a link in the admin panel -- the change saves without errors."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"API domain"}),": Visit ",(0,b.jsx)(c.code,{children:"https://api.yourdomain.com"})," directly -- it should return a response (not a 404 or connection error)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Analytics"}),": View the analytics page and confirm page view data is being recorded."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"removing-a-custom-domain",children:"Removing a Custom Domain"}),"\n",(0,b.jsx)(c.p,{children:"To remove a custom domain:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Go to the Cloudflare dashboard."}),"\n",(0,b.jsx)(c.li,{children:"Navigate to the Pages project or Worker."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Custom Domains"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click the three-dot menu next to the domain and select ",(0,b.jsx)(c.strong,{children:"Remove"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Remove the corresponding CNAME record from your DNS provider."}),"\n",(0,b.jsxs)(c.li,{children:["Update your environment variables back to the default ",(0,b.jsx)(c.code,{children:"*.workers.dev"})," / ",(0,b.jsx)(c.code,{children:"*.workers.dev"})," URLs."]}),"\n",(0,b.jsx)(c.li,{children:"Redeploy."}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nCustom Domain Setup [#custom-domain-setup]\n\nAfter deploying LinkDen, you can add a custom domain so your link page is accessible at `yourdomain.com` instead of the default `*.workers.dev` URL. This guide covers setup for both the web app and API Workers, with instructions for various DNS providers.\n\nOverview [#overview]\n\nLinkDen has two Workers that can each get a custom domain:\n\n| Service          | Default URL                              | Custom Domain Example                      |\n| ---------------- | ---------------------------------------- | ------------------------------------------ |\n| Web app (Worker) | `linkden-web.your-subdomain.workers.dev` | `links.yourdomain.com` or `yourdomain.com` |\n| API (Worker)     | `linkden-api.your-subdomain.workers.dev` | `api.yourdomain.com`                       |\n\nYou can set up a custom domain for one or both services.\n\nOption 1: Domain on Cloudflare DNS (Recommended) [#option-1-domain-on-cloudflare-dns-recommended]\n\nIf your domain is already using Cloudflare\'s nameservers, the setup is nearly automatic and provides the best performance.\n\nAdd Your Domain to Cloudflare [#add-your-domain-to-cloudflare]\n\nIf your domain is not yet on Cloudflare:\n\n1. Go to the [Cloudflare dashboard](https://dash.cloudflare.com).\n2. Click **Add a site**.\n3. Enter your domain name and select the **Free** plan.\n4. Cloudflare scans your existing DNS records.\n5. Update your domain\'s nameservers at your registrar to the ones Cloudflare provides (e.g., `ada.ns.cloudflare.com`, `bob.ns.cloudflare.com`).\n6. Wait for nameserver propagation (usually 15 minutes to 24 hours).\n\nSet Up Custom Domains for Workers [#set-up-custom-domains-for-workers]\n\nFor each Worker (`linkden-web` and `linkden-api`):\n\n1. Go to **Workers & Pages** in the Cloudflare dashboard.\n2. Click on the Worker.\n3. Go to **Settings > Domains & Routes**.\n4. Click **Add Custom Domain**.\n5. Enter your domain (e.g., `links.yourdomain.com` for web, `api.yourdomain.com` for API).\n6. Click **Add Custom Domain**.\n\nCloudflare automatically creates the DNS record and provisions an SSL certificate.\n\nUpdate Environment Variables [#update-environment-variables]\n\nAfter adding custom domains, update your environment variables:\n\n**`apps/web/.env`:**\n\n```bash\nNEXT_PUBLIC_API_URL=https://api.yourdomain.com\nNEXT_PUBLIC_SITE_URL=https://yourdomain.com\n```\n\n**Worker environment variables (via dashboard or Wrangler):**\n\n```bash\nCORS_ORIGIN=https://yourdomain.com\nAPP_URL=https://yourdomain.com\n```\n\nRedeploy for changes to take effect:\n\n```bash\npnpm cf:deploy\n```\n\nOption 2: Domain on External DNS (Namecheap, GoDaddy, Route 53, etc.) [#option-2-domain-on-external-dns-namecheap-godaddy-route-53-etc]\n\nIf your domain uses a DNS provider other than Cloudflare, you need to manually add DNS records.\n\nStep 1: Add the Domain in Cloudflare [#step-1-add-the-domain-in-cloudflare]\n\nFollow the same steps as Option 1 to add the custom domain in the Cloudflare dashboard (Workers & Pages > your Worker > Settings > Domains & Routes). Cloudflare shows you the required DNS record.\n\nStep 2: Add DNS Records at Your Provider [#step-2-add-dns-records-at-your-provider]\n\nFor the Web App (Pages) [#for-the-web-app-pages]\n\nAdd a CNAME record at your DNS provider:\n\n| Type  | Name             | Target                                   | TTL         |\n| ----- | ---------------- | ---------------------------------------- | ----------- |\n| CNAME | `@` or subdomain | `linkden-web.your-subdomain.workers.dev` | Auto or 300 |\n\nReplace `linkden-web.your-subdomain.workers.dev` with the actual Pages URL shown in the Cloudflare dashboard.\n\nFor the API (Worker) [#for-the-api-worker]\n\nAdd a CNAME record for the API subdomain:\n\n| Type  | Name  | Target                                   | TTL         |\n| ----- | ----- | ---------------------------------------- | ----------- |\n| CNAME | `api` | `linkden-api.your-subdomain.workers.dev` | Auto or 300 |\n\nProvider-Specific Instructions [#provider-specific-instructions]\n\nNamecheap [#namecheap]\n\n1. Log in to your Namecheap account.\n2. Go to **Domain List** and click **Manage** next to your domain.\n3. Go to the **Advanced DNS** tab.\n4. Click **Add New Record**.\n5. Select **CNAME Record**.\n6. For the host, enter `@` (apex) or your subdomain (e.g., `links`).\n7. For the value, enter `linkden-web.your-subdomain.workers.dev`.\n8. Set TTL to **Automatic**.\n9. Click the checkmark to save.\n\nNote: Namecheap does not support CNAME records on the apex domain (`@`). Use a subdomain or transfer your domain to Cloudflare.\n\nGoDaddy [#godaddy]\n\n1. Log in to your GoDaddy account.\n2. Go to **My Products** and click **DNS** next to your domain.\n3. Click **Add** under the records table.\n4. Select **CNAME** as the type.\n5. Enter the host (`@` for apex, or a subdomain like `links`).\n6. Enter the target as `linkden-web.your-subdomain.workers.dev`.\n7. Set TTL to **1 Hour**.\n8. Click **Save**.\n\nNote: GoDaddy does not support CNAME on the apex domain. Use a subdomain or transfer to Cloudflare.\n\nAmazon Route 53 [#amazon-route-53]\n\n1. Open the [Route 53 console](https://console.aws.amazon.com/route53/).\n2. Go to **Hosted zones** and click on your domain.\n3. Click **Create record**.\n4. For the record name, enter a subdomain or leave blank for apex.\n5. For record type, select **CNAME**.\n6. Enter `linkden-web.your-subdomain.workers.dev` as the value.\n7. Set TTL to **300**.\n8. Click **Create records**.\n\nFor apex domains, Route 53 supports **ALIAS records**: select record type **A** and toggle **Alias** on, but note this only works for AWS resources. For Cloudflare Pages, use a subdomain or transfer to Cloudflare DNS.\n\nCloudflare Registrar (Domain Not Yet Proxied) [#cloudflare-registrar-domain-not-yet-proxied]\n\nIf your domain is registered with Cloudflare but not yet using Cloudflare DNS:\n\n1. Go to the Cloudflare dashboard.\n2. Click **Add a site** and add your domain.\n3. The DNS records are managed directly in Cloudflare -- follow the "Option 1" instructions above.\n\nStep 3: Wait for DNS Propagation [#step-3-wait-for-dns-propagation]\n\nDNS changes can take up to 48 hours to propagate globally, though most providers update within 5-30 minutes.\n\nTo check propagation status:\n\n```bash\n# Check CNAME resolution\ndig yourdomain.com CNAME +short\n\n# Check if the domain resolves\ndig yourdomain.com A +short\n\n# Or use nslookup\nnslookup yourdomain.com\n```\n\nYou can also use online tools:\n\n* [whatsmydns.net](https://www.whatsmydns.net/) -- check DNS propagation worldwide\n* [dnschecker.org](https://www.dnschecker.org/) -- similar global DNS checker\n\nCloudflare shows the domain as **"Active"** in the dashboard once the CNAME is verified.\n\nStep 4: SSL Certificate Provisioning [#step-4-ssl-certificate-provisioning]\n\nCloudflare automatically provisions a free SSL certificate for your custom domain once DNS verification completes.\n\n* **For Cloudflare DNS domains**: The certificate is issued instantly.\n* **For external DNS domains**: The certificate is issued after the CNAME record is verified (typically within 15 minutes of DNS propagation).\n\nNo manual certificate management, renewal, or configuration is needed. Cloudflare handles the entire certificate lifecycle.\n\nTo verify SSL is active:\n\n1. Visit `https://yourdomain.com` in your browser.\n2. Click the lock icon in the address bar.\n3. Verify the certificate is issued by Cloudflare.\n\nApex Domain Configuration [#apex-domain-configuration]\n\nAn apex domain (also called a root domain or naked domain) is `yourdomain.com` without any subdomain prefix.\n\nCloudflare DNS (Works Automatically) [#cloudflare-dns-works-automatically]\n\nIf your domain uses Cloudflare DNS, apex domains work automatically. Cloudflare uses **CNAME flattening** to resolve CNAME records at the apex into A records, which is required by the DNS specification.\n\nSimply add your apex domain as a custom domain for Pages, and Cloudflare handles the rest.\n\nExternal DNS (Limitations) [#external-dns-limitations]\n\nMost external DNS providers do **not** support CNAME records on the apex domain because the DNS specification (RFC 1034) forbids CNAME records at the zone apex when other records exist (like SOA and NS).\n\n**Your options:**\n\n1. **Transfer your domain to Cloudflare DNS (recommended)**: Cloudflare\'s registrar is free and supports CNAME flattening at the apex. This is the simplest solution.\n\n2. **Use a subdomain instead**: Use `links.yourdomain.com` or `www.yourdomain.com` instead of the bare apex domain.\n\n3. **Check for ALIAS/ANAME support**: Some providers offer proprietary record types that work like CNAME at the apex:\n\n| Provider    | Apex CNAME Alternative       |\n| ----------- | ---------------------------- |\n| Route 53    | ALIAS (AWS resources only)   |\n| DNSimple    | ALIAS                        |\n| NS1         | ALIAS                        |\n| Netlify DNS | ALIAS                        |\n| Cloudflare  | CNAME flattening (automatic) |\n| Namecheap   | Not supported                |\n| GoDaddy     | Not supported                |\n\n4. **Set up a redirect**: Configure a redirect from the apex domain to a `www` subdomain at your DNS provider, then point `www` via CNAME to Pages.\n\nSetting Up Both Web and API on the Same Domain [#setting-up-both-web-and-api-on-the-same-domain]\n\nYou can run the web app and API on the same apex domain using different paths or subdomains:\n\nSubdomain Approach (Recommended) [#subdomain-approach-recommended]\n\n```\nyourdomain.com       → Cloudflare Pages (web app)\napi.yourdomain.com   → Cloudflare Worker (API)\n```\n\nThis is the simplest and most maintainable configuration.\n\nPath-Based Approach (Advanced) [#path-based-approach-advanced]\n\nUsing Cloudflare Workers routes, you can route `/api/*` to the Worker and everything else to Pages. This requires additional Worker configuration and is not recommended for most users.\n\nVerifying the Complete Setup [#verifying-the-complete-setup]\n\nAfter configuring custom domains, run through this checklist:\n\n1. **Public page**: Visit `https://yourdomain.com` -- you should see your link page.\n2. **HTTPS**: The browser shows a lock icon (SSL is active).\n3. **Admin panel**: Navigate to `https://yourdomain.com/admin` -- the Better Auth login page loads.\n4. **Authentication**: Sign in successfully and reach the admin dashboard.\n5. **API connection**: Create or edit a link in the admin panel -- the change saves without errors.\n6. **API domain**: Visit `https://api.yourdomain.com` directly -- it should return a response (not a 404 or connection error).\n7. **Analytics**: View the analytics page and confirm page view data is being recorded.\n\nRemoving a Custom Domain [#removing-a-custom-domain]\n\nTo remove a custom domain:\n\n1. Go to the Cloudflare dashboard.\n2. Navigate to the Pages project or Worker.\n3. Go to **Custom Domains**.\n4. Click the three-dot menu next to the domain and select **Remove**.\n5. Remove the corresponding CNAME record from your DNS provider.\n6. Update your environment variables back to the default `*.workers.dev` / `*.workers.dev` URLs.\n7. Redeploy.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},14412,a=>{"use strict";var b=a.i(69819);let c={title:"Coolify Deployment",description:"Deploy LinkDen on Coolify, an open-source self-hosted PaaS alternative to Heroku and Vercel."},d={contents:[{heading:"coolify-deployment",content:"Coolify is an open-source, self-hosted Platform as a Service (PaaS). It provides a Heroku/Vercel-like experience on your own infrastructure -- automatic deployments, SSL certificates, and a web dashboard for managing services, all running on a server you control."},{heading:"coolify-deployment",content:"This guide covers deploying both the LinkDen API server and web app on Coolify using Docker."},{heading:"why-coolify",content:"Self-hosted: Runs entirely on your own server with no vendor lock-in."},{heading:"why-coolify",content:"Free and open-source: No per-app fees or usage-based billing."},{heading:"why-coolify",content:"Automatic SSL: Let's Encrypt certificates are provisioned and renewed automatically."},{heading:"why-coolify",content:"Git-based deployments: Push to a branch and Coolify rebuilds automatically."},{heading:"why-coolify",content:"Docker-native: Full control over your build and runtime environment."},{heading:"why-coolify",content:"Built-in database management: SQLite volumes, PostgreSQL, MySQL, and more."},{heading:"prerequisites",content:"A Coolify instance running on a server. If you do not have one:"},{heading:"prerequisites",content:"Minimum server: 2 CPU cores, 2 GB RAM, 30 GB disk (a $12/month VPS from Hetzner, DigitalOcean, or similar)."},{heading:"prerequisites",content:"Install Coolify with the one-line installer:"},{heading:"prerequisites",content:"Access the Coolify dashboard at http://your-server-ip:8000."},{heading:"prerequisites",content:"A domain name (optional but recommended for SSL)."},{heading:"prerequisites",content:"The LinkDen repository accessible from your Coolify instance (public GitHub repo or a connected private repo)."},{heading:"architecture-on-coolify",content:"Since Coolify does not have Cloudflare D1, LinkDen uses a SQLite file instead of D1 for the database. The architecture looks like this:"},{heading:"architecture-on-coolify",content:"Both services run as Docker containers managed by Coolify, with SQLite stored on a persistent Docker volume."},{heading:"step-1-prepare-the-dockerfiles",content:"Coolify deploys using Docker, so you need Dockerfiles for both services. Create them in the project root."},{heading:"api-server-dockerfile",content:"Create Dockerfile.api in the repository root:"},{heading:"api-server-dockerfile",content:"Note: Since the Hono server is designed for Cloudflare Workers, you may need to adapt the entry point to run on Node.js. A practical approach is to use @hono/node-server:"},{heading:"api-server-dockerfile",content:"Create apps/server/src/node-entry.ts for Node.js compatibility:"},{heading:"api-server-dockerfile",content:"You will also need to add @hono/node-server and a SQLite driver to the server dependencies:"},{heading:"web-app-dockerfile",content:"Create Dockerfile.web in the repository root:"},{heading:"step-2-create-a-docker-compose-file-optional",content:"For local testing before deploying to Coolify, create docker-compose.yml:"},{heading:"step-3-set-up-the-project-in-coolify",content:"Open your Coolify dashboard."},{heading:"step-3-set-up-the-project-in-coolify",content:"Navigate to Projects and click New Project."},{heading:"step-3-set-up-the-project-in-coolify",content:"Name it LinkDen and click Create."},{heading:"step-3-set-up-the-project-in-coolify",content:"Click into the project and create a new Environment (e.g., production)."},{heading:"step-4-deploy-the-api-service",content:"In your project environment, click New Resource."},{heading:"step-4-deploy-the-api-service",content:"Select Docker (or Docker Compose if you want to deploy both services together)."},{heading:"step-4-deploy-the-api-service",content:"Choose your source:"},{heading:"step-4-deploy-the-api-service",content:"GitHub: Connect your GitHub account and select the LinkDen repository."},{heading:"step-4-deploy-the-api-service",content:"Public repository: Enter the repository URL."},{heading:"step-4-deploy-the-api-service",content:"Configure the service:"},{heading:"step-4-deploy-the-api-service",content:"Name: linkden-api"},{heading:"step-4-deploy-the-api-service",content:"Dockerfile path: Dockerfile.api"},{heading:"step-4-deploy-the-api-service",content:"Build context: . (repository root)"},{heading:"step-4-deploy-the-api-service",content:"Port: 8787"},{heading:"step-4-deploy-the-api-service",content:"Click Deploy."},{heading:"using-docker-compose-in-coolify",content:"Alternatively, deploy both services at once with Docker Compose:"},{heading:"using-docker-compose-in-coolify",content:"Click New Resource > Docker Compose."},{heading:"using-docker-compose-in-coolify",content:"Point to the docker-compose.yml in the repository."},{heading:"using-docker-compose-in-coolify",content:"Coolify detects both services and creates them together."},{heading:"step-5-deploy-the-web-app-service",content:"If deploying services separately (not via Docker Compose):"},{heading:"step-5-deploy-the-web-app-service",content:"Click New Resource > Docker."},{heading:"step-5-deploy-the-web-app-service",content:"Configure:"},{heading:"step-5-deploy-the-web-app-service",content:"Name: linkden-web"},{heading:"step-5-deploy-the-web-app-service",content:"Dockerfile path: Dockerfile.web"},{heading:"step-5-deploy-the-web-app-service",content:"Build context: . (repository root)"},{heading:"step-5-deploy-the-web-app-service",content:"Port: 3001"},{heading:"step-5-deploy-the-web-app-service",content:"Add the build arguments (see Step 6)."},{heading:"step-5-deploy-the-web-app-service",content:"Click Deploy."},{heading:"step-6-configure-environment-variables",content:"In each service's settings in the Coolify dashboard, add the required environment variables."},{heading:"api-service-variables",content:"Variable"},{heading:"api-service-variables",content:"Value"},{heading:"api-service-variables",content:"Notes"},{heading:"api-service-variables",content:"BETTER_AUTH_SECRET"},{heading:"api-service-variables",content:"your-random-secret"},{heading:"api-service-variables",content:"Mark as secret; generate with openssl rand -base64 32"},{heading:"api-service-variables",content:"BETTER_AUTH_URL"},{heading:"api-service-variables",content:"https://api.yourdomain.com"},{heading:"api-service-variables",content:"Base URL of the API server"},{heading:"api-service-variables",content:"CORS_ORIGIN"},{heading:"api-service-variables",content:"https://yourdomain.com"},{heading:"api-service-variables",content:"Must match web app URL"},{heading:"api-service-variables",content:"DATABASE_URL"},{heading:"api-service-variables",content:"file:/data/linkden.db"},{heading:"api-service-variables",content:"SQLite file path"},{heading:"api-service-variables",content:"RESEND_API_KEY"},{heading:"api-service-variables",content:"re_..."},{heading:"api-service-variables",content:"Optional, mark as secret"},{heading:"api-service-variables",content:"RESEND_FROM_EMAIL"},{heading:"api-service-variables",content:"contact@yourdomain.com"},{heading:"api-service-variables",content:"Optional"},{heading:"api-service-variables",content:"TURNSTILE_SECRET_KEY"},{heading:"api-service-variables",content:"0x..."},{heading:"api-service-variables",content:"Optional, mark as secret"},{heading:"web-app-build-arguments",content:"Since NEXT_PUBLIC_* variables must be available at build time, add them as Build Arguments in Coolify:"},{heading:"web-app-build-arguments",content:"Argument"},{heading:"web-app-build-arguments",content:"Value"},{heading:"web-app-build-arguments",content:"NEXT_PUBLIC_SERVER_URL"},{heading:"web-app-build-arguments",content:"https://api.yourdomain.com"},{heading:"web-app-build-arguments",content:"NEXT_PUBLIC_SITE_URL"},{heading:"web-app-build-arguments",content:"https://yourdomain.com"},{heading:"web-app-build-arguments",content:"NEXT_PUBLIC_SITE_NAME"},{heading:"web-app-build-arguments",content:"LinkDen"},{heading:"web-app-build-arguments",content:"NEXT_PUBLIC_TURNSTILE_SITE_KEY"},{heading:"web-app-build-arguments",content:"0x... (optional)"},{heading:"step-7-set-up-custom-domains",content:"In the Coolify dashboard for each service:"},{heading:"step-7-set-up-custom-domains",content:"Click on the service."},{heading:"step-7-set-up-custom-domains",content:"Go to Settings (or the Domain section)."},{heading:"step-7-set-up-custom-domains",content:"Add your custom domain:"},{heading:"step-7-set-up-custom-domains",content:"Web app: yourdomain.com or links.yourdomain.com"},{heading:"step-7-set-up-custom-domains",content:"API: api.yourdomain.com"},{heading:"step-7-set-up-custom-domains",content:"At your DNS provider, add A records pointing to your Coolify server's IP address:"},{heading:"step-7-set-up-custom-domains",content:"Type"},{heading:"step-7-set-up-custom-domains",content:"Name"},{heading:"step-7-set-up-custom-domains",content:"Target"},{heading:"step-7-set-up-custom-domains",content:"TTL"},{heading:"step-7-set-up-custom-domains",content:"A"},{heading:"step-7-set-up-custom-domains",content:"@ or links"},{heading:"step-7-set-up-custom-domains",content:"your-server-ip"},{heading:"step-7-set-up-custom-domains",content:"300"},{heading:"step-7-set-up-custom-domains",content:"A"},{heading:"step-7-set-up-custom-domains",content:"api"},{heading:"step-7-set-up-custom-domains",content:"your-server-ip"},{heading:"step-7-set-up-custom-domains",content:"300"},{heading:"step-7-set-up-custom-domains",content:"If your server has an IPv6 address, add AAAA records as well."},{heading:"step-8-ssl-with-lets-encrypt",content:"Coolify automatically provisions Let's Encrypt SSL certificates for your custom domains. No manual configuration is required."},{heading:"step-8-ssl-with-lets-encrypt",content:"After adding a custom domain in Step 7:"},{heading:"step-8-ssl-with-lets-encrypt",content:"Coolify detects the domain and requests a certificate from Let's Encrypt."},{heading:"step-8-ssl-with-lets-encrypt",content:"The certificate is provisioned within a few minutes (DNS must be propagated first)."},{heading:"step-8-ssl-with-lets-encrypt",content:"Coolify automatically renews certificates before they expire."},{heading:"step-8-ssl-with-lets-encrypt",content:"HTTP traffic is automatically redirected to HTTPS."},{heading:"step-8-ssl-with-lets-encrypt",content:"To verify SSL is working, visit your domain with https:// and check for the lock icon in the browser address bar."},{heading:"step-8-ssl-with-lets-encrypt",content:"If SSL provisioning fails:"},{heading:"step-8-ssl-with-lets-encrypt",content:"Verify your DNS records are correct and propagated (use dig yourdomain.com A)."},{heading:"step-8-ssl-with-lets-encrypt",content:"Ensure ports 80 and 443 are open on your server's firewall."},{heading:"step-8-ssl-with-lets-encrypt",content:"Check the Coolify logs for Let's Encrypt errors."},{heading:"step-9-first-time-auth-setup",content:"After deploying, visit https://yourdomain.com/admin/setup to complete the setup wizard. This creates your admin account with your chosen email and password."},{heading:"step-9-first-time-auth-setup",content:"After setup is complete, sign in at /admin/login."},{heading:"step-10-persistent-storage-for-sqlite",content:"The SQLite database must be stored on a persistent volume so data survives container restarts and redeployments."},{heading:"if-using-docker-compose",content:"The docker-compose.yml already defines a linkden-data volume mounted at /data. Coolify manages this volume automatically."},{heading:"if-using-separate-services",content:"In the Coolify dashboard, click on the API service."},{heading:"if-using-separate-services",content:"Go to Storages (or Volumes)."},{heading:"if-using-separate-services",content:"Add a new persistent volume:"},{heading:"if-using-separate-services",content:"Mount path: /data"},{heading:"if-using-separate-services",content:"Name: linkden-data"},{heading:"if-using-separate-services",content:"Redeploy the service."},{heading:"if-using-separate-services",content:"Verify the database persists across restarts:"},{heading:"backup-strategy",content:"Back up the SQLite database regularly:"},{heading:"backup-strategy",content:"Or set up a cron job on the host:"},{heading:"automatic-deployments",content:"If you connected a GitHub repository, Coolify can automatically redeploy when you push to a branch:"},{heading:"automatic-deployments",content:"Go to your service settings."},{heading:"automatic-deployments",content:"Enable Automatic deployments."},{heading:"automatic-deployments",content:"Select the branch to watch (e.g., main)."},{heading:"manual-redeployments",content:"Go to the service in the Coolify dashboard."},{heading:"manual-redeployments",content:"Click Redeploy."},{heading:"manual-redeployments",content:"Or via the Coolify CLI:"},{heading:"database-d1-vs-sqlite-file",content:"When running outside Cloudflare, Cloudflare D1 is not available. LinkDen uses Drizzle ORM with SQLite, which means you can use any SQLite-compatible driver:"},{heading:"database-d1-vs-sqlite-file",content:"Environment"},{heading:"database-d1-vs-sqlite-file",content:"Database"},{heading:"database-d1-vs-sqlite-file",content:"Driver"},{heading:"database-d1-vs-sqlite-file",content:"Cloudflare Workers"},{heading:"database-d1-vs-sqlite-file",content:"D1"},{heading:"database-d1-vs-sqlite-file",content:"drizzle-orm/d1 (built-in)"},{heading:"database-d1-vs-sqlite-file",content:"Docker / Coolify / Railway"},{heading:"database-d1-vs-sqlite-file",content:"SQLite file"},{heading:"database-d1-vs-sqlite-file",content:"better-sqlite3 or @libsql/client"},{heading:"database-d1-vs-sqlite-file",content:"Turso (managed libSQL)"},{heading:"database-d1-vs-sqlite-file",content:"Remote SQLite"},{heading:"database-d1-vs-sqlite-file",content:"@libsql/client"},{heading:"database-d1-vs-sqlite-file",content:"To switch from D1 to a file-based SQLite driver, update the database initialization in packages/db/src/index.ts:"},{heading:"database-d1-vs-sqlite-file",content:"Or for libSQL (compatible with Turso for remote databases):"},{heading:"container-exits-immediately",content:"Check the container logs in Coolify (click on the service, then Logs). Common causes:"},{heading:"container-exits-immediately",content:"Missing required environment variables"},{heading:"container-exits-immediately",content:"Port already in use"},{heading:"container-exits-immediately",content:"Syntax error in Dockerfile"},{heading:"api-cannot-connect-to-the-database",content:"Verify the /data directory exists inside the container."},{heading:"api-cannot-connect-to-the-database",content:"Check that the persistent volume is mounted correctly."},{heading:"api-cannot-connect-to-the-database",content:"Ensure DATABASE_URL is set to file:/data/linkden.db."},{heading:"web-app-shows-failed-to-fetch-or-api-errors",content:"Verify NEXT_PUBLIC_SERVER_URL was set correctly at build time."},{heading:"web-app-shows-failed-to-fetch-or-api-errors",content:"Check that CORS_ORIGIN on the API matches the web app's domain."},{heading:"web-app-shows-failed-to-fetch-or-api-errors",content:"Ensure the API service is running and healthy."},{heading:"ssl-certificate-not-provisioning",content:"DNS records must point to the Coolify server IP."},{heading:"ssl-certificate-not-provisioning",content:"Ports 80 and 443 must be open."},{heading:"ssl-certificate-not-provisioning",content:"Wait a few minutes for DNS propagation."},{heading:"ssl-certificate-not-provisioning",content:"Check Coolify logs for Let's Encrypt errors."},{heading:"database-is-locked-errors",content:"SQLite allows only one write at a time. Under heavy load:"},{heading:"database-is-locked-errors",content:"Enable WAL mode: PRAGMA journal_mode=WAL;"},{heading:"database-is-locked-errors",content:"Consider using Turso (managed libSQL) for better concurrency."}],headings:[{id:"coolify-deployment",content:"Coolify Deployment"},{id:"why-coolify",content:"Why Coolify?"},{id:"prerequisites",content:"Prerequisites"},{id:"architecture-on-coolify",content:"Architecture on Coolify"},{id:"step-1-prepare-the-dockerfiles",content:"Step 1: Prepare the Dockerfiles"},{id:"api-server-dockerfile",content:"API Server Dockerfile"},{id:"web-app-dockerfile",content:"Web App Dockerfile"},{id:"step-2-create-a-docker-compose-file-optional",content:"Step 2: Create a Docker Compose File (Optional)"},{id:"step-3-set-up-the-project-in-coolify",content:"Step 3: Set Up the Project in Coolify"},{id:"step-4-deploy-the-api-service",content:"Step 4: Deploy the API Service"},{id:"using-docker-compose-in-coolify",content:"Using Docker Compose in Coolify"},{id:"step-5-deploy-the-web-app-service",content:"Step 5: Deploy the Web App Service"},{id:"step-6-configure-environment-variables",content:"Step 6: Configure Environment Variables"},{id:"api-service-variables",content:"API Service Variables"},{id:"web-app-build-arguments",content:"Web App Build Arguments"},{id:"step-7-set-up-custom-domains",content:"Step 7: Set Up Custom Domains"},{id:"step-8-ssl-with-lets-encrypt",content:"Step 8: SSL with Let's Encrypt"},{id:"step-9-first-time-auth-setup",content:"Step 9: First-Time Auth Setup"},{id:"step-10-persistent-storage-for-sqlite",content:"Step 10: Persistent Storage for SQLite"},{id:"if-using-docker-compose",content:"If Using Docker Compose"},{id:"if-using-separate-services",content:"If Using Separate Services"},{id:"backup-strategy",content:"Backup Strategy"},{id:"step-11-updating-and-redeploying",content:"Step 11: Updating and Redeploying"},{id:"automatic-deployments",content:"Automatic Deployments"},{id:"manual-redeployments",content:"Manual Redeployments"},{id:"updating-linkden",content:"Updating LinkDen"},{id:"database-d1-vs-sqlite-file",content:"Database: D1 vs. SQLite File"},{id:"troubleshooting",content:"Troubleshooting"},{id:"container-exits-immediately",content:"Container exits immediately"},{id:"api-cannot-connect-to-the-database",content:"API cannot connect to the database"},{id:"web-app-shows-failed-to-fetch-or-api-errors",content:'Web app shows "Failed to fetch" or API errors'},{id:"ssl-certificate-not-provisioning",content:"SSL certificate not provisioning"},{id:"database-is-locked-errors",content:'"Database is locked" errors'}]},e=[{depth:1,url:"#coolify-deployment",title:(0,b.jsx)(b.Fragment,{children:"Coolify Deployment"})},{depth:2,url:"#why-coolify",title:(0,b.jsx)(b.Fragment,{children:"Why Coolify?"})},{depth:2,url:"#prerequisites",title:(0,b.jsx)(b.Fragment,{children:"Prerequisites"})},{depth:2,url:"#architecture-on-coolify",title:(0,b.jsx)(b.Fragment,{children:"Architecture on Coolify"})},{depth:2,url:"#step-1-prepare-the-dockerfiles",title:(0,b.jsx)(b.Fragment,{children:"Step 1: Prepare the Dockerfiles"})},{depth:3,url:"#api-server-dockerfile",title:(0,b.jsx)(b.Fragment,{children:"API Server Dockerfile"})},{depth:3,url:"#web-app-dockerfile",title:(0,b.jsx)(b.Fragment,{children:"Web App Dockerfile"})},{depth:2,url:"#step-2-create-a-docker-compose-file-optional",title:(0,b.jsx)(b.Fragment,{children:"Step 2: Create a Docker Compose File (Optional)"})},{depth:2,url:"#step-3-set-up-the-project-in-coolify",title:(0,b.jsx)(b.Fragment,{children:"Step 3: Set Up the Project in Coolify"})},{depth:2,url:"#step-4-deploy-the-api-service",title:(0,b.jsx)(b.Fragment,{children:"Step 4: Deploy the API Service"})},{depth:3,url:"#using-docker-compose-in-coolify",title:(0,b.jsx)(b.Fragment,{children:"Using Docker Compose in Coolify"})},{depth:2,url:"#step-5-deploy-the-web-app-service",title:(0,b.jsx)(b.Fragment,{children:"Step 5: Deploy the Web App Service"})},{depth:2,url:"#step-6-configure-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Step 6: Configure Environment Variables"})},{depth:3,url:"#api-service-variables",title:(0,b.jsx)(b.Fragment,{children:"API Service Variables"})},{depth:3,url:"#web-app-build-arguments",title:(0,b.jsx)(b.Fragment,{children:"Web App Build Arguments"})},{depth:2,url:"#step-7-set-up-custom-domains",title:(0,b.jsx)(b.Fragment,{children:"Step 7: Set Up Custom Domains"})},{depth:2,url:"#step-8-ssl-with-lets-encrypt",title:(0,b.jsx)(b.Fragment,{children:"Step 8: SSL with Let's Encrypt"})},{depth:2,url:"#step-9-first-time-auth-setup",title:(0,b.jsx)(b.Fragment,{children:"Step 9: First-Time Auth Setup"})},{depth:2,url:"#step-10-persistent-storage-for-sqlite",title:(0,b.jsx)(b.Fragment,{children:"Step 10: Persistent Storage for SQLite"})},{depth:3,url:"#if-using-docker-compose",title:(0,b.jsx)(b.Fragment,{children:"If Using Docker Compose"})},{depth:3,url:"#if-using-separate-services",title:(0,b.jsx)(b.Fragment,{children:"If Using Separate Services"})},{depth:3,url:"#backup-strategy",title:(0,b.jsx)(b.Fragment,{children:"Backup Strategy"})},{depth:2,url:"#step-11-updating-and-redeploying",title:(0,b.jsx)(b.Fragment,{children:"Step 11: Updating and Redeploying"})},{depth:3,url:"#automatic-deployments",title:(0,b.jsx)(b.Fragment,{children:"Automatic Deployments"})},{depth:3,url:"#manual-redeployments",title:(0,b.jsx)(b.Fragment,{children:"Manual Redeployments"})},{depth:3,url:"#updating-linkden",title:(0,b.jsx)(b.Fragment,{children:"Updating LinkDen"})},{depth:2,url:"#database-d1-vs-sqlite-file",title:(0,b.jsx)(b.Fragment,{children:"Database: D1 vs. SQLite File"})},{depth:2,url:"#troubleshooting",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#container-exits-immediately",title:(0,b.jsx)(b.Fragment,{children:"Container exits immediately"})},{depth:3,url:"#api-cannot-connect-to-the-database",title:(0,b.jsx)(b.Fragment,{children:"API cannot connect to the database"})},{depth:3,url:"#web-app-shows-failed-to-fetch-or-api-errors",title:(0,b.jsx)(b.Fragment,{children:'Web app shows "Failed to fetch" or API errors'})},{depth:3,url:"#ssl-certificate-not-provisioning",title:(0,b.jsx)(b.Fragment,{children:"SSL certificate not provisioning"})},{depth:3,url:"#database-is-locked-errors",title:(0,b.jsx)(b.Fragment,{children:'"Database is locked" errors'})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"coolify-deployment",children:"Coolify Deployment"}),"\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.a,{href:"https://coolify.io",children:"Coolify"})," is an open-source, self-hosted Platform as a Service (PaaS). It provides a Heroku/Vercel-like experience on your own infrastructure -- automatic deployments, SSL certificates, and a web dashboard for managing services, all running on a server you control."]}),"\n",(0,b.jsx)(c.p,{children:"This guide covers deploying both the LinkDen API server and web app on Coolify using Docker."}),"\n",(0,b.jsx)(c.h2,{id:"why-coolify",children:"Why Coolify?"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Self-hosted"}),": Runs entirely on your own server with no vendor lock-in."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Free and open-source"}),": No per-app fees or usage-based billing."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Automatic SSL"}),": Let's Encrypt certificates are provisioned and renewed automatically."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Git-based deployments"}),": Push to a branch and Coolify rebuilds automatically."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Docker-native"}),": Full control over your build and runtime environment."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Built-in database management"}),": SQLite volumes, PostgreSQL, MySQL, and more."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"A Coolify instance"})," running on a server. If you do not have one:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Minimum server: 2 CPU cores, 2 GB RAM, 30 GB disk (a $12/month VPS from Hetzner, DigitalOcean, or similar)."}),"\n",(0,b.jsx)(c.li,{children:"Install Coolify with the one-line installer:"}),"\n"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"curl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -fsSL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://cdn.coollabs.io/coolify/install.sh"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" bash"})]})})})}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Access the Coolify dashboard at ",(0,b.jsx)(c.code,{children:"http://your-server-ip:8000"}),"."]}),"\n"]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"A domain name"})," (optional but recommended for SSL)."]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["\n",(0,b.jsx)(c.p,{children:"The LinkDen repository accessible from your Coolify instance (public GitHub repo or a connected private repo)."}),"\n"]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"architecture-on-coolify",children:"Architecture on Coolify"}),"\n",(0,b.jsxs)(c.p,{children:["Since Coolify does not have Cloudflare D1, LinkDen uses a ",(0,b.jsx)(c.strong,{children:"SQLite file"})," instead of D1 for the database. The architecture looks like this:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"┌──────────────────────┐     ┌──────────────────────┐     ┌──────────────┐"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Coolify Service:    │────▶│  Coolify Service:     │────▶│ SQLite File  │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Web App (Next.js    │     │  API Server (Hono     │     │ (persistent  │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  static via Caddy)   │     │  on Node.js)          │     │  volume)     │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"└──────────────────────┘     └──────────────────────┘     └──────────────┘"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"Both services run as Docker containers managed by Coolify, with SQLite stored on a persistent Docker volume."}),"\n",(0,b.jsx)(c.h2,{id:"step-1-prepare-the-dockerfiles",children:"Step 1: Prepare the Dockerfiles"}),"\n",(0,b.jsx)(c.p,{children:"Coolify deploys using Docker, so you need Dockerfiles for both services. Create them in the project root."}),"\n",(0,b.jsx)(c.h3,{id:"api-server-dockerfile",children:"API Server Dockerfile"}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"Dockerfile.api"})," in the repository root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" node:20-alpine "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" corepack enable && corepack prepare pnpm@10.29.3 --activate"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Install dependencies"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" deps"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" package.json pnpm-lock.yaml pnpm-workspace.yaml ./"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" apps/server/package.json apps/server/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/db/package.json packages/db/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/email/package.json packages/email/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/validators/package.json packages/validators/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm install --frozen-lockfile"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Build"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" builder"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/node_modules ./node_modules"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/apps/server/node_modules ./apps/server/node_modules"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/packages/ ./packages/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" . ."})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm --filter @linkden/server build 2>/dev/null || true"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Runtime"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" runner"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" apk add --no-cache sqlite"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=builder /app/ ./"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Create data directory for SQLite"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" mkdir -p /data"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NODE_ENV=production"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" DATABASE_URL=file:/data/linkden.db"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"EXPOSE"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" 8787"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"CMD"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"node"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"apps/server/dist/index.js"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Note: Since the Hono server is designed for Cloudflare Workers, you may need to adapt the entry point to run on Node.js. A practical approach is to use ",(0,b.jsx)(c.code,{children:"@hono/node-server"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Alternative CMD using tsx for direct TypeScript execution"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"CMD"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"npx"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"tsx"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"apps/server/src/node-entry.ts"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"apps/server/src/node-entry.ts"})," for Node.js compatibility:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { serve } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@hono/node-server"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" app "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "./index"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" port"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Number"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(process.env."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"PORT"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"||"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 8787"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"console."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"`Starting LinkDen API server on port ${"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"port"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"}`"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"serve"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  fetch: app.fetch,"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  port,"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})})]})})}),"\n",(0,b.jsxs)(c.p,{children:["You will also need to add ",(0,b.jsx)(c.code,{children:"@hono/node-server"})," and a SQLite driver to the server dependencies:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" apps/server"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @hono/node-server"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ../.."})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" packages/db"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" better-sqlite3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @libsql/client"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -D"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @types/better-sqlite3"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"web-app-dockerfile",children:"Web App Dockerfile"}),"\n",(0,b.jsxs)(c.p,{children:["Create ",(0,b.jsx)(c.code,{children:"Dockerfile.web"})," in the repository root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" node:20-alpine "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" corepack enable && corepack prepare pnpm@10.29.3 --activate"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Install dependencies"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" deps"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" package.json pnpm-lock.yaml pnpm-workspace.yaml ./"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" apps/web/package.json apps/web/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/ui/package.json packages/ui/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" packages/validators/package.json packages/validators/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm install --frozen-lockfile"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Build"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" base "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" builder"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"WORKDIR"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /app"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/node_modules ./node_modules"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/apps/web/node_modules ./apps/web/node_modules"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=deps /app/packages/ ./packages/"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" . ."})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Build-time environment variables (NEXT_PUBLIC_* must be set at build time)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SERVER_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_NAME=LinkDen"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ARG"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_TURNSTILE_SITE_KEY"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SERVER_URL=$NEXT_PUBLIC_SERVER_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_URL=$NEXT_PUBLIC_SITE_URL"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_SITE_NAME=$NEXT_PUBLIC_SITE_NAME"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"ENV"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" NEXT_PUBLIC_TURNSTILE_SITE_KEY=$NEXT_PUBLIC_TURNSTILE_SITE_KEY"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"RUN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" pnpm --filter @linkden/web build"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Serve with Caddy"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"FROM"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" caddy:2-alpine "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"AS"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" runner"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" --from=builder /app/apps/web/out /srv"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"COPY"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" <<"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"'EOF'"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" /etc/caddy/Caddyfile"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":3001 {"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    root * /srv"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    file_server"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    try_files {path} {path}.html /index.html"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    header {"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        X-Frame-Options "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"DENY"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        X-Content-Type-Options "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"nosniff"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        Referrer-Policy "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"strict-origin-when-cross-origin"'})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    }"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"EOF"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"EXPOSE"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" 3001"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"step-2-create-a-docker-compose-file-optional",children:"Step 2: Create a Docker Compose File (Optional)"}),"\n",(0,b.jsxs)(c.p,{children:["For local testing before deploying to Coolify, create ",(0,b.jsx)(c.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"services"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    build"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      context"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"."})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      dockerfile"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"Dockerfile.api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    ports"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"8787:8787"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    environment"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"BETTER_AUTH_SECRET=${BETTER_AUTH_SECRET}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"BETTER_AUTH_URL=${BETTER_AUTH_URL:-http://localhost:8787}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:3001}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"DATABASE_URL=file:/data/linkden.db"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"RESEND_API_KEY=${RESEND_API_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"RESEND_FROM_EMAIL=${RESEND_FROM_EMAIL:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"TURNSTILE_SECRET_KEY=${TURNSTILE_SECRET_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"linkden-data:/data"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    healthcheck"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      test"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": ["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"CMD"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"wget"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"--spider"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"-q"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"http://localhost:8787/"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      interval"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"30s"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      timeout"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"10s"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      retries"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"3"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  web"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    build"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      context"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"."})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      dockerfile"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"Dockerfile.web"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      args"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_SERVER_URL=${NEXT_PUBLIC_SERVER_URL:-http://localhost:8787}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_SITE_URL=${NEXT_PUBLIC_SITE_URL:-http://localhost:3001}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_SITE_NAME=${NEXT_PUBLIC_SITE_NAME:-LinkDen}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"NEXT_PUBLIC_TURNSTILE_SITE_KEY=${NEXT_PUBLIC_TURNSTILE_SITE_KEY:-}"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    ports"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"3001:3001"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    depends_on"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"        condition"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"service_healthy"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"volumes"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  linkden-data"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"step-3-set-up-the-project-in-coolify",children:"Step 3: Set Up the Project in Coolify"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Open your Coolify dashboard."}),"\n",(0,b.jsxs)(c.li,{children:["Navigate to ",(0,b.jsx)(c.strong,{children:"Projects"})," and click ",(0,b.jsx)(c.strong,{children:"New Project"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Name it ",(0,b.jsx)(c.code,{children:"LinkDen"})," and click ",(0,b.jsx)(c.strong,{children:"Create"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click into the project and create a new ",(0,b.jsx)(c.strong,{children:"Environment"})," (e.g., ",(0,b.jsx)(c.code,{children:"production"}),")."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-4-deploy-the-api-service",children:"Step 4: Deploy the API Service"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["In your project environment, click ",(0,b.jsx)(c.strong,{children:"New Resource"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Select ",(0,b.jsx)(c.strong,{children:"Docker"})," (or ",(0,b.jsx)(c.strong,{children:"Docker Compose"})," if you want to deploy both services together)."]}),"\n",(0,b.jsxs)(c.li,{children:["Choose your source:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"GitHub"}),": Connect your GitHub account and select the LinkDen repository."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Public repository"}),": Enter the repository URL."]}),"\n"]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["Configure the service:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Name"}),": ",(0,b.jsx)(c.code,{children:"linkden-api"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Dockerfile path"}),": ",(0,b.jsx)(c.code,{children:"Dockerfile.api"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Build context"}),": ",(0,b.jsx)(c.code,{children:"."})," (repository root)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Port"}),": ",(0,b.jsx)(c.code,{children:"8787"})]}),"\n"]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Deploy"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"using-docker-compose-in-coolify",children:"Using Docker Compose in Coolify"}),"\n",(0,b.jsx)(c.p,{children:"Alternatively, deploy both services at once with Docker Compose:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"New Resource"})," > ",(0,b.jsx)(c.strong,{children:"Docker Compose"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Point to the ",(0,b.jsx)(c.code,{children:"docker-compose.yml"})," in the repository."]}),"\n",(0,b.jsx)(c.li,{children:"Coolify detects both services and creates them together."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-5-deploy-the-web-app-service",children:"Step 5: Deploy the Web App Service"}),"\n",(0,b.jsx)(c.p,{children:"If deploying services separately (not via Docker Compose):"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"New Resource"})," > ",(0,b.jsx)(c.strong,{children:"Docker"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Configure:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Name"}),": ",(0,b.jsx)(c.code,{children:"linkden-web"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Dockerfile path"}),": ",(0,b.jsx)(c.code,{children:"Dockerfile.web"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Build context"}),": ",(0,b.jsx)(c.code,{children:"."})," (repository root)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Port"}),": ",(0,b.jsx)(c.code,{children:"3001"})]}),"\n"]}),"\n"]}),"\n",(0,b.jsx)(c.li,{children:"Add the build arguments (see Step 6)."}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Deploy"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-6-configure-environment-variables",children:"Step 6: Configure Environment Variables"}),"\n",(0,b.jsx)(c.p,{children:"In each service's settings in the Coolify dashboard, add the required environment variables."}),"\n",(0,b.jsx)(c.h3,{id:"api-service-variables",children:"API Service Variables"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Value"}),(0,b.jsx)(c.th,{children:"Notes"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"your-random-secret"})}),(0,b.jsxs)(c.td,{children:["Mark as secret; generate with ",(0,b.jsx)(c.code,{children:"openssl rand -base64 32"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"https://api.yourdomain.com"})}),(0,b.jsx)(c.td,{children:"Base URL of the API server"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"https://yourdomain.com"})}),(0,b.jsx)(c.td,{children:"Must match web app URL"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"DATABASE_URL"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"file:/data/linkden.db"})}),(0,b.jsx)(c.td,{children:"SQLite file path"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"RESEND_API_KEY"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"re_..."})}),(0,b.jsx)(c.td,{children:"Optional, mark as secret"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"RESEND_FROM_EMAIL"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contact@yourdomain.com"})}),(0,b.jsx)(c.td,{children:"Optional"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"TURNSTILE_SECRET_KEY"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"0x..."})}),(0,b.jsx)(c.td,{children:"Optional, mark as secret"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"web-app-build-arguments",children:"Web App Build Arguments"}),"\n",(0,b.jsxs)(c.p,{children:["Since ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_*"})," variables must be available at build time, add them as ",(0,b.jsx)(c.strong,{children:"Build Arguments"})," in Coolify:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Argument"}),(0,b.jsx)(c.th,{children:"Value"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"https://api.yourdomain.com"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SITE_URL"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"https://yourdomain.com"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SITE_NAME"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"LinkDen"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_TURNSTILE_SITE_KEY"})}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"0x..."})," (optional)"]})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"step-7-set-up-custom-domains",children:"Step 7: Set Up Custom Domains"}),"\n",(0,b.jsx)(c.p,{children:"In the Coolify dashboard for each service:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Click on the service."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings"})," (or the ",(0,b.jsx)(c.strong,{children:"Domain"})," section)."]}),"\n",(0,b.jsxs)(c.li,{children:["Add your custom domain:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Web app: ",(0,b.jsx)(c.code,{children:"yourdomain.com"})," or ",(0,b.jsx)(c.code,{children:"links.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.li,{children:["API: ",(0,b.jsx)(c.code,{children:"api.yourdomain.com"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"At your DNS provider, add A records pointing to your Coolify server's IP address:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Name"}),(0,b.jsx)(c.th,{children:"Target"}),(0,b.jsx)(c.th,{children:"TTL"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"A"}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"@"})," or ",(0,b.jsx)(c.code,{children:"links"})]}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"your-server-ip"})}),(0,b.jsx)(c.td,{children:"300"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"A"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"api"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"your-server-ip"})}),(0,b.jsx)(c.td,{children:"300"})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"If your server has an IPv6 address, add AAAA records as well."}),"\n",(0,b.jsx)(c.h2,{id:"step-8-ssl-with-lets-encrypt",children:"Step 8: SSL with Let's Encrypt"}),"\n",(0,b.jsx)(c.p,{children:"Coolify automatically provisions Let's Encrypt SSL certificates for your custom domains. No manual configuration is required."}),"\n",(0,b.jsx)(c.p,{children:"After adding a custom domain in Step 7:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Coolify detects the domain and requests a certificate from Let's Encrypt."}),"\n",(0,b.jsx)(c.li,{children:"The certificate is provisioned within a few minutes (DNS must be propagated first)."}),"\n",(0,b.jsx)(c.li,{children:"Coolify automatically renews certificates before they expire."}),"\n",(0,b.jsx)(c.li,{children:"HTTP traffic is automatically redirected to HTTPS."}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["To verify SSL is working, visit your domain with ",(0,b.jsx)(c.code,{children:"https://"})," and check for the lock icon in the browser address bar."]}),"\n",(0,b.jsx)(c.p,{children:"If SSL provisioning fails:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Verify your DNS records are correct and propagated (use ",(0,b.jsx)(c.code,{children:"dig yourdomain.com A"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"Ensure ports 80 and 443 are open on your server's firewall."}),"\n",(0,b.jsx)(c.li,{children:"Check the Coolify logs for Let's Encrypt errors."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-9-first-time-auth-setup",children:"Step 9: First-Time Auth Setup"}),"\n",(0,b.jsxs)(c.p,{children:["After deploying, visit ",(0,b.jsx)(c.code,{children:"https://yourdomain.com/admin/setup"})," to complete the setup wizard. This creates your admin account with your chosen email and password."]}),"\n",(0,b.jsxs)(c.p,{children:["After setup is complete, sign in at ",(0,b.jsx)(c.code,{children:"/admin/login"}),"."]}),"\n",(0,b.jsx)(c.h2,{id:"step-10-persistent-storage-for-sqlite",children:"Step 10: Persistent Storage for SQLite"}),"\n",(0,b.jsx)(c.p,{children:"The SQLite database must be stored on a persistent volume so data survives container restarts and redeployments."}),"\n",(0,b.jsx)(c.h3,{id:"if-using-docker-compose",children:"If Using Docker Compose"}),"\n",(0,b.jsxs)(c.p,{children:["The ",(0,b.jsx)(c.code,{children:"docker-compose.yml"})," already defines a ",(0,b.jsx)(c.code,{children:"linkden-data"})," volume mounted at ",(0,b.jsx)(c.code,{children:"/data"}),". Coolify manages this volume automatically."]}),"\n",(0,b.jsx)(c.h3,{id:"if-using-separate-services",children:"If Using Separate Services"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"In the Coolify dashboard, click on the API service."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Storages"})," (or ",(0,b.jsx)(c.strong,{children:"Volumes"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:["Add a new persistent volume:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Mount path"}),": ",(0,b.jsx)(c.code,{children:"/data"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Name"}),": ",(0,b.jsx)(c.code,{children:"linkden-data"})]}),"\n"]}),"\n"]}),"\n",(0,b.jsx)(c.li,{children:"Redeploy the service."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Verify the database persists across restarts:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# SSH into your server"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" exec"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -it"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" <"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"api-container-i"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ls"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -la"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /data/"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# You should see linkden.db"})})]})})}),"\n",(0,b.jsx)(c.h3,{id:"backup-strategy",children:"Backup Strategy"}),"\n",(0,b.jsx)(c.p,{children:"Back up the SQLite database regularly:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# From the host server"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" exec"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" <"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"api-container-i"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" sqlite3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /data/linkden.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' ".backup /data/backup.db"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" <"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"api-container-i"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:":/data/backup.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ./linkden-backup-"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"$("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"date"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +%Y%m%d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".db"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"Or set up a cron job on the host:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Add to crontab: daily backup at 2 AM"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"0"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 2"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" docker"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" exec"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" sqlite3"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /data/linkden.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' ".backup /data/backup.db"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /var/lib/docker/volumes/linkden-data/_data/backup.db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /backups/linkden-"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"$("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"date"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"\\%"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"Y"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"\\%"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"m"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"\\%"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".db"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"step-11-updating-and-redeploying",children:"Step 11: Updating and Redeploying"}),"\n",(0,b.jsx)(c.h3,{id:"automatic-deployments",children:"Automatic Deployments"}),"\n",(0,b.jsx)(c.p,{children:"If you connected a GitHub repository, Coolify can automatically redeploy when you push to a branch:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Go to your service settings."}),"\n",(0,b.jsxs)(c.li,{children:["Enable ",(0,b.jsx)(c.strong,{children:"Automatic deployments"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Select the branch to watch (e.g., ",(0,b.jsx)(c.code,{children:"main"}),")."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"manual-redeployments",children:"Manual Redeployments"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Go to the service in the Coolify dashboard."}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Redeploy"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Or via the Coolify CLI:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"coolify"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" deploy"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --service"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"coolify"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" deploy"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --service"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-web"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"updating-linkden",children:"Updating LinkDen"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pull"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" origin"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" main"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Push to your deployment branch, or manually redeploy in Coolify"})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"database-d1-vs-sqlite-file",children:"Database: D1 vs. SQLite File"}),"\n",(0,b.jsxs)(c.p,{children:["When running outside Cloudflare, ",(0,b.jsx)(c.strong,{children:"Cloudflare D1 is not available"}),". LinkDen uses Drizzle ORM with SQLite, which means you can use any SQLite-compatible driver:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Environment"}),(0,b.jsx)(c.th,{children:"Database"}),(0,b.jsx)(c.th,{children:"Driver"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Cloudflare Workers"}),(0,b.jsx)(c.td,{children:"D1"}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"drizzle-orm/d1"})," (built-in)"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Docker / Coolify / Railway"}),(0,b.jsx)(c.td,{children:"SQLite file"}),(0,b.jsxs)(c.td,{children:[(0,b.jsx)(c.code,{children:"better-sqlite3"})," or ",(0,b.jsx)(c.code,{children:"@libsql/client"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Turso (managed libSQL)"}),(0,b.jsx)(c.td,{children:"Remote SQLite"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"@libsql/client"})})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["To switch from D1 to a file-based SQLite driver, update the database initialization in ",(0,b.jsx)(c.code,{children:"packages/db/src/index.ts"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { drizzle } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "drizzle-orm/better-sqlite3"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" Database "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "better-sqlite3"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" sqlite"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" new"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Database"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(process.env."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"DATABASE_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"?."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"replace"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"file:"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'""'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"||"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "./data/linkden.db"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" drizzle"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(sqlite);"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"Or for libSQL (compatible with Turso for remote databases):"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { drizzle } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "drizzle-orm/libsql"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { createClient } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@libsql/client"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" client"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" createClient"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  url: process.env."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"DATABASE_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ||"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "file:./data/linkden.db"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" drizzle"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(client);"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,b.jsx)(c.h3,{id:"container-exits-immediately",children:"Container exits immediately"}),"\n",(0,b.jsxs)(c.p,{children:["Check the container logs in Coolify (click on the service, then ",(0,b.jsx)(c.strong,{children:"Logs"}),"). Common causes:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Missing required environment variables"}),"\n",(0,b.jsx)(c.li,{children:"Port already in use"}),"\n",(0,b.jsx)(c.li,{children:"Syntax error in Dockerfile"}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"api-cannot-connect-to-the-database",children:"API cannot connect to the database"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Verify the ",(0,b.jsx)(c.code,{children:"/data"})," directory exists inside the container."]}),"\n",(0,b.jsx)(c.li,{children:"Check that the persistent volume is mounted correctly."}),"\n",(0,b.jsxs)(c.li,{children:["Ensure ",(0,b.jsx)(c.code,{children:"DATABASE_URL"})," is set to ",(0,b.jsx)(c.code,{children:"file:/data/linkden.db"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"web-app-shows-failed-to-fetch-or-api-errors",children:'Web app shows "Failed to fetch" or API errors'}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Verify ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})," was set correctly at ",(0,b.jsx)(c.strong,{children:"build time"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Check that ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," on the API matches the web app's domain."]}),"\n",(0,b.jsx)(c.li,{children:"Ensure the API service is running and healthy."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"ssl-certificate-not-provisioning",children:"SSL certificate not provisioning"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"DNS records must point to the Coolify server IP."}),"\n",(0,b.jsx)(c.li,{children:"Ports 80 and 443 must be open."}),"\n",(0,b.jsx)(c.li,{children:"Wait a few minutes for DNS propagation."}),"\n",(0,b.jsx)(c.li,{children:"Check Coolify logs for Let's Encrypt errors."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"database-is-locked-errors",children:'"Database is locked" errors'}),"\n",(0,b.jsx)(c.p,{children:"SQLite allows only one write at a time. Under heavy load:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Enable WAL mode: ",(0,b.jsx)(c.code,{children:"PRAGMA journal_mode=WAL;"})]}),"\n",(0,b.jsx)(c.li,{children:"Consider using Turso (managed libSQL) for better concurrency."}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nCoolify Deployment [#coolify-deployment]\n\n[Coolify](https://coolify.io) is an open-source, self-hosted Platform as a Service (PaaS). It provides a Heroku/Vercel-like experience on your own infrastructure -- automatic deployments, SSL certificates, and a web dashboard for managing services, all running on a server you control.\n\nThis guide covers deploying both the LinkDen API server and web app on Coolify using Docker.\n\nWhy Coolify? [#why-coolify]\n\n* **Self-hosted**: Runs entirely on your own server with no vendor lock-in.\n* **Free and open-source**: No per-app fees or usage-based billing.\n* **Automatic SSL**: Let\'s Encrypt certificates are provisioned and renewed automatically.\n* **Git-based deployments**: Push to a branch and Coolify rebuilds automatically.\n* **Docker-native**: Full control over your build and runtime environment.\n* **Built-in database management**: SQLite volumes, PostgreSQL, MySQL, and more.\n\nPrerequisites [#prerequisites]\n\n1. **A Coolify instance** running on a server. If you do not have one:\n\n   * Minimum server: 2 CPU cores, 2 GB RAM, 30 GB disk (a $12/month VPS from Hetzner, DigitalOcean, or similar).\n   * Install Coolify with the one-line installer:\n\n   ```bash\n   curl -fsSL https://cdn.coollabs.io/coolify/install.sh | bash\n   ```\n\n   * Access the Coolify dashboard at `http://your-server-ip:8000`.\n\n2. **A domain name** (optional but recommended for SSL).\n\n3. The LinkDen repository accessible from your Coolify instance (public GitHub repo or a connected private repo).\n\nArchitecture on Coolify [#architecture-on-coolify]\n\nSince Coolify does not have Cloudflare D1, LinkDen uses a **SQLite file** instead of D1 for the database. The architecture looks like this:\n\n```\n┌──────────────────────┐     ┌──────────────────────┐     ┌──────────────┐\n│  Coolify Service:    │────▶│  Coolify Service:     │────▶│ SQLite File  │\n│  Web App (Next.js    │     │  API Server (Hono     │     │ (persistent  │\n│  static via Caddy)   │     │  on Node.js)          │     │  volume)     │\n└──────────────────────┘     └──────────────────────┘     └──────────────┘\n```\n\nBoth services run as Docker containers managed by Coolify, with SQLite stored on a persistent Docker volume.\n\nStep 1: Prepare the Dockerfiles [#step-1-prepare-the-dockerfiles]\n\nCoolify deploys using Docker, so you need Dockerfiles for both services. Create them in the project root.\n\nAPI Server Dockerfile [#api-server-dockerfile]\n\nCreate `Dockerfile.api` in the repository root:\n\n```dockerfile\nFROM node:20-alpine AS base\nRUN corepack enable && corepack prepare pnpm@10.29.3 --activate\n\n# Install dependencies\nFROM base AS deps\nWORKDIR /app\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml ./\nCOPY apps/server/package.json apps/server/\nCOPY packages/db/package.json packages/db/\nCOPY packages/email/package.json packages/email/\nCOPY packages/validators/package.json packages/validators/\nRUN pnpm install --frozen-lockfile\n\n# Build\nFROM base AS builder\nWORKDIR /app\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY --from=deps /app/apps/server/node_modules ./apps/server/node_modules\nCOPY --from=deps /app/packages/ ./packages/\nCOPY . .\nRUN pnpm --filter @linkden/server build 2>/dev/null || true\n\n# Runtime\nFROM base AS runner\nWORKDIR /app\nRUN apk add --no-cache sqlite\n\nCOPY --from=builder /app/ ./\n\n# Create data directory for SQLite\nRUN mkdir -p /data\n\nENV NODE_ENV=production\nENV DATABASE_URL=file:/data/linkden.db\nEXPOSE 8787\n\nCMD ["node", "apps/server/dist/index.js"]\n```\n\nNote: Since the Hono server is designed for Cloudflare Workers, you may need to adapt the entry point to run on Node.js. A practical approach is to use `@hono/node-server`:\n\n```dockerfile\n# Alternative CMD using tsx for direct TypeScript execution\nCMD ["npx", "tsx", "apps/server/src/node-entry.ts"]\n```\n\nCreate `apps/server/src/node-entry.ts` for Node.js compatibility:\n\n```typescript\nimport { serve } from "@hono/node-server";\nimport app from "./index";\n\nconst port = Number(process.env.PORT) || 8787;\n\nconsole.log(`Starting LinkDen API server on port ${port}`);\n\nserve({\n  fetch: app.fetch,\n  port,\n});\n```\n\nYou will also need to add `@hono/node-server` and a SQLite driver to the server dependencies:\n\n```bash\ncd apps/server\npnpm add @hono/node-server\ncd ../..\ncd packages/db\npnpm add better-sqlite3 @libsql/client\npnpm add -D @types/better-sqlite3\n```\n\nWeb App Dockerfile [#web-app-dockerfile]\n\nCreate `Dockerfile.web` in the repository root:\n\n```dockerfile\nFROM node:20-alpine AS base\nRUN corepack enable && corepack prepare pnpm@10.29.3 --activate\n\n# Install dependencies\nFROM base AS deps\nWORKDIR /app\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml ./\nCOPY apps/web/package.json apps/web/\nCOPY packages/ui/package.json packages/ui/\nCOPY packages/validators/package.json packages/validators/\nRUN pnpm install --frozen-lockfile\n\n# Build\nFROM base AS builder\nWORKDIR /app\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY --from=deps /app/apps/web/node_modules ./apps/web/node_modules\nCOPY --from=deps /app/packages/ ./packages/\nCOPY . .\n\n# Build-time environment variables (NEXT_PUBLIC_* must be set at build time)\nARG NEXT_PUBLIC_SERVER_URL\nARG NEXT_PUBLIC_SITE_URL\nARG NEXT_PUBLIC_SITE_NAME=LinkDen\nARG NEXT_PUBLIC_TURNSTILE_SITE_KEY\n\nENV NEXT_PUBLIC_SERVER_URL=$NEXT_PUBLIC_SERVER_URL\nENV NEXT_PUBLIC_SITE_URL=$NEXT_PUBLIC_SITE_URL\nENV NEXT_PUBLIC_SITE_NAME=$NEXT_PUBLIC_SITE_NAME\nENV NEXT_PUBLIC_TURNSTILE_SITE_KEY=$NEXT_PUBLIC_TURNSTILE_SITE_KEY\n\nRUN pnpm --filter @linkden/web build\n\n# Serve with Caddy\nFROM caddy:2-alpine AS runner\nCOPY --from=builder /app/apps/web/out /srv\nCOPY <<\'EOF\' /etc/caddy/Caddyfile\n:3001 {\n    root * /srv\n    file_server\n    try_files {path} {path}.html /index.html\n    header {\n        X-Frame-Options "DENY"\n        X-Content-Type-Options "nosniff"\n        Referrer-Policy "strict-origin-when-cross-origin"\n    }\n}\nEOF\n\nEXPOSE 3001\n```\n\nStep 2: Create a Docker Compose File (Optional) [#step-2-create-a-docker-compose-file-optional]\n\nFor local testing before deploying to Coolify, create `docker-compose.yml`:\n\n```yaml\nservices:\n  api:\n    build:\n      context: .\n      dockerfile: Dockerfile.api\n    ports:\n      - "8787:8787"\n    environment:\n      - BETTER_AUTH_SECRET=${BETTER_AUTH_SECRET}\n      - BETTER_AUTH_URL=${BETTER_AUTH_URL:-http://localhost:8787}\n      - CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:3001}\n      - DATABASE_URL=file:/data/linkden.db\n      - RESEND_API_KEY=${RESEND_API_KEY:-}\n      - RESEND_FROM_EMAIL=${RESEND_FROM_EMAIL:-}\n      - TURNSTILE_SECRET_KEY=${TURNSTILE_SECRET_KEY:-}\n    volumes:\n      - linkden-data:/data\n    healthcheck:\n      test: ["CMD", "wget", "--spider", "-q", "http://localhost:8787/"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  web:\n    build:\n      context: .\n      dockerfile: Dockerfile.web\n      args:\n        - NEXT_PUBLIC_SERVER_URL=${NEXT_PUBLIC_SERVER_URL:-http://localhost:8787}\n        - NEXT_PUBLIC_SITE_URL=${NEXT_PUBLIC_SITE_URL:-http://localhost:3001}\n        - NEXT_PUBLIC_SITE_NAME=${NEXT_PUBLIC_SITE_NAME:-LinkDen}\n        - NEXT_PUBLIC_TURNSTILE_SITE_KEY=${NEXT_PUBLIC_TURNSTILE_SITE_KEY:-}\n    ports:\n      - "3001:3001"\n    depends_on:\n      api:\n        condition: service_healthy\n\nvolumes:\n  linkden-data:\n```\n\nStep 3: Set Up the Project in Coolify [#step-3-set-up-the-project-in-coolify]\n\n1. Open your Coolify dashboard.\n2. Navigate to **Projects** and click **New Project**.\n3. Name it `LinkDen` and click **Create**.\n4. Click into the project and create a new **Environment** (e.g., `production`).\n\nStep 4: Deploy the API Service [#step-4-deploy-the-api-service]\n\n1. In your project environment, click **New Resource**.\n2. Select **Docker** (or **Docker Compose** if you want to deploy both services together).\n3. Choose your source:\n   * **GitHub**: Connect your GitHub account and select the LinkDen repository.\n   * **Public repository**: Enter the repository URL.\n4. Configure the service:\n   * **Name**: `linkden-api`\n   * **Dockerfile path**: `Dockerfile.api`\n   * **Build context**: `.` (repository root)\n   * **Port**: `8787`\n5. Click **Deploy**.\n\nUsing Docker Compose in Coolify [#using-docker-compose-in-coolify]\n\nAlternatively, deploy both services at once with Docker Compose:\n\n1. Click **New Resource** > **Docker Compose**.\n2. Point to the `docker-compose.yml` in the repository.\n3. Coolify detects both services and creates them together.\n\nStep 5: Deploy the Web App Service [#step-5-deploy-the-web-app-service]\n\nIf deploying services separately (not via Docker Compose):\n\n1. Click **New Resource** > **Docker**.\n2. Configure:\n   * **Name**: `linkden-web`\n   * **Dockerfile path**: `Dockerfile.web`\n   * **Build context**: `.` (repository root)\n   * **Port**: `3001`\n3. Add the build arguments (see Step 6).\n4. Click **Deploy**.\n\nStep 6: Configure Environment Variables [#step-6-configure-environment-variables]\n\nIn each service\'s settings in the Coolify dashboard, add the required environment variables.\n\nAPI Service Variables [#api-service-variables]\n\n| Variable               | Value                        | Notes                                                   |\n| ---------------------- | ---------------------------- | ------------------------------------------------------- |\n| `BETTER_AUTH_SECRET`   | `your-random-secret`         | Mark as secret; generate with `openssl rand -base64 32` |\n| `BETTER_AUTH_URL`      | `https://api.yourdomain.com` | Base URL of the API server                              |\n| `CORS_ORIGIN`          | `https://yourdomain.com`     | Must match web app URL                                  |\n| `DATABASE_URL`         | `file:/data/linkden.db`      | SQLite file path                                        |\n| `RESEND_API_KEY`       | `re_...`                     | Optional, mark as secret                                |\n| `RESEND_FROM_EMAIL`    | `contact@yourdomain.com`     | Optional                                                |\n| `TURNSTILE_SECRET_KEY` | `0x...`                      | Optional, mark as secret                                |\n\nWeb App Build Arguments [#web-app-build-arguments]\n\nSince `NEXT_PUBLIC_*` variables must be available at build time, add them as **Build Arguments** in Coolify:\n\n| Argument                         | Value                        |\n| -------------------------------- | ---------------------------- |\n| `NEXT_PUBLIC_SERVER_URL`         | `https://api.yourdomain.com` |\n| `NEXT_PUBLIC_SITE_URL`           | `https://yourdomain.com`     |\n| `NEXT_PUBLIC_SITE_NAME`          | `LinkDen`                    |\n| `NEXT_PUBLIC_TURNSTILE_SITE_KEY` | `0x...` (optional)           |\n\nStep 7: Set Up Custom Domains [#step-7-set-up-custom-domains]\n\nIn the Coolify dashboard for each service:\n\n1. Click on the service.\n2. Go to **Settings** (or the **Domain** section).\n3. Add your custom domain:\n   * Web app: `yourdomain.com` or `links.yourdomain.com`\n   * API: `api.yourdomain.com`\n\nAt your DNS provider, add A records pointing to your Coolify server\'s IP address:\n\n| Type | Name           | Target           | TTL |\n| ---- | -------------- | ---------------- | --- |\n| A    | `@` or `links` | `your-server-ip` | 300 |\n| A    | `api`          | `your-server-ip` | 300 |\n\nIf your server has an IPv6 address, add AAAA records as well.\n\nStep 8: SSL with Let\'s Encrypt [#step-8-ssl-with-lets-encrypt]\n\nCoolify automatically provisions Let\'s Encrypt SSL certificates for your custom domains. No manual configuration is required.\n\nAfter adding a custom domain in Step 7:\n\n1. Coolify detects the domain and requests a certificate from Let\'s Encrypt.\n2. The certificate is provisioned within a few minutes (DNS must be propagated first).\n3. Coolify automatically renews certificates before they expire.\n4. HTTP traffic is automatically redirected to HTTPS.\n\nTo verify SSL is working, visit your domain with `https://` and check for the lock icon in the browser address bar.\n\nIf SSL provisioning fails:\n\n* Verify your DNS records are correct and propagated (use `dig yourdomain.com A`).\n* Ensure ports 80 and 443 are open on your server\'s firewall.\n* Check the Coolify logs for Let\'s Encrypt errors.\n\nStep 9: First-Time Auth Setup [#step-9-first-time-auth-setup]\n\nAfter deploying, visit `https://yourdomain.com/admin/setup` to complete the setup wizard. This creates your admin account with your chosen email and password.\n\nAfter setup is complete, sign in at `/admin/login`.\n\nStep 10: Persistent Storage for SQLite [#step-10-persistent-storage-for-sqlite]\n\nThe SQLite database must be stored on a persistent volume so data survives container restarts and redeployments.\n\nIf Using Docker Compose [#if-using-docker-compose]\n\nThe `docker-compose.yml` already defines a `linkden-data` volume mounted at `/data`. Coolify manages this volume automatically.\n\nIf Using Separate Services [#if-using-separate-services]\n\n1. In the Coolify dashboard, click on the API service.\n2. Go to **Storages** (or **Volumes**).\n3. Add a new persistent volume:\n   * **Mount path**: `/data`\n   * **Name**: `linkden-data`\n4. Redeploy the service.\n\nVerify the database persists across restarts:\n\n```bash\n# SSH into your server\ndocker exec -it <api-container-id> ls -la /data/\n# You should see linkden.db\n```\n\nBackup Strategy [#backup-strategy]\n\nBack up the SQLite database regularly:\n\n```bash\n# From the host server\ndocker exec <api-container-id> sqlite3 /data/linkden.db ".backup /data/backup.db"\ndocker cp <api-container-id>:/data/backup.db ./linkden-backup-$(date +%Y%m%d).db\n```\n\nOr set up a cron job on the host:\n\n```bash\n# Add to crontab: daily backup at 2 AM\n0 2 * * * docker exec linkden-api sqlite3 /data/linkden.db ".backup /data/backup.db" && cp /var/lib/docker/volumes/linkden-data/_data/backup.db /backups/linkden-$(date +\\%Y\\%m\\%d).db\n```\n\nStep 11: Updating and Redeploying [#step-11-updating-and-redeploying]\n\nAutomatic Deployments [#automatic-deployments]\n\nIf you connected a GitHub repository, Coolify can automatically redeploy when you push to a branch:\n\n1. Go to your service settings.\n2. Enable **Automatic deployments**.\n3. Select the branch to watch (e.g., `main`).\n\nManual Redeployments [#manual-redeployments]\n\n1. Go to the service in the Coolify dashboard.\n2. Click **Redeploy**.\n\nOr via the Coolify CLI:\n\n```bash\ncoolify deploy --service linkden-api\ncoolify deploy --service linkden-web\n```\n\nUpdating LinkDen [#updating-linkden]\n\n```bash\ngit pull origin main\n# Push to your deployment branch, or manually redeploy in Coolify\n```\n\nDatabase: D1 vs. SQLite File [#database-d1-vs-sqlite-file]\n\nWhen running outside Cloudflare, **Cloudflare D1 is not available**. LinkDen uses Drizzle ORM with SQLite, which means you can use any SQLite-compatible driver:\n\n| Environment                | Database      | Driver                               |\n| -------------------------- | ------------- | ------------------------------------ |\n| Cloudflare Workers         | D1            | `drizzle-orm/d1` (built-in)          |\n| Docker / Coolify / Railway | SQLite file   | `better-sqlite3` or `@libsql/client` |\n| Turso (managed libSQL)     | Remote SQLite | `@libsql/client`                     |\n\nTo switch from D1 to a file-based SQLite driver, update the database initialization in `packages/db/src/index.ts`:\n\n```typescript\nimport { drizzle } from "drizzle-orm/better-sqlite3";\nimport Database from "better-sqlite3";\n\nconst sqlite = new Database(process.env.DATABASE_URL?.replace("file:", "") || "./data/linkden.db");\nexport const db = drizzle(sqlite);\n```\n\nOr for libSQL (compatible with Turso for remote databases):\n\n```typescript\nimport { drizzle } from "drizzle-orm/libsql";\nimport { createClient } from "@libsql/client";\n\nconst client = createClient({\n  url: process.env.DATABASE_URL || "file:./data/linkden.db",\n});\nexport const db = drizzle(client);\n```\n\nTroubleshooting [#troubleshooting]\n\nContainer exits immediately [#container-exits-immediately]\n\nCheck the container logs in Coolify (click on the service, then **Logs**). Common causes:\n\n* Missing required environment variables\n* Port already in use\n* Syntax error in Dockerfile\n\nAPI cannot connect to the database [#api-cannot-connect-to-the-database]\n\n* Verify the `/data` directory exists inside the container.\n* Check that the persistent volume is mounted correctly.\n* Ensure `DATABASE_URL` is set to `file:/data/linkden.db`.\n\nWeb app shows "Failed to fetch" or API errors [#web-app-shows-failed-to-fetch-or-api-errors]\n\n* Verify `NEXT_PUBLIC_SERVER_URL` was set correctly at **build time**.\n* Check that `CORS_ORIGIN` on the API matches the web app\'s domain.\n* Ensure the API service is running and healthy.\n\nSSL certificate not provisioning [#ssl-certificate-not-provisioning]\n\n* DNS records must point to the Coolify server IP.\n* Ports 80 and 443 must be open.\n* Wait a few minutes for DNS propagation.\n* Check Coolify logs for Let\'s Encrypt errors.\n\n"Database is locked" errors [#database-is-locked-errors]\n\nSQLite allows only one write at a time. Under heavy load:\n\n* Enable WAL mode: `PRAGMA journal_mode=WAL;`\n* Consider using Turso (managed libSQL) for better concurrency.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},29087,a=>{"use strict";var b=a.i(69819);let c={title:"Cloudflare Deployment",description:"Step-by-step guide to deploying LinkDen on Cloudflare Workers and D1."},d={contents:[{heading:"cloudflare-deployment",content:"LinkDen is designed to run entirely on the Cloudflare stack. This guide walks through the complete deployment process, from account setup to a live, production-ready instance."},{heading:"architecture-overview",content:"LinkDen deploys two Cloudflare Workers and a D1 database:"},{heading:"architecture-overview",content:"Service"},{heading:"architecture-overview",content:"Purpose"},{heading:"architecture-overview",content:"Free Tier"},{heading:"architecture-overview",content:"linkden-web Worker"},{heading:"architecture-overview",content:"Next.js frontend (SSR + static assets via OpenNext)"},{heading:"architecture-overview",content:"100,000 requests/day"},{heading:"architecture-overview",content:"linkden-api Worker"},{heading:"architecture-overview",content:"Hono API server with tRPC"},{heading:"architecture-overview",content:"100,000 requests/day"},{heading:"architecture-overview",content:"Cloudflare D1"},{heading:"architecture-overview",content:"SQLite database for all application data"},{heading:"architecture-overview",content:"5M rows read/day, 100K writes/day"},{heading:"architecture-overview",content:"The web frontend is deployed using @opennextjs/cloudflare, which compiles the full Next.js app (including dynamic routes and SSR) into a Cloudflare Worker."},{heading:"architecture-overview",content:"The free tier is sufficient for most single-user instances."},{heading:"prerequisites",content:"Before you begin, make sure you have the following:"},{heading:"prerequisites",content:"A Cloudflare account (free tier is sufficient)."},{heading:"prerequisites",content:"Node.js 20+ installed on your machine."},{heading:"prerequisites",content:"pnpm 9+ installed globally (npm install -g pnpm)."},{heading:"prerequisites",content:"The LinkDen repository cloned locally:"},{heading:"step-1-create-a-cloudflare-api-token",content:"The API token allows LinkDen's deployment tooling (Alchemy + Wrangler) to manage Cloudflare resources on your behalf."},{heading:"step-1-create-a-cloudflare-api-token",content:"Log in to the Cloudflare dashboard."},{heading:"step-1-create-a-cloudflare-api-token",content:"Click your profile icon in the top-right corner."},{heading:"step-1-create-a-cloudflare-api-token",content:"Go to My Profile > API Tokens."},{heading:"step-1-create-a-cloudflare-api-token",content:"Click Create Token."},{heading:"step-1-create-a-cloudflare-api-token",content:"Select the Custom token template."},{heading:"step-1-create-a-cloudflare-api-token",content:"Configure the following permissions:"},{heading:"step-1-create-a-cloudflare-api-token",content:"Permission Scope"},{heading:"step-1-create-a-cloudflare-api-token",content:"Resource"},{heading:"step-1-create-a-cloudflare-api-token",content:"Access Level"},{heading:"step-1-create-a-cloudflare-api-token",content:"Account"},{heading:"step-1-create-a-cloudflare-api-token",content:"Cloudflare Workers Scripts"},{heading:"step-1-create-a-cloudflare-api-token",content:"Edit"},{heading:"step-1-create-a-cloudflare-api-token",content:"Account"},{heading:"step-1-create-a-cloudflare-api-token",content:"D1"},{heading:"step-1-create-a-cloudflare-api-token",content:"Edit"},{heading:"step-1-create-a-cloudflare-api-token",content:"Account"},{heading:"step-1-create-a-cloudflare-api-token",content:"Workers KV Storage"},{heading:"step-1-create-a-cloudflare-api-token",content:"Edit"},{heading:"step-1-create-a-cloudflare-api-token",content:"Under Account Resources, select your account."},{heading:"step-1-create-a-cloudflare-api-token",content:"Click Continue to summary, then Create Token."},{heading:"step-1-create-a-cloudflare-api-token",content:"Copy the token immediately. It is shown only once. Store it securely."},{heading:"step-2-find-your-account-id",content:"Go to the Cloudflare dashboard overview page."},{heading:"step-2-find-your-account-id",content:"Your Account ID is displayed in the right sidebar under Account details."},{heading:"step-2-find-your-account-id",content:"Copy it."},{heading:"step-2-find-your-account-id",content:"Alternatively, use the Wrangler CLI:"},{heading:"step-3-install-and-authenticate-wrangler-cli",content:"Wrangler is Cloudflare's CLI tool. Authenticate with your Cloudflare account:"},{heading:"step-3-install-and-authenticate-wrangler-cli",content:"This opens a browser window for OAuth authentication. To verify:"},{heading:"step-4-configure-environment-variables",content:"Create a .env file in the project root:"},{heading:"step-4-configure-environment-variables",content:"Generate a secure BETTER_AUTH_SECRET with:"},{heading:"step-4-configure-environment-variables",content:"See the Environment Variables reference for a full list of all variables."},{heading:"step-5-create-the-d1-database-and-push-schema",content:"Create the D1 database:"},{heading:"step-5-create-the-d1-database-and-push-schema",content:"Copy the database_id from the output and update apps/server/wrangler.jsonc:"},{heading:"step-5-create-the-d1-database-and-push-schema",content:"Then push the schema. You can use drizzle-kit with a CLOUDFLARE_API_TOKEN:"},{heading:"step-5-create-the-d1-database-and-push-schema",content:"Or push directly via wrangler (which uses your wrangler login session):"},{heading:"step-6-deploy",content:"With everything configured, deploy the entire stack:"},{heading:"step-6-deploy",content:"This command:"},{heading:"step-6-deploy",content:"Deploys the linkden-api Worker (Hono API + tRPC) with D1 bindings via wrangler."},{heading:"step-6-deploy",content:"Builds the Next.js app via @opennextjs/cloudflare (OpenNext)."},{heading:"step-6-deploy",content:"Deploys the linkden-web Worker with static assets via wrangler."},{heading:"step-6-deploy",content:"The deploy output shows your live URLs:"},{heading:"step-6-deploy",content:"You can also deploy each part independently:"},{heading:"step-7-set-up-authentication",content:"LinkDen uses Better Auth with email/password authentication. On first run, a setup wizard at /admin/setup guides you through creating the initial admin account."},{heading:"first-time-setup",content:"Deploy the application (Steps 5–6 above)."},{heading:"first-time-setup",content:"Visit https://linkden-web.<your-subdomain>.workers.dev/admin/setup."},{heading:"first-time-setup",content:"Complete the setup wizard to create your admin account (name, email, and password)."},{heading:"first-time-setup",content:"After setup is complete, sign in at /admin/login."},{heading:"set-auth-secrets-on-the-api-worker",content:"Set your Better Auth secret as an encrypted secret on the API Worker:"},{heading:"set-auth-secrets-on-the-api-worker",content:"Or configure BETTER_AUTH_SECRET and BETTER_AUTH_URL via the Cloudflare dashboard:\nWorkers & Pages > linkden-api > Settings > Variables."},{heading:"auth-environment-variables",content:"Variable"},{heading:"auth-environment-variables",content:"Where"},{heading:"auth-environment-variables",content:"Description"},{heading:"auth-environment-variables",content:"BETTER_AUTH_SECRET"},{heading:"auth-environment-variables",content:"API Worker (secret)"},{heading:"auth-environment-variables",content:"Random secret for session signing"},{heading:"auth-environment-variables",content:"BETTER_AUTH_URL"},{heading:"auth-environment-variables",content:"API Worker"},{heading:"auth-environment-variables",content:"Base URL of the API server"},{heading:"auth-environment-variables",content:"CORS_ORIGIN"},{heading:"auth-environment-variables",content:"API Worker"},{heading:"auth-environment-variables",content:"Frontend URL (must match exactly)"},{heading:"auth-environment-variables",content:"NEXT_PUBLIC_SERVER_URL"},{heading:"auth-environment-variables",content:"Web Worker / build"},{heading:"auth-environment-variables",content:"Public URL of the API server"},{heading:"auth-environment-variables",content:"See the API Reference for more details."},{heading:"step-8-set-secrets-optional",content:"If using Resend for email, set its secret key as an encrypted secret on the API Worker:"},{heading:"step-8-set-secrets-optional",content:"Or via the Cloudflare dashboard: Workers & Pages > linkden-api > Settings > Variables."},{heading:"step-9-verify-the-deployment",content:"Visit your web Worker URL. You should see the public link page."},{heading:"step-9-verify-the-deployment",content:"Navigate to /admin/setup on first run to create your admin account."},{heading:"step-9-verify-the-deployment",content:"Sign in at /admin/login and try creating a link to verify the API connection."},{heading:"step-9-verify-the-deployment",content:"Check the analytics dashboard."},{heading:"step-9-verify-the-deployment",content:"If something is not working, check the Worker logs:"},{heading:"step-10-set-up-custom-domains-optional",content:"See the Custom Domain guide for detailed instructions."},{heading:"step-10-set-up-custom-domains-optional",content:"To add custom domains to your Workers:"},{heading:"step-10-set-up-custom-domains-optional",content:"Go to Workers & Pages in the Cloudflare dashboard."},{heading:"step-10-set-up-custom-domains-optional",content:"Click on your Worker (linkden-web or linkden-api)."},{heading:"step-10-set-up-custom-domains-optional",content:"Go to Settings > Domains & Routes."},{heading:"step-10-set-up-custom-domains-optional",content:"Add your custom domain."},{heading:"step-10-set-up-custom-domains-optional",content:"After adding custom domains, update your environment variables:"},{heading:"step-10-set-up-custom-domains-optional",content:"Then redeploy: pnpm cf:deploy"},{heading:"subsequent-deploys",content:"After the initial setup, deploying updates is a single command:"},{heading:"subsequent-deploys",content:"Alchemy only updates resources that changed, making subsequent deploys faster."},{heading:"ssltls-configuration",content:"Cloudflare provides SSL/TLS automatically for all Workers deployments:"},{heading:"ssltls-configuration",content:"Default *.workers.dev subdomains: Full SSL is enabled by default."},{heading:"ssltls-configuration",content:"Custom domains on Cloudflare DNS: Cloudflare automatically provisions and renews SSL certificates."},{heading:"ssltls-configuration",content:"No manual certificate management is required."},{heading:"real-time-logs",content:"Stream live logs from your Workers:"},{heading:"cloudflare-dashboard-analytics",content:"Workers analytics: Workers & Pages > your Worker > Analytics."},{heading:"cloudflare-dashboard-analytics",content:"D1 analytics: Workers & Pages > D1 > your database."},{heading:"tearing-down",content:"To remove all Cloudflare resources created by Alchemy:"},{heading:"tearing-down",content:"This deletes the API Worker and the D1 database. The web Worker must be deleted separately from the Cloudflare dashboard."},{heading:"tearing-down",content:"This action is irreversible. Back up your D1 database first:"},{heading:"authentication-error-on-deploy",content:"Your API token may have expired or lack the required permissions."},{heading:"cors-errors-in-the-browser-console",content:"The CORS_ORIGIN environment variable on the API Worker must exactly match the origin of your web app (including protocol, no trailing slash)."},{heading:"worker-returns-1101-error",content:"Check the Worker logs:"},{heading:"worker-returns-1101-error",content:"Common causes: missing environment variable, D1 binding not configured, BETTER_AUTH_SECRET mismatch."},{heading:"cost-considerations",content:"For a typical single-user link page:"},{heading:"cost-considerations",content:"Metric"},{heading:"cost-considerations",content:"Typical Usage"},{heading:"cost-considerations",content:"Free Tier Limit"},{heading:"cost-considerations",content:"Worker requests (both)"},{heading:"cost-considerations",content:"~10K/month"},{heading:"cost-considerations",content:"100,000/day each"},{heading:"cost-considerations",content:"D1 rows read"},{heading:"cost-considerations",content:"~300/day"},{heading:"cost-considerations",content:"5,000,000/day"},{heading:"cost-considerations",content:"D1 rows written"},{heading:"cost-considerations",content:"~50/day"},{heading:"cost-considerations",content:"100,000/day"},{heading:"cost-considerations",content:"D1 storage"},{heading:"cost-considerations",content:"< 50 MB"},{heading:"cost-considerations",content:"5 GB"},{heading:"cost-considerations",content:"Most LinkDen instances will operate entirely within the free tier indefinitely."}],headings:[{id:"cloudflare-deployment",content:"Cloudflare Deployment"},{id:"architecture-overview",content:"Architecture Overview"},{id:"prerequisites",content:"Prerequisites"},{id:"step-1-create-a-cloudflare-api-token",content:"Step 1: Create a Cloudflare API Token"},{id:"step-2-find-your-account-id",content:"Step 2: Find Your Account ID"},{id:"step-3-install-and-authenticate-wrangler-cli",content:"Step 3: Install and Authenticate Wrangler CLI"},{id:"step-4-configure-environment-variables",content:"Step 4: Configure Environment Variables"},{id:"step-5-create-the-d1-database-and-push-schema",content:"Step 5: Create the D1 Database and Push Schema"},{id:"step-6-deploy",content:"Step 6: Deploy"},{id:"step-7-set-up-authentication",content:"Step 7: Set Up Authentication"},{id:"first-time-setup",content:"First-Time Setup"},{id:"set-auth-secrets-on-the-api-worker",content:"Set Auth Secrets on the API Worker"},{id:"auth-environment-variables",content:"Auth Environment Variables"},{id:"step-8-set-secrets-optional",content:"Step 8: Set Secrets (Optional)"},{id:"step-9-verify-the-deployment",content:"Step 9: Verify the Deployment"},{id:"step-10-set-up-custom-domains-optional",content:"Step 10: Set Up Custom Domains (Optional)"},{id:"subsequent-deploys",content:"Subsequent Deploys"},{id:"ssltls-configuration",content:"SSL/TLS Configuration"},{id:"monitoring-and-logs",content:"Monitoring and Logs"},{id:"real-time-logs",content:"Real-Time Logs"},{id:"cloudflare-dashboard-analytics",content:"Cloudflare Dashboard Analytics"},{id:"tearing-down",content:"Tearing Down"},{id:"troubleshooting",content:"Troubleshooting"},{id:"authentication-error-on-deploy",content:'"Authentication error" on deploy'},{id:"cors-errors-in-the-browser-console",content:"CORS errors in the browser console"},{id:"worker-returns-1101-error",content:"Worker returns 1101 error"},{id:"cost-considerations",content:"Cost Considerations"}]},e=[{depth:1,url:"#cloudflare-deployment",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare Deployment"})},{depth:2,url:"#architecture-overview",title:(0,b.jsx)(b.Fragment,{children:"Architecture Overview"})},{depth:2,url:"#prerequisites",title:(0,b.jsx)(b.Fragment,{children:"Prerequisites"})},{depth:2,url:"#step-1-create-a-cloudflare-api-token",title:(0,b.jsx)(b.Fragment,{children:"Step 1: Create a Cloudflare API Token"})},{depth:2,url:"#step-2-find-your-account-id",title:(0,b.jsx)(b.Fragment,{children:"Step 2: Find Your Account ID"})},{depth:2,url:"#step-3-install-and-authenticate-wrangler-cli",title:(0,b.jsx)(b.Fragment,{children:"Step 3: Install and Authenticate Wrangler CLI"})},{depth:2,url:"#step-4-configure-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Step 4: Configure Environment Variables"})},{depth:2,url:"#step-5-create-the-d1-database-and-push-schema",title:(0,b.jsx)(b.Fragment,{children:"Step 5: Create the D1 Database and Push Schema"})},{depth:2,url:"#step-6-deploy",title:(0,b.jsx)(b.Fragment,{children:"Step 6: Deploy"})},{depth:2,url:"#step-7-set-up-authentication",title:(0,b.jsx)(b.Fragment,{children:"Step 7: Set Up Authentication"})},{depth:3,url:"#first-time-setup",title:(0,b.jsx)(b.Fragment,{children:"First-Time Setup"})},{depth:3,url:"#set-auth-secrets-on-the-api-worker",title:(0,b.jsx)(b.Fragment,{children:"Set Auth Secrets on the API Worker"})},{depth:3,url:"#auth-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Auth Environment Variables"})},{depth:2,url:"#step-8-set-secrets-optional",title:(0,b.jsx)(b.Fragment,{children:"Step 8: Set Secrets (Optional)"})},{depth:2,url:"#step-9-verify-the-deployment",title:(0,b.jsx)(b.Fragment,{children:"Step 9: Verify the Deployment"})},{depth:2,url:"#step-10-set-up-custom-domains-optional",title:(0,b.jsx)(b.Fragment,{children:"Step 10: Set Up Custom Domains (Optional)"})},{depth:2,url:"#subsequent-deploys",title:(0,b.jsx)(b.Fragment,{children:"Subsequent Deploys"})},{depth:2,url:"#ssltls-configuration",title:(0,b.jsx)(b.Fragment,{children:"SSL/TLS Configuration"})},{depth:2,url:"#monitoring-and-logs",title:(0,b.jsx)(b.Fragment,{children:"Monitoring and Logs"})},{depth:3,url:"#real-time-logs",title:(0,b.jsx)(b.Fragment,{children:"Real-Time Logs"})},{depth:3,url:"#cloudflare-dashboard-analytics",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare Dashboard Analytics"})},{depth:2,url:"#tearing-down",title:(0,b.jsx)(b.Fragment,{children:"Tearing Down"})},{depth:2,url:"#troubleshooting",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#authentication-error-on-deploy",title:(0,b.jsx)(b.Fragment,{children:'"Authentication error" on deploy'})},{depth:3,url:"#cors-errors-in-the-browser-console",title:(0,b.jsx)(b.Fragment,{children:"CORS errors in the browser console"})},{depth:3,url:"#worker-returns-1101-error",title:(0,b.jsx)(b.Fragment,{children:"Worker returns 1101 error"})},{depth:2,url:"#cost-considerations",title:(0,b.jsx)(b.Fragment,{children:"Cost Considerations"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"cloudflare-deployment",children:"Cloudflare Deployment"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen is designed to run entirely on the Cloudflare stack. This guide walks through the complete deployment process, from account setup to a live, production-ready instance."}),"\n",(0,b.jsx)(c.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen deploys two Cloudflare Workers and a D1 database:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"┌──────────────────────────┐     ┌──────────────────────┐     ┌──────────────┐"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  Cloudflare Worker       │     │  Cloudflare Worker    │     │ Cloudflare D1│"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  linkden-web             │────▶│  linkden-api          │────▶│ (SQLite DB)  │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"│  (Next.js via OpenNext)  │     │  (Hono API + tRPC)    │     │              │"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"└──────────────────────────┘     └──────────────────────┘     └──────────────┘"})})]})})}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Service"}),(0,b.jsx)(c.th,{children:"Purpose"}),(0,b.jsx)(c.th,{children:"Free Tier"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"linkden-web Worker"})}),(0,b.jsx)(c.td,{children:"Next.js frontend (SSR + static assets via OpenNext)"}),(0,b.jsx)(c.td,{children:"100,000 requests/day"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"linkden-api Worker"})}),(0,b.jsx)(c.td,{children:"Hono API server with tRPC"}),(0,b.jsx)(c.td,{children:"100,000 requests/day"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Cloudflare D1"})}),(0,b.jsx)(c.td,{children:"SQLite database for all application data"}),(0,b.jsx)(c.td,{children:"5M rows read/day, 100K writes/day"})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["The web frontend is deployed using ",(0,b.jsx)(c.a,{href:"https://opennext.js.org/cloudflare",children:(0,b.jsx)(c.code,{children:"@opennextjs/cloudflare"})}),", which compiles the full Next.js app (including dynamic routes and SSR) into a Cloudflare Worker."]}),"\n",(0,b.jsx)(c.p,{children:"The free tier is sufficient for most single-user instances."}),"\n",(0,b.jsx)(c.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,b.jsx)(c.p,{children:"Before you begin, make sure you have the following:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["A ",(0,b.jsx)(c.a,{href:"https://cloudflare.com",children:"Cloudflare account"})," (free tier is sufficient)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Node.js 20+"})," installed on your machine."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"pnpm 9+"})," installed globally (",(0,b.jsx)(c.code,{children:"npm install -g pnpm"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"The LinkDen repository cloned locally:"}),"\n"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clone"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://github.com/mrdemonwolf/linkden.git"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" LinkDen"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"step-1-create-a-cloudflare-api-token",children:"Step 1: Create a Cloudflare API Token"}),"\n",(0,b.jsx)(c.p,{children:"The API token allows LinkDen's deployment tooling (Alchemy + Wrangler) to manage Cloudflare resources on your behalf."}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Log in to the ",(0,b.jsx)(c.a,{href:"https://dash.cloudflare.com",children:"Cloudflare dashboard"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Click your profile icon in the top-right corner."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"My Profile > API Tokens"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Create Token"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Select the ",(0,b.jsx)(c.strong,{children:"Custom token"})," template."]}),"\n",(0,b.jsx)(c.li,{children:"Configure the following permissions:"}),"\n"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Permission Scope"}),(0,b.jsx)(c.th,{children:"Resource"}),(0,b.jsx)(c.th,{children:"Access Level"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"Cloudflare Workers Scripts"}),(0,b.jsx)(c.td,{children:"Edit"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"D1"}),(0,b.jsx)(c.td,{children:"Edit"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Account"}),(0,b.jsx)(c.td,{children:"Workers KV Storage"}),(0,b.jsx)(c.td,{children:"Edit"})]})]})]}),"\n",(0,b.jsxs)(c.ol,{start:"7",children:["\n",(0,b.jsxs)(c.li,{children:["Under ",(0,b.jsx)(c.strong,{children:"Account Resources"}),", select your account."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Continue to summary"}),", then ",(0,b.jsx)(c.strong,{children:"Create Token"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Copy the token immediately."})," It is shown only once. Store it securely."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"step-2-find-your-account-id",children:"Step 2: Find Your Account ID"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to the ",(0,b.jsx)(c.a,{href:"https://dash.cloudflare.com",children:"Cloudflare dashboard"})," overview page."]}),"\n",(0,b.jsxs)(c.li,{children:["Your ",(0,b.jsx)(c.strong,{children:"Account ID"})," is displayed in the right sidebar under ",(0,b.jsx)(c.strong,{children:"Account details"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Copy it."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Alternatively, use the Wrangler CLI:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npx"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" whoami"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"step-3-install-and-authenticate-wrangler-cli",children:"Step 3: Install and Authenticate Wrangler CLI"}),"\n",(0,b.jsx)(c.p,{children:"Wrangler is Cloudflare's CLI tool. Authenticate with your Cloudflare account:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" login"})]})})})}),"\n",(0,b.jsx)(c.p,{children:"This opens a browser window for OAuth authentication. To verify:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" whoami"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"step-4-configure-environment-variables",children:"Step 4: Configure Environment Variables"}),"\n",(0,b.jsxs)(c.p,{children:["Create a ",(0,b.jsx)(c.code,{children:".env"})," file in the project root:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Cloudflare credentials"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CLOUDFLARE_API_TOKEN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-api-token-here"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CLOUDFLARE_ACCOUNT_ID"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-account-id-here"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# App URLs (update after first deploy with your actual worker URLs)"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SITE_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://linkden-web."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"<"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-subdomain"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".workers.dev"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SERVER_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://linkden-api."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"<"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-subdomain"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".workers.dev"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://linkden-web."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"<"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-subdomain"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".workers.dev"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Better Auth"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_SECRET"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-random-secret-here"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://linkden-api."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"<"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-subdomain"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:".workers.dev"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Generate a secure ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," with:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rand"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -base64"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 32"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["See the ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/environment-variables",children:"Environment Variables reference"})," for a full list of all variables."]}),"\n",(0,b.jsx)(c.h2,{id:"step-5-create-the-d1-database-and-push-schema",children:"Step 5: Create the D1 Database and Push Schema"}),"\n",(0,b.jsx)(c.p,{children:"Create the D1 database:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npx"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" d1"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" create"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-db"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["Copy the ",(0,b.jsx)(c.code,{children:"database_id"})," from the output and update ",(0,b.jsx)(c.code,{children:"apps/server/wrangler.jsonc"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"[["}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"d1_databases"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]]"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"binding = "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"DB"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"database_name = "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"linkden-db"'})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"database_id = "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"your-database-id-here"'})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Then push the schema. You can use drizzle-kit with a ",(0,b.jsx)(c.code,{children:"CLOUDFLARE_API_TOKEN"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CLOUDFLARE_ACCOUNT_ID"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-account-id"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" CLOUDFLARE_API_TOKEN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-token"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" db:push"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["Or push directly via wrangler (which uses your ",(0,b.jsx)(c.code,{children:"wrangler login"})," session):"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npx"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" d1"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" execute"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --remote"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --file=packages/db/drizzle/schema.sql"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"step-6-deploy",children:"Step 6: Deploy"}),"\n",(0,b.jsx)(c.p,{children:"With everything configured, deploy the entire stack:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:deploy"})]})})})}),"\n",(0,b.jsx)(c.p,{children:"This command:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Deploys the ",(0,b.jsx)(c.code,{children:"linkden-api"})," Worker (Hono API + tRPC) with D1 bindings via wrangler."]}),"\n",(0,b.jsxs)(c.li,{children:["Builds the Next.js app via ",(0,b.jsx)(c.code,{children:"@opennextjs/cloudflare"})," (OpenNext)."]}),"\n",(0,b.jsxs)(c.li,{children:["Deploys the ",(0,b.jsx)(c.code,{children:"linkden-web"})," Worker with static assets via wrangler."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"The deploy output shows your live URLs:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"API:  https://linkden-api.<your-subdomain>.workers.dev"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Web:  https://linkden-web.<your-subdomain>.workers.dev"})})]})})}),"\n",(0,b.jsx)(c.p,{children:"You can also deploy each part independently:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Deploy only the API worker"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:deploy:api"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Deploy only the web frontend"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:deploy:web"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"step-7-set-up-authentication",children:"Step 7: Set Up Authentication"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen uses ",(0,b.jsx)(c.strong,{children:"Better Auth"})," with email/password authentication. On first run, a setup wizard at ",(0,b.jsx)(c.code,{children:"/admin/setup"})," guides you through creating the initial admin account."]}),"\n",(0,b.jsx)(c.h3,{id:"first-time-setup",children:"First-Time Setup"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Deploy the application (Steps 5–6 above)."}),"\n",(0,b.jsxs)(c.li,{children:["Visit ",(0,b.jsx)(c.code,{children:"https://linkden-web.<your-subdomain>.workers.dev/admin/setup"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Complete the setup wizard to create your admin account (name, email, and password)."}),"\n",(0,b.jsxs)(c.li,{children:["After setup is complete, sign in at ",(0,b.jsx)(c.code,{children:"/admin/login"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"set-auth-secrets-on-the-api-worker",children:"Set Auth Secrets on the API Worker"}),"\n",(0,b.jsx)(c.p,{children:"Set your Better Auth secret as an encrypted secret on the API Worker:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" apps/server"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"echo"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "your-better-auth-secret"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" secret"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" put"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" BETTER_AUTH_SECRET"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Or configure ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," and ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})," via the Cloudflare dashboard:\n",(0,b.jsx)(c.strong,{children:"Workers & Pages > linkden-api > Settings > Variables"}),"."]}),"\n",(0,b.jsx)(c.h3,{id:"auth-environment-variables",children:"Auth Environment Variables"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Where"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsx)(c.td,{children:"API Worker (secret)"}),(0,b.jsx)(c.td,{children:"Random secret for session signing"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsx)(c.td,{children:"API Worker"}),(0,b.jsx)(c.td,{children:"Base URL of the API server"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsx)(c.td,{children:"API Worker"}),(0,b.jsx)(c.td,{children:"Frontend URL (must match exactly)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})}),(0,b.jsx)(c.td,{children:"Web Worker / build"}),(0,b.jsx)(c.td,{children:"Public URL of the API server"})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["See the ",(0,b.jsx)(c.a,{href:"/docs/reference/api",children:"API Reference"})," for more details."]}),"\n",(0,b.jsx)(c.h2,{id:"step-8-set-secrets-optional",children:"Step 8: Set Secrets (Optional)"}),"\n",(0,b.jsx)(c.p,{children:"If using Resend for email, set its secret key as an encrypted secret on the API Worker:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" apps/server"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"echo"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "re_your-key"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" secret"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" put"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" RESEND_API_KEY"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Or via the Cloudflare dashboard: ",(0,b.jsx)(c.strong,{children:"Workers & Pages > linkden-api > Settings > Variables"}),"."]}),"\n",(0,b.jsx)(c.h2,{id:"step-9-verify-the-deployment",children:"Step 9: Verify the Deployment"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Visit your web Worker URL. You should see the public link page."}),"\n",(0,b.jsxs)(c.li,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/setup"})," on first run to create your admin account."]}),"\n",(0,b.jsxs)(c.li,{children:["Sign in at ",(0,b.jsx)(c.code,{children:"/admin/login"})," and try creating a link to verify the API connection."]}),"\n",(0,b.jsx)(c.li,{children:"Check the analytics dashboard."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"If something is not working, check the Worker logs:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tail"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tail"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-web"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"step-10-set-up-custom-domains-optional",children:"Step 10: Set Up Custom Domains (Optional)"}),"\n",(0,b.jsxs)(c.p,{children:["See the ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/custom-domain",children:"Custom Domain guide"})," for detailed instructions."]}),"\n",(0,b.jsx)(c.p,{children:"To add custom domains to your Workers:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Workers & Pages"})," in the Cloudflare dashboard."]}),"\n",(0,b.jsxs)(c.li,{children:["Click on your Worker (",(0,b.jsx)(c.code,{children:"linkden-web"})," or ",(0,b.jsx)(c.code,{children:"linkden-api"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Settings > Domains & Routes"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Add your custom domain."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"After adding custom domains, update your environment variables:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SITE_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://links.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SERVER_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://links.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["Then redeploy: ",(0,b.jsx)(c.code,{children:"pnpm cf:deploy"})]}),"\n",(0,b.jsx)(c.h2,{id:"subsequent-deploys",children:"Subsequent Deploys"}),"\n",(0,b.jsx)(c.p,{children:"After the initial setup, deploying updates is a single command:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pull"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" origin"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" main"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:deploy"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"Alchemy only updates resources that changed, making subsequent deploys faster."}),"\n",(0,b.jsx)(c.h2,{id:"ssltls-configuration",children:"SSL/TLS Configuration"}),"\n",(0,b.jsx)(c.p,{children:"Cloudflare provides SSL/TLS automatically for all Workers deployments:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsxs)(c.strong,{children:["Default ",(0,b.jsx)(c.code,{children:"*.workers.dev"})," subdomains"]}),": Full SSL is enabled by default."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Custom domains on Cloudflare DNS"}),": Cloudflare automatically provisions and renews SSL certificates."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"No manual certificate management is required."}),"\n",(0,b.jsx)(c.h2,{id:"monitoring-and-logs",children:"Monitoring and Logs"}),"\n",(0,b.jsx)(c.h3,{id:"real-time-logs",children:"Real-Time Logs"}),"\n",(0,b.jsx)(c.p,{children:"Stream live logs from your Workers:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# API logs"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tail"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Web frontend logs"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tail"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-web"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Only errors"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tail"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --status"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" error"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"cloudflare-dashboard-analytics",children:"Cloudflare Dashboard Analytics"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Workers analytics"}),": Workers & Pages > your Worker > Analytics."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"D1 analytics"}),": Workers & Pages > D1 > your database."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"tearing-down",children:"Tearing Down"}),"\n",(0,b.jsx)(c.p,{children:"To remove all Cloudflare resources created by Alchemy:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:destroy"})]})})})}),"\n",(0,b.jsx)(c.p,{children:"This deletes the API Worker and the D1 database. The web Worker must be deleted separately from the Cloudflare dashboard."}),"\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"This action is irreversible."})," Back up your D1 database first:"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" d1"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" export"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-db"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --output"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" backup.sql"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,b.jsx)(c.h3,{id:"authentication-error-on-deploy",children:'"Authentication error" on deploy'}),"\n",(0,b.jsx)(c.p,{children:"Your API token may have expired or lack the required permissions."}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" whoami"})]})})})}),"\n",(0,b.jsx)(c.h3,{id:"cors-errors-in-the-browser-console",children:"CORS errors in the browser console"}),"\n",(0,b.jsxs)(c.p,{children:["The ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," environment variable on the API Worker must exactly match the origin of your web app (including protocol, no trailing slash)."]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Correct"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://linkden-web.your-subdomain.workers.dev"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Wrong"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://linkden-web.your-subdomain.workers.dev/"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"worker-returns-1101-error",children:"Worker returns 1101 error"}),"\n",(0,b.jsx)(c.p,{children:"Check the Worker logs:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"wrangler"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" tail"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden-api"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --status"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" error"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["Common causes: missing environment variable, D1 binding not configured, ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," mismatch."]}),"\n",(0,b.jsx)(c.h2,{id:"cost-considerations",children:"Cost Considerations"}),"\n",(0,b.jsx)(c.p,{children:"For a typical single-user link page:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Metric"}),(0,b.jsx)(c.th,{children:"Typical Usage"}),(0,b.jsx)(c.th,{children:"Free Tier Limit"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Worker requests (both)"}),(0,b.jsx)(c.td,{children:"~10K/month"}),(0,b.jsx)(c.td,{children:"100,000/day each"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"D1 rows read"}),(0,b.jsx)(c.td,{children:"~300/day"}),(0,b.jsx)(c.td,{children:"5,000,000/day"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"D1 rows written"}),(0,b.jsx)(c.td,{children:"~50/day"}),(0,b.jsx)(c.td,{children:"100,000/day"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"D1 storage"}),(0,b.jsx)(c.td,{children:"< 50 MB"}),(0,b.jsx)(c.td,{children:"5 GB"})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"Most LinkDen instances will operate entirely within the free tier indefinitely."})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nCloudflare Deployment [#cloudflare-deployment]\n\nLinkDen is designed to run entirely on the Cloudflare stack. This guide walks through the complete deployment process, from account setup to a live, production-ready instance.\n\nArchitecture Overview [#architecture-overview]\n\nLinkDen deploys two Cloudflare Workers and a D1 database:\n\n```\n┌──────────────────────────┐     ┌──────────────────────┐     ┌──────────────┐\n│  Cloudflare Worker       │     │  Cloudflare Worker    │     │ Cloudflare D1│\n│  linkden-web             │────▶│  linkden-api          │────▶│ (SQLite DB)  │\n│  (Next.js via OpenNext)  │     │  (Hono API + tRPC)    │     │              │\n└──────────────────────────┘     └──────────────────────┘     └──────────────┘\n```\n\n| Service                | Purpose                                             | Free Tier                         |\n| ---------------------- | --------------------------------------------------- | --------------------------------- |\n| **linkden-web Worker** | Next.js frontend (SSR + static assets via OpenNext) | 100,000 requests/day              |\n| **linkden-api Worker** | Hono API server with tRPC                           | 100,000 requests/day              |\n| **Cloudflare D1**      | SQLite database for all application data            | 5M rows read/day, 100K writes/day |\n\nThe web frontend is deployed using [`@opennextjs/cloudflare`](https://opennext.js.org/cloudflare), which compiles the full Next.js app (including dynamic routes and SSR) into a Cloudflare Worker.\n\nThe free tier is sufficient for most single-user instances.\n\nPrerequisites [#prerequisites]\n\nBefore you begin, make sure you have the following:\n\n1. A [Cloudflare account](https://cloudflare.com) (free tier is sufficient).\n2. **Node.js 20+** installed on your machine.\n3. **pnpm 9+** installed globally (`npm install -g pnpm`).\n4. The LinkDen repository cloned locally:\n\n```bash\ngit clone https://github.com/mrdemonwolf/linkden.git\ncd LinkDen\npnpm install\n```\n\nStep 1: Create a Cloudflare API Token [#step-1-create-a-cloudflare-api-token]\n\nThe API token allows LinkDen\'s deployment tooling (Alchemy + Wrangler) to manage Cloudflare resources on your behalf.\n\n1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com).\n2. Click your profile icon in the top-right corner.\n3. Go to **My Profile > API Tokens**.\n4. Click **Create Token**.\n5. Select the **Custom token** template.\n6. Configure the following permissions:\n\n| Permission Scope | Resource                   | Access Level |\n| ---------------- | -------------------------- | ------------ |\n| Account          | Cloudflare Workers Scripts | Edit         |\n| Account          | D1                         | Edit         |\n| Account          | Workers KV Storage         | Edit         |\n\n7. Under **Account Resources**, select your account.\n8. Click **Continue to summary**, then **Create Token**.\n9. **Copy the token immediately.** It is shown only once. Store it securely.\n\nStep 2: Find Your Account ID [#step-2-find-your-account-id]\n\n1. Go to the [Cloudflare dashboard](https://dash.cloudflare.com) overview page.\n2. Your **Account ID** is displayed in the right sidebar under **Account details**.\n3. Copy it.\n\nAlternatively, use the Wrangler CLI:\n\n```bash\nnpx wrangler whoami\n```\n\nStep 3: Install and Authenticate Wrangler CLI [#step-3-install-and-authenticate-wrangler-cli]\n\nWrangler is Cloudflare\'s CLI tool. Authenticate with your Cloudflare account:\n\n```bash\nwrangler login\n```\n\nThis opens a browser window for OAuth authentication. To verify:\n\n```bash\nwrangler whoami\n```\n\nStep 4: Configure Environment Variables [#step-4-configure-environment-variables]\n\nCreate a `.env` file in the project root:\n\n```bash\n# Cloudflare credentials\nCLOUDFLARE_API_TOKEN=your-api-token-here\nCLOUDFLARE_ACCOUNT_ID=your-account-id-here\n\n# App URLs (update after first deploy with your actual worker URLs)\nNEXT_PUBLIC_SITE_URL=https://linkden-web.<your-subdomain>.workers.dev\nNEXT_PUBLIC_SERVER_URL=https://linkden-api.<your-subdomain>.workers.dev\nCORS_ORIGIN=https://linkden-web.<your-subdomain>.workers.dev\n\n# Better Auth\nBETTER_AUTH_SECRET=your-random-secret-here\nBETTER_AUTH_URL=https://linkden-api.<your-subdomain>.workers.dev\n```\n\nGenerate a secure `BETTER_AUTH_SECRET` with:\n\n```bash\nopenssl rand -base64 32\n```\n\nSee the [Environment Variables reference](/docs/self-hosting/environment-variables) for a full list of all variables.\n\nStep 5: Create the D1 Database and Push Schema [#step-5-create-the-d1-database-and-push-schema]\n\nCreate the D1 database:\n\n```bash\nnpx wrangler d1 create linkden-db\n```\n\nCopy the `database_id` from the output and update `apps/server/wrangler.jsonc`:\n\n```toml\n[[d1_databases]]\nbinding = "DB"\ndatabase_name = "linkden-db"\ndatabase_id = "your-database-id-here"\n```\n\nThen push the schema. You can use drizzle-kit with a `CLOUDFLARE_API_TOKEN`:\n\n```bash\nCLOUDFLARE_ACCOUNT_ID=your-account-id CLOUDFLARE_API_TOKEN=your-token pnpm db:push\n```\n\nOr push directly via wrangler (which uses your `wrangler login` session):\n\n```bash\nnpx wrangler d1 execute linkden-db --remote --file=packages/db/drizzle/schema.sql\n```\n\nStep 6: Deploy [#step-6-deploy]\n\nWith everything configured, deploy the entire stack:\n\n```bash\npnpm cf:deploy\n```\n\nThis command:\n\n1. Deploys the `linkden-api` Worker (Hono API + tRPC) with D1 bindings via wrangler.\n2. Builds the Next.js app via `@opennextjs/cloudflare` (OpenNext).\n3. Deploys the `linkden-web` Worker with static assets via wrangler.\n\nThe deploy output shows your live URLs:\n\n```\nAPI:  https://linkden-api.<your-subdomain>.workers.dev\nWeb:  https://linkden-web.<your-subdomain>.workers.dev\n```\n\nYou can also deploy each part independently:\n\n```bash\n# Deploy only the API worker\npnpm cf:deploy:api\n\n# Deploy only the web frontend\npnpm cf:deploy:web\n```\n\nStep 7: Set Up Authentication [#step-7-set-up-authentication]\n\nLinkDen uses **Better Auth** with email/password authentication. On first run, a setup wizard at `/admin/setup` guides you through creating the initial admin account.\n\nFirst-Time Setup [#first-time-setup]\n\n1. Deploy the application (Steps 5–6 above).\n2. Visit `https://linkden-web.<your-subdomain>.workers.dev/admin/setup`.\n3. Complete the setup wizard to create your admin account (name, email, and password).\n4. After setup is complete, sign in at `/admin/login`.\n\nSet Auth Secrets on the API Worker [#set-auth-secrets-on-the-api-worker]\n\nSet your Better Auth secret as an encrypted secret on the API Worker:\n\n```bash\ncd apps/server\necho "your-better-auth-secret" | wrangler secret put BETTER_AUTH_SECRET\n```\n\nOr configure `BETTER_AUTH_SECRET` and `BETTER_AUTH_URL` via the Cloudflare dashboard:\n**Workers & Pages > linkden-api > Settings > Variables**.\n\nAuth Environment Variables [#auth-environment-variables]\n\n| Variable                 | Where               | Description                       |\n| ------------------------ | ------------------- | --------------------------------- |\n| `BETTER_AUTH_SECRET`     | API Worker (secret) | Random secret for session signing |\n| `BETTER_AUTH_URL`        | API Worker          | Base URL of the API server        |\n| `CORS_ORIGIN`            | API Worker          | Frontend URL (must match exactly) |\n| `NEXT_PUBLIC_SERVER_URL` | Web Worker / build  | Public URL of the API server      |\n\nSee the [API Reference](/docs/reference/api) for more details.\n\nStep 8: Set Secrets (Optional) [#step-8-set-secrets-optional]\n\nIf using Resend for email, set its secret key as an encrypted secret on the API Worker:\n\n```bash\ncd apps/server\necho "re_your-key" | wrangler secret put RESEND_API_KEY\n```\n\nOr via the Cloudflare dashboard: **Workers & Pages > linkden-api > Settings > Variables**.\n\nStep 9: Verify the Deployment [#step-9-verify-the-deployment]\n\n1. Visit your web Worker URL. You should see the public link page.\n2. Navigate to `/admin/setup` on first run to create your admin account.\n3. Sign in at `/admin/login` and try creating a link to verify the API connection.\n4. Check the analytics dashboard.\n\nIf something is not working, check the Worker logs:\n\n```bash\nwrangler tail linkden-api\nwrangler tail linkden-web\n```\n\nStep 10: Set Up Custom Domains (Optional) [#step-10-set-up-custom-domains-optional]\n\nSee the [Custom Domain guide](/docs/self-hosting/custom-domain) for detailed instructions.\n\nTo add custom domains to your Workers:\n\n1. Go to **Workers & Pages** in the Cloudflare dashboard.\n2. Click on your Worker (`linkden-web` or `linkden-api`).\n3. Go to **Settings > Domains & Routes**.\n4. Add your custom domain.\n\nAfter adding custom domains, update your environment variables:\n\n```bash\nNEXT_PUBLIC_SITE_URL=https://links.yourdomain.com\nNEXT_PUBLIC_SERVER_URL=https://api.yourdomain.com\nCORS_ORIGIN=https://links.yourdomain.com\nBETTER_AUTH_URL=https://api.yourdomain.com\n```\n\nThen redeploy: `pnpm cf:deploy`\n\nSubsequent Deploys [#subsequent-deploys]\n\nAfter the initial setup, deploying updates is a single command:\n\n```bash\ngit pull origin main\npnpm cf:deploy\n```\n\nAlchemy only updates resources that changed, making subsequent deploys faster.\n\nSSL/TLS Configuration [#ssltls-configuration]\n\nCloudflare provides SSL/TLS automatically for all Workers deployments:\n\n* **Default `*.workers.dev` subdomains**: Full SSL is enabled by default.\n* **Custom domains on Cloudflare DNS**: Cloudflare automatically provisions and renews SSL certificates.\n\nNo manual certificate management is required.\n\nMonitoring and Logs [#monitoring-and-logs]\n\nReal-Time Logs [#real-time-logs]\n\nStream live logs from your Workers:\n\n```bash\n# API logs\nwrangler tail linkden-api\n\n# Web frontend logs\nwrangler tail linkden-web\n\n# Only errors\nwrangler tail linkden-api --status error\n```\n\nCloudflare Dashboard Analytics [#cloudflare-dashboard-analytics]\n\n1. **Workers analytics**: Workers & Pages > your Worker > Analytics.\n2. **D1 analytics**: Workers & Pages > D1 > your database.\n\nTearing Down [#tearing-down]\n\nTo remove all Cloudflare resources created by Alchemy:\n\n```bash\npnpm cf:destroy\n```\n\nThis deletes the API Worker and the D1 database. The web Worker must be deleted separately from the Cloudflare dashboard.\n\n**This action is irreversible.** Back up your D1 database first:\n\n```bash\nwrangler d1 export linkden-db --output backup.sql\n```\n\nTroubleshooting [#troubleshooting]\n\n"Authentication error" on deploy [#authentication-error-on-deploy]\n\nYour API token may have expired or lack the required permissions.\n\n```bash\nwrangler whoami\n```\n\nCORS errors in the browser console [#cors-errors-in-the-browser-console]\n\nThe `CORS_ORIGIN` environment variable on the API Worker must exactly match the origin of your web app (including protocol, no trailing slash).\n\n```bash\n# Correct\nCORS_ORIGIN=https://linkden-web.your-subdomain.workers.dev\n\n# Wrong\nCORS_ORIGIN=https://linkden-web.your-subdomain.workers.dev/\n```\n\nWorker returns 1101 error [#worker-returns-1101-error]\n\nCheck the Worker logs:\n\n```bash\nwrangler tail linkden-api --status error\n```\n\nCommon causes: missing environment variable, D1 binding not configured, `BETTER_AUTH_SECRET` mismatch.\n\nCost Considerations [#cost-considerations]\n\nFor a typical single-user link page:\n\n| Metric                 | Typical Usage | Free Tier Limit  |\n| ---------------------- | ------------- | ---------------- |\n| Worker requests (both) | \\~10K/month   | 100,000/day each |\n| D1 rows read           | \\~300/day     | 5,000,000/day    |\n| D1 rows written        | \\~50/day      | 100,000/day      |\n| D1 storage             | \\< 50 MB      | 5 GB             |\n\nMost LinkDen instances will operate entirely within the free tier indefinitely.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},91700,a=>{"use strict";var b=a.i(69819);let c={title:"FAQ",description:"Frequently asked questions about LinkDen."},d={contents:[{heading:"what-is-linkden",content:"LinkDen is a self-hosted, open-source link-in-bio platform. It's a modern alternative to Linktree, built on the Cloudflare stack with a full admin panel and edge performance."},{heading:"is-linkden-free",content:"Yes. LinkDen is MIT licensed and completely free. Cloudflare's free tier covers Workers, D1, and Pages -- so you can deploy at zero cost."},{heading:"can-i-use-linkden-commercially",content:"Absolutely. The MIT license allows unrestricted commercial use. You can remove all LinkDen branding and use it for clients, businesses, or any purpose."},{heading:"how-is-linkden-different-from-linktree",content:"Feature"},{heading:"how-is-linkden-different-from-linktree",content:"LinkDen"},{heading:"how-is-linkden-different-from-linktree",content:"Linktree"},{heading:"how-is-linkden-different-from-linktree",content:"Pricing"},{heading:"how-is-linkden-different-from-linktree",content:"Free (self-hosted)"},{heading:"how-is-linkden-different-from-linktree",content:"Free tier + paid plans"},{heading:"how-is-linkden-different-from-linktree",content:"Data ownership"},{heading:"how-is-linkden-different-from-linktree",content:"You own everything"},{heading:"how-is-linkden-different-from-linktree",content:"Linktree owns your data"},{heading:"how-is-linkden-different-from-linktree",content:"Custom domain"},{heading:"how-is-linkden-different-from-linktree",content:"Full support"},{heading:"how-is-linkden-different-from-linktree",content:"Paid plans only"},{heading:"how-is-linkden-different-from-linktree",content:"Whitelabel"},{heading:"how-is-linkden-different-from-linktree",content:"100% (MIT license)"},{heading:"how-is-linkden-different-from-linktree",content:"Not available"},{heading:"how-is-linkden-different-from-linktree",content:"Analytics"},{heading:"how-is-linkden-different-from-linktree",content:"Built-in, private"},{heading:"how-is-linkden-different-from-linktree",content:"Built-in, Linktree has access"},{heading:"how-is-linkden-different-from-linktree",content:"Customization"},{heading:"how-is-linkden-different-from-linktree",content:"Full code access"},{heading:"how-is-linkden-different-from-linktree",content:"Limited to their editor"},{heading:"how-is-linkden-different-from-linktree",content:"Apple Wallet"},{heading:"how-is-linkden-different-from-linktree",content:"Built-in"},{heading:"how-is-linkden-different-from-linktree",content:"Not available"},{heading:"how-is-linkden-different-from-linktree",content:"Hosting"},{heading:"how-is-linkden-different-from-linktree",content:"Your Cloudflare account"},{heading:"how-is-linkden-different-from-linktree",content:"Linktree's servers"},{heading:"do-i-need-a-cloudflare-account",content:"Yes for the primary deployment path. LinkDen runs on Cloudflare Workers (API) and can deploy the frontend to Cloudflare Pages. However, Docker self-hosting is also supported."},{heading:"can-i-deploy-without-cloudflare",content:"Yes. LinkDen includes a Docker setup for self-hosting outside Cloudflare. See the Docker and Coolify guides."},{heading:"does-linkden-support-multiple-users",content:"LinkDen is designed as a single-user platform. One instance = one link page. If you need multiple users, deploy separate instances."},{heading:"how-does-authentication-work",content:"LinkDen uses Better Auth with email/password authentication. During first-time setup, you create an admin account through the setup wizard. No external auth service (Clerk, Auth0, etc.) is needed. See the API Reference for details."},{heading:"what-block-types-are-available",content:"LinkDen supports 5 block types: Link, Header, Social Icons, Embed (YouTube, Spotify, SoundCloud, Custom), and Contact Form. Each block type has its own configuration options for styling, scheduling, and behavior."},{heading:"how-many-themes-are-there",content:"7 built-in themes, each with both dark and light variants (14 total): Default, Corporate Classic, Corporate Modern, Hacker Terminal, Neon Cyber, Furry Pastel, and Furry Bold. You can also customize colors and add custom CSS."},{heading:"can-i-use-my-own-domain",content:"Yes. See the custom domain guide for DNS configuration instructions."},{heading:"the-admin-panel-shows-failed-to-errors",content:"This usually means the API server isn't running or isn't reachable. Check:"},{heading:"the-admin-panel-shows-failed-to-errors",content:"Is the server running? Run pnpm dev from the project root to start all apps."},{heading:"the-admin-panel-shows-failed-to-errors",content:"Is NEXT_PUBLIC_SERVER_URL set correctly in .env? It should be http://localhost:3000 for local development."},{heading:"the-admin-panel-shows-failed-to-errors",content:"Check the server logs for errors."},{heading:"i-get-cors-errors-in-the-browser",content:"The CORS_ORIGIN environment variable must match your frontend URL exactly. For local development, set it to http://localhost:3001 in .env."},{heading:"database-migrations-fail",content:"Run pnpm db:push from the project root. For a fresh start, you can reset the D1 database in the Cloudflare dashboard."},{heading:"the-build-fails-with-type-errors",content:"Run pnpm check-types to see all type errors across the monorepo. Common causes:"},{heading:"the-build-fails-with-type-errors",content:"Missing environment variables"},{heading:"the-build-fails-with-type-errors",content:"Out-of-date dependencies -- run pnpm install to refresh"},{heading:"styles-look-broken-after-updating",content:"Clear the Next.js cache: rm -rf apps/web/.next and restart the dev server."},{heading:"updating-linkden",content:"LinkDen follows semantic versioning. The current version is tracked in version.json at the root of the repository. The admin settings page shows a notification when a new version is available."},{heading:"update-process",content:"Pull the latest changes: git pull origin main"},{heading:"update-process",content:"Install updated dependencies: pnpm install"},{heading:"update-process",content:"Run database migrations if needed: pnpm db:generate && pnpm db:push"},{heading:"update-process",content:"Rebuild and deploy: pnpm cf:deploy"},{heading:"rolling-back",content:"If an update causes issues, roll back to a previous version:"},{heading:"rolling-back",content:"For database rollbacks, restore from your most recent export (see Export & Import)."}],headings:[{id:"frequently-asked-questions",content:"Frequently Asked Questions"},{id:"general",content:"General"},{id:"what-is-linkden",content:"What is LinkDen?"},{id:"is-linkden-free",content:"Is LinkDen free?"},{id:"can-i-use-linkden-commercially",content:"Can I use LinkDen commercially?"},{id:"how-is-linkden-different-from-linktree",content:"How is LinkDen different from Linktree?"},{id:"deployment",content:"Deployment"},{id:"do-i-need-a-cloudflare-account",content:"Do I need a Cloudflare account?"},{id:"can-i-deploy-without-cloudflare",content:"Can I deploy without Cloudflare?"},{id:"does-linkden-support-multiple-users",content:"Does LinkDen support multiple users?"},{id:"how-does-authentication-work",content:"How does authentication work?"},{id:"features",content:"Features"},{id:"what-block-types-are-available",content:"What block types are available?"},{id:"how-many-themes-are-there",content:"How many themes are there?"},{id:"can-i-use-my-own-domain",content:"Can I use my own domain?"},{id:"troubleshooting",content:"Troubleshooting"},{id:"the-admin-panel-shows-failed-to-errors",content:'The admin panel shows "Failed to..." errors'},{id:"i-get-cors-errors-in-the-browser",content:"I get CORS errors in the browser"},{id:"database-migrations-fail",content:"Database migrations fail"},{id:"the-build-fails-with-type-errors",content:"The build fails with type errors"},{id:"styles-look-broken-after-updating",content:"Styles look broken after updating"},{id:"updating-linkden",content:"Updating LinkDen"},{id:"update-process",content:"Update Process"},{id:"rolling-back",content:"Rolling Back"}]},e=[{depth:1,url:"#frequently-asked-questions",title:(0,b.jsx)(b.Fragment,{children:"Frequently Asked Questions"})},{depth:2,url:"#general",title:(0,b.jsx)(b.Fragment,{children:"General"})},{depth:3,url:"#what-is-linkden",title:(0,b.jsx)(b.Fragment,{children:"What is LinkDen?"})},{depth:3,url:"#is-linkden-free",title:(0,b.jsx)(b.Fragment,{children:"Is LinkDen free?"})},{depth:3,url:"#can-i-use-linkden-commercially",title:(0,b.jsx)(b.Fragment,{children:"Can I use LinkDen commercially?"})},{depth:3,url:"#how-is-linkden-different-from-linktree",title:(0,b.jsx)(b.Fragment,{children:"How is LinkDen different from Linktree?"})},{depth:2,url:"#deployment",title:(0,b.jsx)(b.Fragment,{children:"Deployment"})},{depth:3,url:"#do-i-need-a-cloudflare-account",title:(0,b.jsx)(b.Fragment,{children:"Do I need a Cloudflare account?"})},{depth:3,url:"#can-i-deploy-without-cloudflare",title:(0,b.jsx)(b.Fragment,{children:"Can I deploy without Cloudflare?"})},{depth:3,url:"#does-linkden-support-multiple-users",title:(0,b.jsx)(b.Fragment,{children:"Does LinkDen support multiple users?"})},{depth:3,url:"#how-does-authentication-work",title:(0,b.jsx)(b.Fragment,{children:"How does authentication work?"})},{depth:2,url:"#features",title:(0,b.jsx)(b.Fragment,{children:"Features"})},{depth:3,url:"#what-block-types-are-available",title:(0,b.jsx)(b.Fragment,{children:"What block types are available?"})},{depth:3,url:"#how-many-themes-are-there",title:(0,b.jsx)(b.Fragment,{children:"How many themes are there?"})},{depth:3,url:"#can-i-use-my-own-domain",title:(0,b.jsx)(b.Fragment,{children:"Can I use my own domain?"})},{depth:2,url:"#troubleshooting",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#the-admin-panel-shows-failed-to-errors",title:(0,b.jsx)(b.Fragment,{children:'The admin panel shows "Failed to..." errors'})},{depth:3,url:"#i-get-cors-errors-in-the-browser",title:(0,b.jsx)(b.Fragment,{children:"I get CORS errors in the browser"})},{depth:3,url:"#database-migrations-fail",title:(0,b.jsx)(b.Fragment,{children:"Database migrations fail"})},{depth:3,url:"#the-build-fails-with-type-errors",title:(0,b.jsx)(b.Fragment,{children:"The build fails with type errors"})},{depth:3,url:"#styles-look-broken-after-updating",title:(0,b.jsx)(b.Fragment,{children:"Styles look broken after updating"})},{depth:2,url:"#updating-linkden",title:(0,b.jsx)(b.Fragment,{children:"Updating LinkDen"})},{depth:3,url:"#update-process",title:(0,b.jsx)(b.Fragment,{children:"Update Process"})},{depth:3,url:"#rolling-back",title:(0,b.jsx)(b.Fragment,{children:"Rolling Back"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,b.jsx)(c.h2,{id:"general",children:"General"}),"\n",(0,b.jsx)(c.h3,{id:"what-is-linkden",children:"What is LinkDen?"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen is a self-hosted, open-source link-in-bio platform. It's a modern alternative to Linktree, built on the Cloudflare stack with a full admin panel and edge performance."}),"\n",(0,b.jsx)(c.h3,{id:"is-linkden-free",children:"Is LinkDen free?"}),"\n",(0,b.jsx)(c.p,{children:"Yes. LinkDen is MIT licensed and completely free. Cloudflare's free tier covers Workers, D1, and Pages -- so you can deploy at zero cost."}),"\n",(0,b.jsx)(c.h3,{id:"can-i-use-linkden-commercially",children:"Can I use LinkDen commercially?"}),"\n",(0,b.jsx)(c.p,{children:"Absolutely. The MIT license allows unrestricted commercial use. You can remove all LinkDen branding and use it for clients, businesses, or any purpose."}),"\n",(0,b.jsx)(c.h3,{id:"how-is-linkden-different-from-linktree",children:"How is LinkDen different from Linktree?"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Feature"}),(0,b.jsx)(c.th,{children:"LinkDen"}),(0,b.jsx)(c.th,{children:"Linktree"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Pricing"}),(0,b.jsx)(c.td,{children:"Free (self-hosted)"}),(0,b.jsx)(c.td,{children:"Free tier + paid plans"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Data ownership"}),(0,b.jsx)(c.td,{children:"You own everything"}),(0,b.jsx)(c.td,{children:"Linktree owns your data"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Custom domain"}),(0,b.jsx)(c.td,{children:"Full support"}),(0,b.jsx)(c.td,{children:"Paid plans only"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Whitelabel"}),(0,b.jsx)(c.td,{children:"100% (MIT license)"}),(0,b.jsx)(c.td,{children:"Not available"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Analytics"}),(0,b.jsx)(c.td,{children:"Built-in, private"}),(0,b.jsx)(c.td,{children:"Built-in, Linktree has access"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Customization"}),(0,b.jsx)(c.td,{children:"Full code access"}),(0,b.jsx)(c.td,{children:"Limited to their editor"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Apple Wallet"}),(0,b.jsx)(c.td,{children:"Built-in"}),(0,b.jsx)(c.td,{children:"Not available"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Hosting"}),(0,b.jsx)(c.td,{children:"Your Cloudflare account"}),(0,b.jsx)(c.td,{children:"Linktree's servers"})]})]})]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"deployment",children:"Deployment"}),"\n",(0,b.jsx)(c.h3,{id:"do-i-need-a-cloudflare-account",children:"Do I need a Cloudflare account?"}),"\n",(0,b.jsx)(c.p,{children:"Yes for the primary deployment path. LinkDen runs on Cloudflare Workers (API) and can deploy the frontend to Cloudflare Pages. However, Docker self-hosting is also supported."}),"\n",(0,b.jsx)(c.h3,{id:"can-i-deploy-without-cloudflare",children:"Can I deploy without Cloudflare?"}),"\n",(0,b.jsxs)(c.p,{children:["Yes. LinkDen includes a Docker setup for self-hosting outside Cloudflare. See the ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/docker",children:"Docker"})," and ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/coolify",children:"Coolify"})," guides."]}),"\n",(0,b.jsx)(c.h3,{id:"does-linkden-support-multiple-users",children:"Does LinkDen support multiple users?"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen is designed as a ",(0,b.jsx)(c.strong,{children:"single-user"})," platform. One instance = one link page. If you need multiple users, deploy separate instances."]}),"\n",(0,b.jsx)(c.h3,{id:"how-does-authentication-work",children:"How does authentication work?"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen uses Better Auth with email/password authentication. During first-time setup, you create an admin account through the setup wizard. No external auth service (Clerk, Auth0, etc.) is needed. See the ",(0,b.jsx)(c.a,{href:"/docs/reference/api",children:"API Reference"})," for details."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"features",children:"Features"}),"\n",(0,b.jsx)(c.h3,{id:"what-block-types-are-available",children:"What block types are available?"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen supports 5 block types: ",(0,b.jsx)(c.strong,{children:"Link"}),", ",(0,b.jsx)(c.strong,{children:"Header"}),", ",(0,b.jsx)(c.strong,{children:"Social Icons"}),", ",(0,b.jsx)(c.strong,{children:"Embed"})," (YouTube, Spotify, SoundCloud, Custom), and ",(0,b.jsx)(c.strong,{children:"Contact Form"}),". Each block type has its own configuration options for styling, scheduling, and behavior."]}),"\n",(0,b.jsx)(c.h3,{id:"how-many-themes-are-there",children:"How many themes are there?"}),"\n",(0,b.jsx)(c.p,{children:"7 built-in themes, each with both dark and light variants (14 total): Default, Corporate Classic, Corporate Modern, Hacker Terminal, Neon Cyber, Furry Pastel, and Furry Bold. You can also customize colors and add custom CSS."}),"\n",(0,b.jsx)(c.h3,{id:"can-i-use-my-own-domain",children:"Can I use my own domain?"}),"\n",(0,b.jsxs)(c.p,{children:["Yes. See the ",(0,b.jsx)(c.a,{href:"/docs/self-hosting/custom-domain",children:"custom domain guide"})," for DNS configuration instructions."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,b.jsx)(c.h3,{id:"the-admin-panel-shows-failed-to-errors",children:'The admin panel shows "Failed to..." errors'}),"\n",(0,b.jsx)(c.p,{children:"This usually means the API server isn't running or isn't reachable. Check:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Is the server running? Run ",(0,b.jsx)(c.code,{children:"pnpm dev"})," from the project root to start all apps."]}),"\n",(0,b.jsxs)(c.li,{children:["Is ",(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})," set correctly in ",(0,b.jsx)(c.code,{children:".env"}),"? It should be ",(0,b.jsx)(c.code,{children:"http://localhost:3000"})," for local development."]}),"\n",(0,b.jsx)(c.li,{children:"Check the server logs for errors."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"i-get-cors-errors-in-the-browser",children:"I get CORS errors in the browser"}),"\n",(0,b.jsxs)(c.p,{children:["The ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," environment variable must match your frontend URL exactly. For local development, set it to ",(0,b.jsx)(c.code,{children:"http://localhost:3001"})," in ",(0,b.jsx)(c.code,{children:".env"}),"."]}),"\n",(0,b.jsx)(c.h3,{id:"database-migrations-fail",children:"Database migrations fail"}),"\n",(0,b.jsxs)(c.p,{children:["Run ",(0,b.jsx)(c.code,{children:"pnpm db:push"})," from the project root. For a fresh start, you can reset the D1 database in the Cloudflare dashboard."]}),"\n",(0,b.jsx)(c.h3,{id:"the-build-fails-with-type-errors",children:"The build fails with type errors"}),"\n",(0,b.jsxs)(c.p,{children:["Run ",(0,b.jsx)(c.code,{children:"pnpm check-types"})," to see all type errors across the monorepo. Common causes:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Missing environment variables"}),"\n",(0,b.jsxs)(c.li,{children:["Out-of-date dependencies -- run ",(0,b.jsx)(c.code,{children:"pnpm install"})," to refresh"]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"styles-look-broken-after-updating",children:"Styles look broken after updating"}),"\n",(0,b.jsxs)(c.p,{children:["Clear the Next.js cache: ",(0,b.jsx)(c.code,{children:"rm -rf apps/web/.next"})," and restart the dev server."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"updating-linkden",children:"Updating LinkDen"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen follows semantic versioning. The current version is tracked in ",(0,b.jsx)(c.code,{children:"version.json"})," at the root of the repository. The admin settings page shows a notification when a new version is available."]}),"\n",(0,b.jsx)(c.h3,{id:"update-process",children:"Update Process"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Pull the latest changes: ",(0,b.jsx)(c.code,{children:"git pull origin main"})]}),"\n",(0,b.jsxs)(c.li,{children:["Install updated dependencies: ",(0,b.jsx)(c.code,{children:"pnpm install"})]}),"\n",(0,b.jsxs)(c.li,{children:["Run database migrations if needed: ",(0,b.jsx)(c.code,{children:"pnpm db:generate && pnpm db:push"})]}),"\n",(0,b.jsxs)(c.li,{children:["Rebuild and deploy: ",(0,b.jsx)(c.code,{children:"pnpm cf:deploy"})]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"rolling-back",children:"Rolling Back"}),"\n",(0,b.jsx)(c.p,{children:"If an update causes issues, roll back to a previous version:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" log"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --oneline"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -10"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  # Find the commit to roll back to"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" checkout"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" <"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"commit-has"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"h"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" cf:deploy"})]})]})})}),"\n",(0,b.jsxs)(c.p,{children:["For database rollbacks, restore from your most recent export (see ",(0,b.jsx)(c.a,{href:"/docs/guide/export-import",children:"Export & Import"}),")."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nFrequently Asked Questions [#frequently-asked-questions]\n\nGeneral [#general]\n\nWhat is LinkDen? [#what-is-linkden]\n\nLinkDen is a self-hosted, open-source link-in-bio platform. It's a modern alternative to Linktree, built on the Cloudflare stack with a full admin panel and edge performance.\n\nIs LinkDen free? [#is-linkden-free]\n\nYes. LinkDen is MIT licensed and completely free. Cloudflare's free tier covers Workers, D1, and Pages -- so you can deploy at zero cost.\n\nCan I use LinkDen commercially? [#can-i-use-linkden-commercially]\n\nAbsolutely. The MIT license allows unrestricted commercial use. You can remove all LinkDen branding and use it for clients, businesses, or any purpose.\n\nHow is LinkDen different from Linktree? [#how-is-linkden-different-from-linktree]\n\n| Feature        | LinkDen                 | Linktree                      |\n| -------------- | ----------------------- | ----------------------------- |\n| Pricing        | Free (self-hosted)      | Free tier + paid plans        |\n| Data ownership | You own everything      | Linktree owns your data       |\n| Custom domain  | Full support            | Paid plans only               |\n| Whitelabel     | 100% (MIT license)      | Not available                 |\n| Analytics      | Built-in, private       | Built-in, Linktree has access |\n| Customization  | Full code access        | Limited to their editor       |\n| Apple Wallet   | Built-in                | Not available                 |\n| Hosting        | Your Cloudflare account | Linktree's servers            |\n\n***\n\nDeployment [#deployment]\n\nDo I need a Cloudflare account? [#do-i-need-a-cloudflare-account]\n\nYes for the primary deployment path. LinkDen runs on Cloudflare Workers (API) and can deploy the frontend to Cloudflare Pages. However, Docker self-hosting is also supported.\n\nCan I deploy without Cloudflare? [#can-i-deploy-without-cloudflare]\n\nYes. LinkDen includes a Docker setup for self-hosting outside Cloudflare. See the [Docker](/docs/self-hosting/docker) and [Coolify](/docs/self-hosting/coolify) guides.\n\nDoes LinkDen support multiple users? [#does-linkden-support-multiple-users]\n\nLinkDen is designed as a **single-user** platform. One instance = one link page. If you need multiple users, deploy separate instances.\n\nHow does authentication work? [#how-does-authentication-work]\n\nLinkDen uses Better Auth with email/password authentication. During first-time setup, you create an admin account through the setup wizard. No external auth service (Clerk, Auth0, etc.) is needed. See the [API Reference](/docs/reference/api) for details.\n\n***\n\nFeatures [#features]\n\nWhat block types are available? [#what-block-types-are-available]\n\nLinkDen supports 5 block types: **Link**, **Header**, **Social Icons**, **Embed** (YouTube, Spotify, SoundCloud, Custom), and **Contact Form**. Each block type has its own configuration options for styling, scheduling, and behavior.\n\nHow many themes are there? [#how-many-themes-are-there]\n\n7 built-in themes, each with both dark and light variants (14 total): Default, Corporate Classic, Corporate Modern, Hacker Terminal, Neon Cyber, Furry Pastel, and Furry Bold. You can also customize colors and add custom CSS.\n\nCan I use my own domain? [#can-i-use-my-own-domain]\n\nYes. See the [custom domain guide](/docs/self-hosting/custom-domain) for DNS configuration instructions.\n\n***\n\nTroubleshooting [#troubleshooting]\n\nThe admin panel shows \"Failed to...\" errors [#the-admin-panel-shows-failed-to-errors]\n\nThis usually means the API server isn't running or isn't reachable. Check:\n\n1. Is the server running? Run `pnpm dev` from the project root to start all apps.\n2. Is `NEXT_PUBLIC_SERVER_URL` set correctly in `.env`? It should be `http://localhost:3000` for local development.\n3. Check the server logs for errors.\n\nI get CORS errors in the browser [#i-get-cors-errors-in-the-browser]\n\nThe `CORS_ORIGIN` environment variable must match your frontend URL exactly. For local development, set it to `http://localhost:3001` in `.env`.\n\nDatabase migrations fail [#database-migrations-fail]\n\nRun `pnpm db:push` from the project root. For a fresh start, you can reset the D1 database in the Cloudflare dashboard.\n\nThe build fails with type errors [#the-build-fails-with-type-errors]\n\nRun `pnpm check-types` to see all type errors across the monorepo. Common causes:\n\n* Missing environment variables\n* Out-of-date dependencies -- run `pnpm install` to refresh\n\nStyles look broken after updating [#styles-look-broken-after-updating]\n\nClear the Next.js cache: `rm -rf apps/web/.next` and restart the dev server.\n\n***\n\nUpdating LinkDen [#updating-linkden]\n\nLinkDen follows semantic versioning. The current version is tracked in `version.json` at the root of the repository. The admin settings page shows a notification when a new version is available.\n\nUpdate Process [#update-process]\n\n1. Pull the latest changes: `git pull origin main`\n2. Install updated dependencies: `pnpm install`\n3. Run database migrations if needed: `pnpm db:generate && pnpm db:push`\n4. Rebuild and deploy: `pnpm cf:deploy`\n\nRolling Back [#rolling-back]\n\nIf an update causes issues, roll back to a previous version:\n\n```bash\ngit log --oneline -10  # Find the commit to roll back to\ngit checkout <commit-hash>\npnpm install\npnpm cf:deploy\n```\n\nFor database rollbacks, restore from your most recent export (see [Export & Import](/docs/guide/export-import)).\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},34552,a=>{"use strict";var b=a.i(69819);let c={title:"Changelog",description:"Release history and notable changes for LinkDen."},d={contents:[{heading:"changelog",content:"All notable changes to LinkDen are documented here. For the full commit history, see the GitHub repository."},{heading:"v010----initial-release",content:"February 2026"},{heading:"v010----initial-release",content:"The first public release of LinkDen."},{heading:"core-platform",content:"Block builder with drag-and-drop reordering and live phone preview"},{heading:"core-platform",content:"5 block types: Link, Header, Social Icons, Embed, Contact Form"},{heading:"core-platform",content:"100+ social brands from Simple Icons"},{heading:"core-platform",content:"7 built-in themes with dark and light variants (14 total)"},{heading:"core-platform",content:"Setup wizard -- 4-step onboarding (Account, Profile, Theme, Done)"},{heading:"admin-panel",content:"Dashboard with stat cards (views, clicks, unread contacts) and mini bar chart"},{heading:"admin-panel",content:"Block builder with slide-in edit panel (Content, Style, Options, Schedule tabs)"},{heading:"admin-panel",content:"Social network management page with search and toggle"},{heading:"admin-panel",content:"Full analytics dashboard with period selector, charts, top links, referrers, countries"},{heading:"admin-panel",content:"Contact form submissions management with read/unread tracking"},{heading:"admin-panel",content:"Settings page with 11 configuration sections"},{heading:"admin-panel",content:"Version update checker"},{heading:"features",content:"Better Auth email/password authentication"},{heading:"features",content:"Apple Wallet pass configuration"},{heading:"features",content:"vCard generation and download (VCard 3.0)"},{heading:"features",content:"Contact form with Cloudflare Turnstile and Google reCAPTCHA support"},{heading:"features",content:"Email notifications via Resend or Cloudflare Email Workers"},{heading:"features",content:"Analytics -- page views, link clicks, referrers, country breakdown (privacy-friendly)"},{heading:"features",content:"Block scheduling with start/end dates"},{heading:"features",content:"Color customization with CSS custom properties"},{heading:"features",content:"Custom CSS injection"},{heading:"features",content:"SEO -- dynamic sitemap, robots.txt, Open Graph meta tags"},{heading:"features",content:"Export/Import data as JSON (merge or replace modes)"},{heading:"features",content:"Whitelabel branding with custom footer"},{heading:"infrastructure",content:"Cloudflare Workers API server with Hono + tRPC v11"},{heading:"infrastructure",content:"Cloudflare D1 (SQLite) database with Drizzle ORM"},{heading:"infrastructure",content:"Next.js 16 frontend with React 19 and Tailwind CSS v4"},{heading:"infrastructure",content:"Turborepo monorepo with shared packages (api, auth, db, env, ui, validators, email)"},{heading:"infrastructure",content:"Better Auth session-based authentication"},{heading:"infrastructure",content:"Alchemy infrastructure-as-code for Cloudflare deployment"},{heading:"infrastructure",content:"Docker support for self-hosting"}],headings:[{id:"changelog",content:"Changelog"},{id:"v010----initial-release",content:"v0.1.0 -- Initial Release"},{id:"core-platform",content:"Core Platform"},{id:"admin-panel",content:"Admin Panel"},{id:"features",content:"Features"},{id:"infrastructure",content:"Infrastructure"}]},e=[{depth:1,url:"#changelog",title:(0,b.jsx)(b.Fragment,{children:"Changelog"})},{depth:2,url:"#v010----initial-release",title:(0,b.jsx)(b.Fragment,{children:"v0.1.0 -- Initial Release"})},{depth:3,url:"#core-platform",title:(0,b.jsx)(b.Fragment,{children:"Core Platform"})},{depth:3,url:"#admin-panel",title:(0,b.jsx)(b.Fragment,{children:"Admin Panel"})},{depth:3,url:"#features",title:(0,b.jsx)(b.Fragment,{children:"Features"})},{depth:3,url:"#infrastructure",title:(0,b.jsx)(b.Fragment,{children:"Infrastructure"})}];function f(a){let c={a:"a",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"changelog",children:"Changelog"}),"\n",(0,b.jsxs)(c.p,{children:["All notable changes to LinkDen are documented here. For the full commit history, see the ",(0,b.jsx)(c.a,{href:"https://github.com/mrdemonwolf/linkden/commits/main",children:"GitHub repository"}),"."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"v010----initial-release",children:"v0.1.0 -- Initial Release"}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"February 2026"})}),"\n",(0,b.jsx)(c.p,{children:"The first public release of LinkDen."}),"\n",(0,b.jsx)(c.h3,{id:"core-platform",children:"Core Platform"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Block builder"})," with drag-and-drop reordering and live phone preview"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"5 block types"}),": Link, Header, Social Icons, Embed, Contact Form"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"100+ social brands"})," from Simple Icons"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"7 built-in themes"})," with dark and light variants (14 total)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Setup wizard"})," -- 4-step onboarding (Account, Profile, Theme, Done)"]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"admin-panel",children:"Admin Panel"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Dashboard with stat cards (views, clicks, unread contacts) and mini bar chart"}),"\n",(0,b.jsx)(c.li,{children:"Block builder with slide-in edit panel (Content, Style, Options, Schedule tabs)"}),"\n",(0,b.jsx)(c.li,{children:"Social network management page with search and toggle"}),"\n",(0,b.jsx)(c.li,{children:"Full analytics dashboard with period selector, charts, top links, referrers, countries"}),"\n",(0,b.jsx)(c.li,{children:"Contact form submissions management with read/unread tracking"}),"\n",(0,b.jsx)(c.li,{children:"Settings page with 11 configuration sections"}),"\n",(0,b.jsx)(c.li,{children:"Version update checker"}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"features",children:"Features"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Better Auth"})," email/password authentication"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Apple Wallet"})," pass configuration"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"vCard"})," generation and download (VCard 3.0)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Contact form"})," with Cloudflare Turnstile and Google reCAPTCHA support"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Email notifications"})," via Resend or Cloudflare Email Workers"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Analytics"})," -- page views, link clicks, referrers, country breakdown (privacy-friendly)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Block scheduling"})," with start/end dates"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Color customization"})," with CSS custom properties"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Custom CSS"})," injection"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"SEO"})," -- dynamic sitemap, robots.txt, Open Graph meta tags"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Export/Import"})," data as JSON (merge or replace modes)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Whitelabel"})," branding with custom footer"]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"infrastructure",children:"Infrastructure"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Cloudflare Workers"})," API server with Hono + tRPC v11"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Cloudflare D1"})," (SQLite) database with Drizzle ORM"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Next.js 16"})," frontend with React 19 and Tailwind CSS v4"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Turborepo"})," monorepo with shared packages (api, auth, db, env, ui, validators, email)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Better Auth"})," session-based authentication"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Alchemy"})," infrastructure-as-code for Cloudflare deployment"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Docker"})," support for self-hosting"]}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nChangelog [#changelog]\n\nAll notable changes to LinkDen are documented here. For the full commit history, see the [GitHub repository](https://github.com/mrdemonwolf/linkden/commits/main).\n\n***\n\nv0.1.0 -- Initial Release [#v010----initial-release]\n\n**February 2026**\n\nThe first public release of LinkDen.\n\nCore Platform [#core-platform]\n\n* **Block builder** with drag-and-drop reordering and live phone preview\n* **5 block types**: Link, Header, Social Icons, Embed, Contact Form\n* **100+ social brands** from Simple Icons\n* **7 built-in themes** with dark and light variants (14 total)\n* **Setup wizard** -- 4-step onboarding (Account, Profile, Theme, Done)\n\nAdmin Panel [#admin-panel]\n\n* Dashboard with stat cards (views, clicks, unread contacts) and mini bar chart\n* Block builder with slide-in edit panel (Content, Style, Options, Schedule tabs)\n* Social network management page with search and toggle\n* Full analytics dashboard with period selector, charts, top links, referrers, countries\n* Contact form submissions management with read/unread tracking\n* Settings page with 11 configuration sections\n* Version update checker\n\nFeatures [#features]\n\n* **Better Auth** email/password authentication\n* **Apple Wallet** pass configuration\n* **vCard** generation and download (VCard 3.0)\n* **Contact form** with Cloudflare Turnstile and Google reCAPTCHA support\n* **Email notifications** via Resend or Cloudflare Email Workers\n* **Analytics** -- page views, link clicks, referrers, country breakdown (privacy-friendly)\n* **Block scheduling** with start/end dates\n* **Color customization** with CSS custom properties\n* **Custom CSS** injection\n* **SEO** -- dynamic sitemap, robots.txt, Open Graph meta tags\n* **Export/Import** data as JSON (merge or replace modes)\n* **Whitelabel** branding with custom footer\n\nInfrastructure [#infrastructure]\n\n* **Cloudflare Workers** API server with Hono + tRPC v11\n* **Cloudflare D1** (SQLite) database with Drizzle ORM\n* **Next.js 16** frontend with React 19 and Tailwind CSS v4\n* **Turborepo** monorepo with shared packages (api, auth, db, env, ui, validators, email)\n* **Better Auth** session-based authentication\n* **Alchemy** infrastructure-as-code for Cloudflare deployment\n* **Docker** support for self-hosting\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},24871,a=>{"use strict";var b=a.i(69819);let c={title:"API Reference",description:"Complete reference for LinkDen's tRPC API — architecture, authentication, and all endpoints."},d={contents:[{heading:"api-reference",content:"LinkDen's API is built with tRPC v11 on top of Hono, running on Cloudflare Workers."},{heading:"architecture",content:"Hono -- Ultra-lightweight web framework for edge runtimes. Handles routing, middleware, and request/response processing with zero cold start on Cloudflare Workers."},{heading:"architecture",content:"tRPC v11 -- End-to-end type safety without code generation. Router definitions live in packages/api."},{heading:"architecture",content:"Better Auth -- Email/password authentication. Session cookies are validated on protected procedures."},{heading:"architecture",content:"Drizzle ORM -- Type-safe SQL query builder for Cloudflare D1. Schema in packages/db/src/schema/."},{heading:"authentication",content:"LinkDen uses Better Auth with email/password sign-in."},{heading:"session-flow",content:"During first-time setup at /admin/setup, you create an admin account."},{heading:"session-flow",content:"Better Auth creates a session with secure cookies."},{heading:"session-flow",content:"For subsequent visits, sign in at /admin/login."},{heading:"session-flow",content:"The session cookie is sent with all API requests to authenticate protected routes."},{heading:"cookie-configuration",content:"Attribute"},{heading:"cookie-configuration",content:"Value"},{heading:"cookie-configuration",content:"Reason"},{heading:"cookie-configuration",content:"sameSite"},{heading:"cookie-configuration",content:"none"},{heading:"cookie-configuration",content:"Required for cross-origin requests"},{heading:"cookie-configuration",content:"secure"},{heading:"cookie-configuration",content:"true"},{heading:"cookie-configuration",content:"Required when sameSite is none"},{heading:"cookie-configuration",content:"httpOnly"},{heading:"cookie-configuration",content:"true"},{heading:"cookie-configuration",content:"Prevents JavaScript access to session cookie"},{heading:"environment-variables",content:"Variable"},{heading:"environment-variables",content:"Description"},{heading:"environment-variables",content:"BETTER_AUTH_SECRET"},{heading:"environment-variables",content:"Secret key for session signing"},{heading:"environment-variables",content:"BETTER_AUTH_URL"},{heading:"environment-variables",content:"Base URL for the auth server (API server URL)"},{heading:"environment-variables",content:"CORS_ORIGIN"},{heading:"environment-variables",content:"Trusted origin for the frontend"},{heading:"environment-variables",content:"Generate a secret with: openssl rand -base64 32"},{heading:"troubleshooting-auth",content:"401 Unauthorized -- Check BETTER_AUTH_SECRET is set and consistent. Verify CORS_ORIGIN matches the frontend URL exactly."},{heading:"troubleshooting-auth",content:"Cannot create account -- Use the setup wizard at /admin/setup for the initial account."},{heading:"troubleshooting-auth",content:"CORS errors -- CORS_ORIGIN must match the frontend URL including protocol, no trailing slash."},{heading:"endpoint-reference",content:"All endpoints are available at /trpc/<router>.<procedure>. Public procedures require no authentication. Protected procedures require a valid Better Auth session cookie."},{heading:"blocks",content:"Manage content blocks on your page."},{heading:"blocks",content:"Procedure"},{heading:"blocks",content:"Type"},{heading:"blocks",content:"Auth"},{heading:"blocks",content:"Description"},{heading:"blocks",content:"blocks.list"},{heading:"blocks",content:"Query"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Get all blocks ordered by position"},{heading:"blocks",content:"blocks.get"},{heading:"blocks",content:"Query"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Get a single block by ID"},{heading:"blocks",content:"blocks.create"},{heading:"blocks",content:"Mutation"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Create a new block with client-generated ID"},{heading:"blocks",content:"blocks.update"},{heading:"blocks",content:"Mutation"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Update block fields by ID"},{heading:"blocks",content:"blocks.delete"},{heading:"blocks",content:"Mutation"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Delete a block by ID"},{heading:"blocks",content:"blocks.reorder"},{heading:"blocks",content:"Mutation"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Batch update block positions"},{heading:"blocks",content:"blocks.toggleEnabled"},{heading:"blocks",content:"Mutation"},{heading:"blocks",content:"Protected"},{heading:"blocks",content:"Toggle isEnabled field"},{heading:"block-fields",content:"Field"},{heading:"block-fields",content:"Type"},{heading:"block-fields",content:"Description"},{heading:"block-fields",content:"id"},{heading:"block-fields",content:"string"},{heading:"block-fields",content:"Unique block ID"},{heading:"block-fields",content:"type"},{heading:"block-fields",content:"BlockType"},{heading:"block-fields",content:"Block type"},{heading:"block-fields",content:"title"},{heading:"block-fields",content:"string"},{heading:"block-fields",content:"Display title"},{heading:"block-fields",content:"url"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"Destination URL (link blocks)"},{heading:"block-fields",content:"icon"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"Icon identifier"},{heading:"block-fields",content:"embedType"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"Embed provider"},{heading:"block-fields",content:"embedUrl"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"Embed source URL"},{heading:"block-fields",content:"socialIcons"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"JSON string of social icon data"},{heading:"block-fields",content:"isEnabled"},{heading:"block-fields",content:"boolean"},{heading:"block-fields",content:"Visibility on public page"},{heading:"block-fields",content:"position"},{heading:"block-fields",content:"number"},{heading:"block-fields",content:"Display order"},{heading:"block-fields",content:"scheduledStart"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"ISO datetime for scheduled visibility start"},{heading:"block-fields",content:"scheduledEnd"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"ISO datetime for scheduled visibility end"},{heading:"block-fields",content:"config"},{heading:"block-fields",content:"string?"},{heading:"block-fields",content:"JSON string of block configuration"},{heading:"settings",content:"Manage site-wide key-value configuration."},{heading:"settings",content:"Procedure"},{heading:"settings",content:"Type"},{heading:"settings",content:"Auth"},{heading:"settings",content:"Description"},{heading:"settings",content:"settings.get"},{heading:"settings",content:"Query"},{heading:"settings",content:"Protected"},{heading:"settings",content:"Get a single setting by key"},{heading:"settings",content:"settings.getAll"},{heading:"settings",content:"Query"},{heading:"settings",content:"Protected"},{heading:"settings",content:"Get all settings as key-value map"},{heading:"settings",content:"settings.update"},{heading:"settings",content:"Mutation"},{heading:"settings",content:"Protected"},{heading:"settings",content:"Upsert a single key-value pair"},{heading:"settings",content:"settings.updateBulk"},{heading:"settings",content:"Mutation"},{heading:"settings",content:"Protected"},{heading:"settings",content:"Upsert an array of key-value pairs"},{heading:"common-settings-keys",content:"Key"},{heading:"common-settings-keys",content:"Description"},{heading:"common-settings-keys",content:"profile_name"},{heading:"common-settings-keys",content:"Display name"},{heading:"common-settings-keys",content:"bio"},{heading:"common-settings-keys",content:"Bio text"},{heading:"common-settings-keys",content:"avatar_url"},{heading:"common-settings-keys",content:"Avatar image URL"},{heading:"common-settings-keys",content:"verified_badge"},{heading:"common-settings-keys",content:"Show verified checkmark"},{heading:"common-settings-keys",content:"theme_preset"},{heading:"common-settings-keys",content:"Theme ID"},{heading:"common-settings-keys",content:"seo_title"},{heading:"common-settings-keys",content:"Page title"},{heading:"common-settings-keys",content:"seo_description"},{heading:"common-settings-keys",content:"Meta description"},{heading:"common-settings-keys",content:"seo_og_image"},{heading:"common-settings-keys",content:"Open Graph image URL"},{heading:"common-settings-keys",content:"contact_form_enabled"},{heading:"common-settings-keys",content:"Contact form toggle"},{heading:"common-settings-keys",content:"contact_delivery"},{heading:"common-settings-keys",content:"Delivery mode"},{heading:"common-settings-keys",content:"captcha_provider"},{heading:"common-settings-keys",content:"CAPTCHA mode"},{heading:"common-settings-keys",content:"branding_enabled"},{heading:"common-settings-keys",content:"Whitelabel footer toggle"},{heading:"common-settings-keys",content:"branding_text"},{heading:"common-settings-keys",content:"Custom footer text"},{heading:"common-settings-keys",content:"branding_link"},{heading:"common-settings-keys",content:"Custom footer link"},{heading:"common-settings-keys",content:"vcard_enabled"},{heading:"common-settings-keys",content:"vCard download toggle"},{heading:"common-settings-keys",content:"wallet_enabled"},{heading:"common-settings-keys",content:"Apple Wallet toggle"},{heading:"common-settings-keys",content:"setup_completed"},{heading:"common-settings-keys",content:"Setup wizard completion flag"},{heading:"contacts",content:"Handle contact form submissions."},{heading:"contacts",content:"Procedure"},{heading:"contacts",content:"Type"},{heading:"contacts",content:"Auth"},{heading:"contacts",content:"Description"},{heading:"contacts",content:"contacts.list"},{heading:"contacts",content:"Query"},{heading:"contacts",content:"Protected"},{heading:"contacts",content:"List submissions with optional isRead filter, limit/offset pagination"},{heading:"contacts",content:"contacts.get"},{heading:"contacts",content:"Query"},{heading:"contacts",content:"Protected"},{heading:"contacts",content:"Get a single submission by ID"},{heading:"contacts",content:"contacts.markRead"},{heading:"contacts",content:"Mutation"},{heading:"contacts",content:"Protected"},{heading:"contacts",content:"Mark submission as read"},{heading:"contacts",content:"contacts.markUnread"},{heading:"contacts",content:"Mutation"},{heading:"contacts",content:"Protected"},{heading:"contacts",content:"Mark submission as unread"},{heading:"contacts",content:"contacts.delete"},{heading:"contacts",content:"Mutation"},{heading:"contacts",content:"Protected"},{heading:"contacts",content:"Delete a submission"},{heading:"contacts",content:"contacts.unreadCount"},{heading:"contacts",content:"Query"},{heading:"contacts",content:"Protected"},{heading:"contacts",content:"Count of unread submissions"},{heading:"analytics",content:'Track and query page view and click data. All queries accept an optional { period: "7d" | "30d" | "90d" } parameter.'},{heading:"analytics",content:"Procedure"},{heading:"analytics",content:"Type"},{heading:"analytics",content:"Auth"},{heading:"analytics",content:"Description"},{heading:"analytics",content:"analytics.overview"},{heading:"analytics",content:"Query"},{heading:"analytics",content:"Protected"},{heading:"analytics",content:"Returns { totalViews, totalClicks } for period"},{heading:"analytics",content:"analytics.viewsOverTime"},{heading:"analytics",content:"Query"},{heading:"analytics",content:"Protected"},{heading:"analytics",content:"Returns [{ date, count }] grouped by day"},{heading:"analytics",content:"analytics.clicksOverTime"},{heading:"analytics",content:"Query"},{heading:"analytics",content:"Protected"},{heading:"analytics",content:"Returns [{ date, count }] grouped by day"},{heading:"analytics",content:"analytics.topLinks"},{heading:"analytics",content:"Query"},{heading:"analytics",content:"Protected"},{heading:"analytics",content:"Top 10 links by click count"},{heading:"analytics",content:"analytics.referrers"},{heading:"analytics",content:"Query"},{heading:"analytics",content:"Protected"},{heading:"analytics",content:"Top 10 referrer domains"},{heading:"analytics",content:"analytics.countries"},{heading:"analytics",content:"Query"},{heading:"analytics",content:"Protected"},{heading:"analytics",content:"Top 20 countries by page view count"},{heading:"social",content:"Manage social network entries for use in Social Icons blocks."},{heading:"social",content:"Procedure"},{heading:"social",content:"Type"},{heading:"social",content:"Auth"},{heading:"social",content:"Description"},{heading:"social",content:"social.list"},{heading:"social",content:"Query"},{heading:"social",content:"Protected"},{heading:"social",content:"List all networks with optional activeOnly filter"},{heading:"social",content:"social.toggle"},{heading:"social",content:"Mutation"},{heading:"social",content:"Protected"},{heading:"social",content:"Set isActive true/false for a network by slug"},{heading:"wallet",content:"Manage Apple Wallet pass configuration."},{heading:"wallet",content:"Procedure"},{heading:"wallet",content:"Type"},{heading:"wallet",content:"Auth"},{heading:"wallet",content:"Description"},{heading:"wallet",content:"wallet.getConfig"},{heading:"wallet",content:"Query"},{heading:"wallet",content:"Protected"},{heading:"wallet",content:"Get wallet settings"},{heading:"wallet",content:"wallet.updateConfig"},{heading:"wallet",content:"Mutation"},{heading:"wallet",content:"Protected"},{heading:"wallet",content:"Update wallet settings"},{heading:"wallet",content:"wallet.generatePreview"},{heading:"wallet",content:"Query"},{heading:"wallet",content:"Protected"},{heading:"wallet",content:"Returns profile + enabled blocks + QR URL for pass preview"},{heading:"vcard",content:"Manage and generate vCard contact files."},{heading:"vcard",content:"Procedure"},{heading:"vcard",content:"Type"},{heading:"vcard",content:"Auth"},{heading:"vcard",content:"Description"},{heading:"vcard",content:"vcard.getConfig"},{heading:"vcard",content:"Query"},{heading:"vcard",content:"Protected"},{heading:"vcard",content:"Get { enabled, data }"},{heading:"vcard",content:"vcard.updateConfig"},{heading:"vcard",content:"Mutation"},{heading:"vcard",content:"Protected"},{heading:"vcard",content:"Update enabled flag and/or vCard data fields"},{heading:"vcard",content:"vcard.preview"},{heading:"vcard",content:"Query"},{heading:"vcard",content:"Protected"},{heading:"vcard",content:"Returns generated .vcf string"},{heading:"vcard-data-fields",content:"fullName, nickname, birthday, photo, org, title, department, workEmail, workPhone, email, phone, address, urls (array of { label, url })."},{heading:"backup",content:"Import and export all data."},{heading:"backup",content:"Procedure"},{heading:"backup",content:"Type"},{heading:"backup",content:"Auth"},{heading:"backup",content:"Description"},{heading:"backup",content:"backup.export"},{heading:"backup",content:"Query"},{heading:"backup",content:"Protected"},{heading:"backup",content:"Export all data as JSON"},{heading:"backup",content:"backup.import"},{heading:"backup",content:"Mutation"},{heading:"backup",content:"Protected"},{heading:"backup",content:'Import data with mode: "merge" or "replace"'},{heading:"version",content:"Procedure"},{heading:"version",content:"Type"},{heading:"version",content:"Auth"},{heading:"version",content:"Description"},{heading:"version",content:"version.current"},{heading:"version",content:"Query"},{heading:"version",content:"Public"},{heading:"version",content:"Returns { version }"},{heading:"version",content:"version.checkUpdate"},{heading:"version",content:"Query"},{heading:"version",content:"Public"},{heading:"version",content:"Returns { current, latest, hasUpdate, releaseUrl, changelog }"},{heading:"public",content:"Public-facing endpoints (no authentication)."},{heading:"public",content:"Procedure"},{heading:"public",content:"Type"},{heading:"public",content:"Description"},{heading:"public",content:"public.getPage"},{heading:"public",content:"Query"},{heading:"public",content:"Full page data: profile, schedule-filtered blocks, theme, settings"},{heading:"public",content:"public.submitContact"},{heading:"public",content:"Mutation"},{heading:"public",content:"Submit contact form; validates CAPTCHA if configured"},{heading:"public",content:"public.trackView"},{heading:"public",content:"Mutation"},{heading:"public",content:"Record page view with referrer, userAgent, country"},{heading:"public",content:"public.trackClick"},{heading:"public",content:"Mutation"},{heading:"public",content:"Record link click with blockId, referrer, userAgent, country"},{heading:"public",content:"public.getVCard"},{heading:"public",content:"Query"},{heading:"public",content:"Returns VCard string if vcard is enabled"},{heading:"public",content:"public.getSetupStatus"},{heading:"public",content:"Query"},{heading:"public",content:"Returns { completed: boolean }"},{heading:"making-api-calls",content:"The tRPC client is configured in the Next.js app:"},{heading:"error-handling",content:"tRPC errors include:"},{heading:"error-handling",content:"UNAUTHORIZED -- Missing or invalid session."},{heading:"error-handling",content:"NOT_FOUND -- Resource does not exist."},{heading:"error-handling",content:"BAD_REQUEST -- Invalid input (validated by Zod schemas from packages/validators)."},{heading:"error-handling",content:"INTERNAL_SERVER_ERROR -- Unexpected server error."},{heading:"error-handling",content:"All input is validated using shared Zod schemas from the packages/validators package, ensuring consistent validation between frontend forms and API endpoints."}],headings:[{id:"api-reference",content:"API Reference"},{id:"architecture",content:"Architecture"},{id:"authentication",content:"Authentication"},{id:"session-flow",content:"Session Flow"},{id:"cookie-configuration",content:"Cookie Configuration"},{id:"environment-variables",content:"Environment Variables"},{id:"troubleshooting-auth",content:"Troubleshooting Auth"},{id:"endpoint-reference",content:"Endpoint Reference"},{id:"blocks",content:"Blocks"},{id:"block-types",content:"Block Types"},{id:"block-fields",content:"Block Fields"},{id:"settings",content:"Settings"},{id:"common-settings-keys",content:"Common Settings Keys"},{id:"contacts",content:"Contacts"},{id:"analytics",content:"Analytics"},{id:"social",content:"Social"},{id:"wallet",content:"Wallet"},{id:"vcard",content:"vCard"},{id:"vcard-data-fields",content:"vCard Data Fields"},{id:"backup",content:"Backup"},{id:"version",content:"Version"},{id:"public",content:"Public"},{id:"making-api-calls",content:"Making API Calls"},{id:"error-handling",content:"Error Handling"}]},e=[{depth:1,url:"#api-reference",title:(0,b.jsx)(b.Fragment,{children:"API Reference"})},{depth:2,url:"#architecture",title:(0,b.jsx)(b.Fragment,{children:"Architecture"})},{depth:2,url:"#authentication",title:(0,b.jsx)(b.Fragment,{children:"Authentication"})},{depth:3,url:"#session-flow",title:(0,b.jsx)(b.Fragment,{children:"Session Flow"})},{depth:3,url:"#cookie-configuration",title:(0,b.jsx)(b.Fragment,{children:"Cookie Configuration"})},{depth:3,url:"#environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Environment Variables"})},{depth:3,url:"#troubleshooting-auth",title:(0,b.jsx)(b.Fragment,{children:"Troubleshooting Auth"})},{depth:2,url:"#endpoint-reference",title:(0,b.jsx)(b.Fragment,{children:"Endpoint Reference"})},{depth:3,url:"#blocks",title:(0,b.jsx)(b.Fragment,{children:"Blocks"})},{depth:4,url:"#block-types",title:(0,b.jsx)(b.Fragment,{children:"Block Types"})},{depth:4,url:"#block-fields",title:(0,b.jsx)(b.Fragment,{children:"Block Fields"})},{depth:3,url:"#settings",title:(0,b.jsx)(b.Fragment,{children:"Settings"})},{depth:4,url:"#common-settings-keys",title:(0,b.jsx)(b.Fragment,{children:"Common Settings Keys"})},{depth:3,url:"#contacts",title:(0,b.jsx)(b.Fragment,{children:"Contacts"})},{depth:3,url:"#analytics",title:(0,b.jsx)(b.Fragment,{children:"Analytics"})},{depth:3,url:"#social",title:(0,b.jsx)(b.Fragment,{children:"Social"})},{depth:3,url:"#wallet",title:(0,b.jsx)(b.Fragment,{children:"Wallet"})},{depth:3,url:"#vcard",title:(0,b.jsx)(b.Fragment,{children:"vCard"})},{depth:4,url:"#vcard-data-fields",title:(0,b.jsx)(b.Fragment,{children:"vCard Data Fields"})},{depth:3,url:"#backup",title:(0,b.jsx)(b.Fragment,{children:"Backup"})},{depth:3,url:"#version",title:(0,b.jsx)(b.Fragment,{children:"Version"})},{depth:3,url:"#public",title:(0,b.jsx)(b.Fragment,{children:"Public"})},{depth:2,url:"#making-api-calls",title:(0,b.jsx)(b.Fragment,{children:"Making API Calls"})},{depth:2,url:"#error-handling",title:(0,b.jsx)(b.Fragment,{children:"Error Handling"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"api-reference",children:"API Reference"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen's API is built with ",(0,b.jsx)(c.a,{href:"https://trpc.io/",children:"tRPC"})," v11 on top of ",(0,b.jsx)(c.a,{href:"https://hono.dev/",children:"Hono"}),", running on Cloudflare Workers."]}),"\n",(0,b.jsx)(c.h2,{id:"architecture",children:"Architecture"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Next.js Frontend (apps/web)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       | tRPC Client (HTTP requests)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       v"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Hono Server (apps/server)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |-- Better Auth (session validation)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |-- tRPC Router (packages/api)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       v"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Drizzle ORM (packages/db)"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       | SQL queries"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       |"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"       v"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Cloudflare D1 (SQLite)"})})]})})}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Hono"})," -- Ultra-lightweight web framework for edge runtimes. Handles routing, middleware, and request/response processing with zero cold start on Cloudflare Workers."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"tRPC v11"})," -- End-to-end type safety without code generation. Router definitions live in ",(0,b.jsx)(c.code,{children:"packages/api"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Better Auth"})," -- Email/password authentication. Session cookies are validated on protected procedures."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Drizzle ORM"})," -- Type-safe SQL query builder for Cloudflare D1. Schema in ",(0,b.jsx)(c.code,{children:"packages/db/src/schema/"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"authentication",children:"Authentication"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen uses ",(0,b.jsx)(c.a,{href:"https://www.better-auth.com/",children:"Better Auth"})," with email/password sign-in."]}),"\n",(0,b.jsx)(c.h3,{id:"session-flow",children:"Session Flow"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["During first-time setup at ",(0,b.jsx)(c.code,{children:"/admin/setup"}),", you create an admin account."]}),"\n",(0,b.jsx)(c.li,{children:"Better Auth creates a session with secure cookies."}),"\n",(0,b.jsxs)(c.li,{children:["For subsequent visits, sign in at ",(0,b.jsx)(c.code,{children:"/admin/login"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"The session cookie is sent with all API requests to authenticate protected routes."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"cookie-configuration",children:"Cookie Configuration"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Attribute"}),(0,b.jsx)(c.th,{children:"Value"}),(0,b.jsx)(c.th,{children:"Reason"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"sameSite"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"none"})}),(0,b.jsx)(c.td,{children:"Required for cross-origin requests"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"secure"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"true"})}),(0,b.jsxs)(c.td,{children:["Required when ",(0,b.jsx)(c.code,{children:"sameSite"})," is ",(0,b.jsx)(c.code,{children:"none"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"httpOnly"})}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"true"})}),(0,b.jsx)(c.td,{children:"Prevents JavaScript access to session cookie"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsx)(c.td,{children:"Secret key for session signing"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsx)(c.td,{children:"Base URL for the auth server (API server URL)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsx)(c.td,{children:"Trusted origin for the frontend"})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["Generate a secret with: ",(0,b.jsx)(c.code,{children:"openssl rand -base64 32"})]}),"\n",(0,b.jsx)(c.h3,{id:"troubleshooting-auth",children:"Troubleshooting Auth"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"401 Unauthorized"})," -- Check ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})," is set and consistent. Verify ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," matches the frontend URL exactly."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Cannot create account"})," -- Use the setup wizard at ",(0,b.jsx)(c.code,{children:"/admin/setup"})," for the initial account."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"CORS errors"})," -- ",(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," must match the frontend URL including protocol, no trailing slash."]}),"\n"]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"endpoint-reference",children:"Endpoint Reference"}),"\n",(0,b.jsxs)(c.p,{children:["All endpoints are available at ",(0,b.jsx)(c.code,{children:"/trpc/<router>.<procedure>"}),". Public procedures require no authentication. Protected procedures require a valid Better Auth session cookie."]}),"\n",(0,b.jsx)(c.h3,{id:"blocks",children:"Blocks"}),"\n",(0,b.jsx)(c.p,{children:"Manage content blocks on your page."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.list"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Get all blocks ordered by position"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.get"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Get a single block by ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.create"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Create a new block with client-generated ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.update"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Update block fields by ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.delete"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Delete a block by ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.reorder"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Batch update block positions"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"blocks.toggleEnabled"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Toggle ",(0,b.jsx)(c.code,{children:"isEnabled"})," field"]})]})]})]}),"\n",(0,b.jsx)(c.h4,{id:"block-types",children:"Block Types"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"type"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" BlockType"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "link"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "header"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "social_icons"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "embed"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "contact_form"'})]})})})}),"\n",(0,b.jsx)(c.h4,{id:"block-fields",children:"Block Fields"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Field"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"id"})}),(0,b.jsx)(c.td,{children:"string"}),(0,b.jsx)(c.td,{children:"Unique block ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"type"})}),(0,b.jsx)(c.td,{children:"BlockType"}),(0,b.jsx)(c.td,{children:"Block type"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"title"})}),(0,b.jsx)(c.td,{children:"string"}),(0,b.jsx)(c.td,{children:"Display title"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"url"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"Destination URL (link blocks)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"icon"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"Icon identifier"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"embedType"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"Embed provider"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"embedUrl"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"Embed source URL"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"socialIcons"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"JSON string of social icon data"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"isEnabled"})}),(0,b.jsx)(c.td,{children:"boolean"}),(0,b.jsx)(c.td,{children:"Visibility on public page"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"position"})}),(0,b.jsx)(c.td,{children:"number"}),(0,b.jsx)(c.td,{children:"Display order"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"scheduledStart"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"ISO datetime for scheduled visibility start"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"scheduledEnd"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"ISO datetime for scheduled visibility end"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"config"})}),(0,b.jsx)(c.td,{children:"string?"}),(0,b.jsx)(c.td,{children:"JSON string of block configuration"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"settings",children:"Settings"}),"\n",(0,b.jsx)(c.p,{children:"Manage site-wide key-value configuration."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"settings.get"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Get a single setting by key"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"settings.getAll"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Get all settings as key-value map"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"settings.update"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Upsert a single key-value pair"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"settings.updateBulk"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Upsert an array of key-value pairs"})]})]})]}),"\n",(0,b.jsx)(c.h4,{id:"common-settings-keys",children:"Common Settings Keys"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Key"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"profile_name"})}),(0,b.jsx)(c.td,{children:"Display name"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"bio"})}),(0,b.jsx)(c.td,{children:"Bio text"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"avatar_url"})}),(0,b.jsx)(c.td,{children:"Avatar image URL"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"verified_badge"})}),(0,b.jsx)(c.td,{children:"Show verified checkmark"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"theme_preset"})}),(0,b.jsx)(c.td,{children:"Theme ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"seo_title"})}),(0,b.jsx)(c.td,{children:"Page title"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"seo_description"})}),(0,b.jsx)(c.td,{children:"Meta description"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"seo_og_image"})}),(0,b.jsx)(c.td,{children:"Open Graph image URL"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contact_form_enabled"})}),(0,b.jsx)(c.td,{children:"Contact form toggle"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contact_delivery"})}),(0,b.jsx)(c.td,{children:"Delivery mode"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"captcha_provider"})}),(0,b.jsx)(c.td,{children:"CAPTCHA mode"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"branding_enabled"})}),(0,b.jsx)(c.td,{children:"Whitelabel footer toggle"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"branding_text"})}),(0,b.jsx)(c.td,{children:"Custom footer text"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"branding_link"})}),(0,b.jsx)(c.td,{children:"Custom footer link"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"vcard_enabled"})}),(0,b.jsx)(c.td,{children:"vCard download toggle"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet_enabled"})}),(0,b.jsx)(c.td,{children:"Apple Wallet toggle"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"setup_completed"})}),(0,b.jsx)(c.td,{children:"Setup wizard completion flag"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"contacts",children:"Contacts"}),"\n",(0,b.jsx)(c.p,{children:"Handle contact form submissions."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contacts.list"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["List submissions with optional ",(0,b.jsx)(c.code,{children:"isRead"})," filter, limit/offset pagination"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contacts.get"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Get a single submission by ID"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contacts.markRead"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Mark submission as read"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contacts.markUnread"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Mark submission as unread"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contacts.delete"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Delete a submission"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"contacts.unreadCount"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Count of unread submissions"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"analytics",children:"Analytics"}),"\n",(0,b.jsxs)(c.p,{children:["Track and query page view and click data. All queries accept an optional ",(0,b.jsx)(c.code,{children:'{ period: "7d" | "30d" | "90d" }'})," parameter."]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"analytics.overview"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Returns ",(0,b.jsx)(c.code,{children:"{ totalViews, totalClicks }"})," for period"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"analytics.viewsOverTime"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Returns ",(0,b.jsx)(c.code,{children:"[{ date, count }]"})," grouped by day"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"analytics.clicksOverTime"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Returns ",(0,b.jsx)(c.code,{children:"[{ date, count }]"})," grouped by day"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"analytics.topLinks"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Top 10 links by click count"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"analytics.referrers"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Top 10 referrer domains"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"analytics.countries"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Top 20 countries by page view count"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"social",children:"Social"}),"\n",(0,b.jsx)(c.p,{children:"Manage social network entries for use in Social Icons blocks."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"social.list"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["List all networks with optional ",(0,b.jsx)(c.code,{children:"activeOnly"})," filter"]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"social.toggle"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Set ",(0,b.jsx)(c.code,{children:"isActive"})," true/false for a network by slug"]})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"wallet",children:"Wallet"}),"\n",(0,b.jsx)(c.p,{children:"Manage Apple Wallet pass configuration."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet.getConfig"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Get wallet settings"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet.updateConfig"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Update wallet settings"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet.generatePreview"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Returns profile + enabled blocks + QR URL for pass preview"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"vcard",children:"vCard"}),"\n",(0,b.jsx)(c.p,{children:"Manage and generate vCard contact files."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"vcard.getConfig"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Get ",(0,b.jsx)(c.code,{children:"{ enabled, data }"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"vcard.updateConfig"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Update enabled flag and/or vCard data fields"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"vcard.preview"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Returns generated ",(0,b.jsx)(c.code,{children:".vcf"})," string"]})]})]})]}),"\n",(0,b.jsx)(c.h4,{id:"vcard-data-fields",children:"vCard Data Fields"}),"\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.code,{children:"fullName"}),", ",(0,b.jsx)(c.code,{children:"nickname"}),", ",(0,b.jsx)(c.code,{children:"birthday"}),", ",(0,b.jsx)(c.code,{children:"photo"}),", ",(0,b.jsx)(c.code,{children:"org"}),", ",(0,b.jsx)(c.code,{children:"title"}),", ",(0,b.jsx)(c.code,{children:"department"}),", ",(0,b.jsx)(c.code,{children:"workEmail"}),", ",(0,b.jsx)(c.code,{children:"workPhone"}),", ",(0,b.jsx)(c.code,{children:"email"}),", ",(0,b.jsx)(c.code,{children:"phone"}),", ",(0,b.jsx)(c.code,{children:"address"}),", ",(0,b.jsx)(c.code,{children:"urls"})," (array of ",(0,b.jsx)(c.code,{children:"{ label, url }"}),")."]}),"\n",(0,b.jsx)(c.h3,{id:"backup",children:"Backup"}),"\n",(0,b.jsx)(c.p,{children:"Import and export all data."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"backup.export"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsx)(c.td,{children:"Export all data as JSON"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"backup.import"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Protected"}),(0,b.jsxs)(c.td,{children:["Import data with ",(0,b.jsx)(c.code,{children:'mode: "merge"'})," or ",(0,b.jsx)(c.code,{children:'"replace"'})]})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"version",children:"Version"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Auth"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"version.current"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Public"}),(0,b.jsxs)(c.td,{children:["Returns ",(0,b.jsx)(c.code,{children:"{ version }"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"version.checkUpdate"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Public"}),(0,b.jsxs)(c.td,{children:["Returns ",(0,b.jsx)(c.code,{children:"{ current, latest, hasUpdate, releaseUrl, changelog }"})]})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"public",children:"Public"}),"\n",(0,b.jsx)(c.p,{children:"Public-facing endpoints (no authentication)."}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"public.getPage"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Full page data: profile, schedule-filtered blocks, theme, settings"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"public.submitContact"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Submit contact form; validates CAPTCHA if configured"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"public.trackView"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Record page view with referrer, userAgent, country"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"public.trackClick"})}),(0,b.jsx)(c.td,{children:"Mutation"}),(0,b.jsx)(c.td,{children:"Record link click with blockId, referrer, userAgent, country"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"public.getVCard"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsx)(c.td,{children:"Returns VCard string if vcard is enabled"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"public.getSetupStatus"})}),(0,b.jsx)(c.td,{children:"Query"}),(0,b.jsxs)(c.td,{children:["Returns ",(0,b.jsx)(c.code,{children:"{ completed: boolean }"})]})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"making-api-calls",children:"Making API Calls"}),"\n",(0,b.jsx)(c.p,{children:"The tRPC client is configured in the Next.js app:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { trpc } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@/utils/trpc"'}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// In a React component"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"data"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" trpc.public.getPage."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"useQuery"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"();"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"data"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"blocks"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" trpc.blocks.list."}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"useQuery"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"();"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,b.jsx)(c.p,{children:"tRPC errors include:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"UNAUTHORIZED"})," -- Missing or invalid session."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"NOT_FOUND"})," -- Resource does not exist."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"BAD_REQUEST"})," -- Invalid input (validated by Zod schemas from ",(0,b.jsx)(c.code,{children:"packages/validators"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"INTERNAL_SERVER_ERROR"})," -- Unexpected server error."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["All input is validated using shared Zod schemas from the ",(0,b.jsx)(c.code,{children:"packages/validators"})," package, ensuring consistent validation between frontend forms and API endpoints."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nAPI Reference [#api-reference]\n\nLinkDen\'s API is built with [tRPC](https://trpc.io/) v11 on top of [Hono](https://hono.dev/), running on Cloudflare Workers.\n\nArchitecture [#architecture]\n\n```\nNext.js Frontend (apps/web)\n       |\n       | tRPC Client (HTTP requests)\n       |\n       v\nHono Server (apps/server)\n       |\n       |-- Better Auth (session validation)\n       |-- tRPC Router (packages/api)\n       |\n       v\nDrizzle ORM (packages/db)\n       |\n       | SQL queries\n       |\n       v\nCloudflare D1 (SQLite)\n```\n\n* **Hono** -- Ultra-lightweight web framework for edge runtimes. Handles routing, middleware, and request/response processing with zero cold start on Cloudflare Workers.\n* **tRPC v11** -- End-to-end type safety without code generation. Router definitions live in `packages/api`.\n* **Better Auth** -- Email/password authentication. Session cookies are validated on protected procedures.\n* **Drizzle ORM** -- Type-safe SQL query builder for Cloudflare D1. Schema in `packages/db/src/schema/`.\n\nAuthentication [#authentication]\n\nLinkDen uses [Better Auth](https://www.better-auth.com/) with email/password sign-in.\n\nSession Flow [#session-flow]\n\n1. During first-time setup at `/admin/setup`, you create an admin account.\n2. Better Auth creates a session with secure cookies.\n3. For subsequent visits, sign in at `/admin/login`.\n4. The session cookie is sent with all API requests to authenticate protected routes.\n\nCookie Configuration [#cookie-configuration]\n\n| Attribute  | Value  | Reason                                       |\n| ---------- | ------ | -------------------------------------------- |\n| `sameSite` | `none` | Required for cross-origin requests           |\n| `secure`   | `true` | Required when `sameSite` is `none`           |\n| `httpOnly` | `true` | Prevents JavaScript access to session cookie |\n\nEnvironment Variables [#environment-variables]\n\n| Variable             | Description                                   |\n| -------------------- | --------------------------------------------- |\n| `BETTER_AUTH_SECRET` | Secret key for session signing                |\n| `BETTER_AUTH_URL`    | Base URL for the auth server (API server URL) |\n| `CORS_ORIGIN`        | Trusted origin for the frontend               |\n\nGenerate a secret with: `openssl rand -base64 32`\n\nTroubleshooting Auth [#troubleshooting-auth]\n\n* **401 Unauthorized** -- Check `BETTER_AUTH_SECRET` is set and consistent. Verify `CORS_ORIGIN` matches the frontend URL exactly.\n* **Cannot create account** -- Use the setup wizard at `/admin/setup` for the initial account.\n* **CORS errors** -- `CORS_ORIGIN` must match the frontend URL including protocol, no trailing slash.\n\n***\n\nEndpoint Reference [#endpoint-reference]\n\nAll endpoints are available at `/trpc/<router>.<procedure>`. Public procedures require no authentication. Protected procedures require a valid Better Auth session cookie.\n\nBlocks [#blocks]\n\nManage content blocks on your page.\n\n| Procedure              | Type     | Auth      | Description                                 |\n| ---------------------- | -------- | --------- | ------------------------------------------- |\n| `blocks.list`          | Query    | Protected | Get all blocks ordered by position          |\n| `blocks.get`           | Query    | Protected | Get a single block by ID                    |\n| `blocks.create`        | Mutation | Protected | Create a new block with client-generated ID |\n| `blocks.update`        | Mutation | Protected | Update block fields by ID                   |\n| `blocks.delete`        | Mutation | Protected | Delete a block by ID                        |\n| `blocks.reorder`       | Mutation | Protected | Batch update block positions                |\n| `blocks.toggleEnabled` | Mutation | Protected | Toggle `isEnabled` field                    |\n\nBlock Types [#block-types]\n\n```typescript\ntype BlockType = "link" | "header" | "social_icons" | "embed" | "contact_form"\n```\n\nBlock Fields [#block-fields]\n\n| Field            | Type      | Description                                 |\n| ---------------- | --------- | ------------------------------------------- |\n| `id`             | string    | Unique block ID                             |\n| `type`           | BlockType | Block type                                  |\n| `title`          | string    | Display title                               |\n| `url`            | string?   | Destination URL (link blocks)               |\n| `icon`           | string?   | Icon identifier                             |\n| `embedType`      | string?   | Embed provider                              |\n| `embedUrl`       | string?   | Embed source URL                            |\n| `socialIcons`    | string?   | JSON string of social icon data             |\n| `isEnabled`      | boolean   | Visibility on public page                   |\n| `position`       | number    | Display order                               |\n| `scheduledStart` | string?   | ISO datetime for scheduled visibility start |\n| `scheduledEnd`   | string?   | ISO datetime for scheduled visibility end   |\n| `config`         | string?   | JSON string of block configuration          |\n\nSettings [#settings]\n\nManage site-wide key-value configuration.\n\n| Procedure             | Type     | Auth      | Description                        |\n| --------------------- | -------- | --------- | ---------------------------------- |\n| `settings.get`        | Query    | Protected | Get a single setting by key        |\n| `settings.getAll`     | Query    | Protected | Get all settings as key-value map  |\n| `settings.update`     | Mutation | Protected | Upsert a single key-value pair     |\n| `settings.updateBulk` | Mutation | Protected | Upsert an array of key-value pairs |\n\nCommon Settings Keys [#common-settings-keys]\n\n| Key                    | Description                  |\n| ---------------------- | ---------------------------- |\n| `profile_name`         | Display name                 |\n| `bio`                  | Bio text                     |\n| `avatar_url`           | Avatar image URL             |\n| `verified_badge`       | Show verified checkmark      |\n| `theme_preset`         | Theme ID                     |\n| `seo_title`            | Page title                   |\n| `seo_description`      | Meta description             |\n| `seo_og_image`         | Open Graph image URL         |\n| `contact_form_enabled` | Contact form toggle          |\n| `contact_delivery`     | Delivery mode                |\n| `captcha_provider`     | CAPTCHA mode                 |\n| `branding_enabled`     | Whitelabel footer toggle     |\n| `branding_text`        | Custom footer text           |\n| `branding_link`        | Custom footer link           |\n| `vcard_enabled`        | vCard download toggle        |\n| `wallet_enabled`       | Apple Wallet toggle          |\n| `setup_completed`      | Setup wizard completion flag |\n\nContacts [#contacts]\n\nHandle contact form submissions.\n\n| Procedure              | Type     | Auth      | Description                                                             |\n| ---------------------- | -------- | --------- | ----------------------------------------------------------------------- |\n| `contacts.list`        | Query    | Protected | List submissions with optional `isRead` filter, limit/offset pagination |\n| `contacts.get`         | Query    | Protected | Get a single submission by ID                                           |\n| `contacts.markRead`    | Mutation | Protected | Mark submission as read                                                 |\n| `contacts.markUnread`  | Mutation | Protected | Mark submission as unread                                               |\n| `contacts.delete`      | Mutation | Protected | Delete a submission                                                     |\n| `contacts.unreadCount` | Query    | Protected | Count of unread submissions                                             |\n\nAnalytics [#analytics]\n\nTrack and query page view and click data. All queries accept an optional `{ period: "7d" | "30d" | "90d" }` parameter.\n\n| Procedure                  | Type  | Auth      | Description                                      |\n| -------------------------- | ----- | --------- | ------------------------------------------------ |\n| `analytics.overview`       | Query | Protected | Returns `{ totalViews, totalClicks }` for period |\n| `analytics.viewsOverTime`  | Query | Protected | Returns `[{ date, count }]` grouped by day       |\n| `analytics.clicksOverTime` | Query | Protected | Returns `[{ date, count }]` grouped by day       |\n| `analytics.topLinks`       | Query | Protected | Top 10 links by click count                      |\n| `analytics.referrers`      | Query | Protected | Top 10 referrer domains                          |\n| `analytics.countries`      | Query | Protected | Top 20 countries by page view count              |\n\nSocial [#social]\n\nManage social network entries for use in Social Icons blocks.\n\n| Procedure       | Type     | Auth      | Description                                         |\n| --------------- | -------- | --------- | --------------------------------------------------- |\n| `social.list`   | Query    | Protected | List all networks with optional `activeOnly` filter |\n| `social.toggle` | Mutation | Protected | Set `isActive` true/false for a network by slug     |\n\nWallet [#wallet]\n\nManage Apple Wallet pass configuration.\n\n| Procedure                | Type     | Auth      | Description                                                |\n| ------------------------ | -------- | --------- | ---------------------------------------------------------- |\n| `wallet.getConfig`       | Query    | Protected | Get wallet settings                                        |\n| `wallet.updateConfig`    | Mutation | Protected | Update wallet settings                                     |\n| `wallet.generatePreview` | Query    | Protected | Returns profile + enabled blocks + QR URL for pass preview |\n\nvCard [#vcard]\n\nManage and generate vCard contact files.\n\n| Procedure            | Type     | Auth      | Description                                  |\n| -------------------- | -------- | --------- | -------------------------------------------- |\n| `vcard.getConfig`    | Query    | Protected | Get `{ enabled, data }`                      |\n| `vcard.updateConfig` | Mutation | Protected | Update enabled flag and/or vCard data fields |\n| `vcard.preview`      | Query    | Protected | Returns generated `.vcf` string              |\n\nvCard Data Fields [#vcard-data-fields]\n\n`fullName`, `nickname`, `birthday`, `photo`, `org`, `title`, `department`, `workEmail`, `workPhone`, `email`, `phone`, `address`, `urls` (array of `{ label, url }`).\n\nBackup [#backup]\n\nImport and export all data.\n\n| Procedure       | Type     | Auth      | Description                                     |\n| --------------- | -------- | --------- | ----------------------------------------------- |\n| `backup.export` | Query    | Protected | Export all data as JSON                         |\n| `backup.import` | Mutation | Protected | Import data with `mode: "merge"` or `"replace"` |\n\nVersion [#version]\n\n| Procedure             | Type  | Auth   | Description                                                     |\n| --------------------- | ----- | ------ | --------------------------------------------------------------- |\n| `version.current`     | Query | Public | Returns `{ version }`                                           |\n| `version.checkUpdate` | Query | Public | Returns `{ current, latest, hasUpdate, releaseUrl, changelog }` |\n\nPublic [#public]\n\nPublic-facing endpoints (no authentication).\n\n| Procedure               | Type     | Description                                                        |\n| ----------------------- | -------- | ------------------------------------------------------------------ |\n| `public.getPage`        | Query    | Full page data: profile, schedule-filtered blocks, theme, settings |\n| `public.submitContact`  | Mutation | Submit contact form; validates CAPTCHA if configured               |\n| `public.trackView`      | Mutation | Record page view with referrer, userAgent, country                 |\n| `public.trackClick`     | Mutation | Record link click with blockId, referrer, userAgent, country       |\n| `public.getVCard`       | Query    | Returns VCard string if vcard is enabled                           |\n| `public.getSetupStatus` | Query    | Returns `{ completed: boolean }`                                   |\n\nMaking API Calls [#making-api-calls]\n\nThe tRPC client is configured in the Next.js app:\n\n```typescript\nimport { trpc } from "@/utils/trpc";\n\n// In a React component\nconst { data } = trpc.public.getPage.useQuery();\nconst { data: blocks } = trpc.blocks.list.useQuery();\n```\n\nError Handling [#error-handling]\n\ntRPC errors include:\n\n* `UNAUTHORIZED` -- Missing or invalid session.\n* `NOT_FOUND` -- Resource does not exist.\n* `BAD_REQUEST` -- Invalid input (validated by Zod schemas from `packages/validators`).\n* `INTERNAL_SERVER_ERROR` -- Unexpected server error.\n\nAll input is validated using shared Zod schemas from the `packages/validators` package, ensuring consistent validation between frontend forms and API endpoints.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},17534,a=>{"use strict";var b=a.i(69819);let c={title:"vCard",description:"Set up a downloadable digital business card (vCard) for your visitors."},d={contents:[{heading:"vcard",content:"LinkDen lets you create a digital business card that visitors can download as a .vcf file. The vCard is compatible with all major contact apps on iOS, Android, macOS, and Windows."},{heading:"enabling-vcard",content:"Toggle the vCard download button in /admin/settings under the vCard section. When enabled, a download button appears on your public page."},{heading:"configuring-vcard-data",content:"The vCard data is managed through the vcard.updateConfig API. Available fields:"},{heading:"personal-information",content:"Full Name -- Your name as it should appear in contacts."},{heading:"personal-information",content:"Nickname -- An optional alternative name or handle."},{heading:"personal-information",content:"Birthday -- Optional birthday field."},{heading:"personal-information",content:"Photo -- Profile photo URL."},{heading:"professional-information",content:"Organization -- Your company or organization name."},{heading:"professional-information",content:"Title -- Your role or position."},{heading:"professional-information",content:"Department -- Optional department within the organization."},{heading:"contact-details",content:"Email -- Personal email address."},{heading:"contact-details",content:"Work Email -- Work email address."},{heading:"contact-details",content:"Phone -- Personal phone number."},{heading:"contact-details",content:"Work Phone -- Work phone number."},{heading:"address",content:"Full address field for your contact information."},{heading:"urls",content:"An array of { label, url } entries for linking to websites, social profiles, or any other URLs."},{heading:"vcard-format",content:"LinkDen generates vCard 3.0 format files, which have the widest compatibility across devices and applications. The generated file includes all fields you have filled in and omits empty fields."},{heading:"preview",content:"You can preview the generated .vcf output using the vcard.preview API procedure, which returns the raw VCard string."}],headings:[{id:"vcard",content:"vCard"},{id:"enabling-vcard",content:"Enabling vCard"},{id:"configuring-vcard-data",content:"Configuring vCard Data"},{id:"personal-information",content:"Personal Information"},{id:"professional-information",content:"Professional Information"},{id:"contact-details",content:"Contact Details"},{id:"address",content:"Address"},{id:"urls",content:"URLs"},{id:"vcard-format",content:"vCard Format"},{id:"preview",content:"Preview"}]},e=[{depth:1,url:"#vcard",title:(0,b.jsx)(b.Fragment,{children:"vCard"})},{depth:2,url:"#enabling-vcard",title:(0,b.jsx)(b.Fragment,{children:"Enabling vCard"})},{depth:2,url:"#configuring-vcard-data",title:(0,b.jsx)(b.Fragment,{children:"Configuring vCard Data"})},{depth:3,url:"#personal-information",title:(0,b.jsx)(b.Fragment,{children:"Personal Information"})},{depth:3,url:"#professional-information",title:(0,b.jsx)(b.Fragment,{children:"Professional Information"})},{depth:3,url:"#contact-details",title:(0,b.jsx)(b.Fragment,{children:"Contact Details"})},{depth:3,url:"#address",title:(0,b.jsx)(b.Fragment,{children:"Address"})},{depth:3,url:"#urls",title:(0,b.jsx)(b.Fragment,{children:"URLs"})},{depth:2,url:"#vcard-format",title:(0,b.jsx)(b.Fragment,{children:"vCard Format"})},{depth:2,url:"#preview",title:(0,b.jsx)(b.Fragment,{children:"Preview"})}];function f(a){let c={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"vcard",children:"vCard"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen lets you create a digital business card that visitors can download as a ",(0,b.jsx)(c.code,{children:".vcf"})," file. The vCard is compatible with all major contact apps on iOS, Android, macOS, and Windows."]}),"\n",(0,b.jsx)(c.h2,{id:"enabling-vcard",children:"Enabling vCard"}),"\n",(0,b.jsxs)(c.p,{children:["Toggle the vCard download button in ",(0,b.jsx)(c.code,{children:"/admin/settings"})," under the ",(0,b.jsx)(c.strong,{children:"vCard"})," section. When enabled, a download button appears on your public page."]}),"\n",(0,b.jsx)(c.h2,{id:"configuring-vcard-data",children:"Configuring vCard Data"}),"\n",(0,b.jsxs)(c.p,{children:["The vCard data is managed through the ",(0,b.jsx)(c.code,{children:"vcard.updateConfig"})," API. Available fields:"]}),"\n",(0,b.jsx)(c.h3,{id:"personal-information",children:"Personal Information"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Full Name"})," -- Your name as it should appear in contacts."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Nickname"})," -- An optional alternative name or handle."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Birthday"})," -- Optional birthday field."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Photo"})," -- Profile photo URL."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"professional-information",children:"Professional Information"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Organization"})," -- Your company or organization name."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Title"})," -- Your role or position."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Department"})," -- Optional department within the organization."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"contact-details",children:"Contact Details"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Email"})," -- Personal email address."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Work Email"})," -- Work email address."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Phone"})," -- Personal phone number."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Work Phone"})," -- Work phone number."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"address",children:"Address"}),"\n",(0,b.jsx)(c.p,{children:"Full address field for your contact information."}),"\n",(0,b.jsx)(c.h3,{id:"urls",children:"URLs"}),"\n",(0,b.jsxs)(c.p,{children:["An array of ",(0,b.jsx)(c.code,{children:"{ label, url }"})," entries for linking to websites, social profiles, or any other URLs."]}),"\n",(0,b.jsx)(c.h2,{id:"vcard-format",children:"vCard Format"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen generates vCard 3.0 format files, which have the widest compatibility across devices and applications. The generated file includes all fields you have filled in and omits empty fields."}),"\n",(0,b.jsx)(c.h2,{id:"preview",children:"Preview"}),"\n",(0,b.jsxs)(c.p,{children:["You can preview the generated ",(0,b.jsx)(c.code,{children:".vcf"})," output using the ",(0,b.jsx)(c.code,{children:"vcard.preview"})," API procedure, which returns the raw VCard string."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nvCard [#vcard]\n\nLinkDen lets you create a digital business card that visitors can download as a `.vcf` file. The vCard is compatible with all major contact apps on iOS, Android, macOS, and Windows.\n\nEnabling vCard [#enabling-vcard]\n\nToggle the vCard download button in `/admin/settings` under the **vCard** section. When enabled, a download button appears on your public page.\n\nConfiguring vCard Data [#configuring-vcard-data]\n\nThe vCard data is managed through the `vcard.updateConfig` API. Available fields:\n\nPersonal Information [#personal-information]\n\n* **Full Name** -- Your name as it should appear in contacts.\n* **Nickname** -- An optional alternative name or handle.\n* **Birthday** -- Optional birthday field.\n* **Photo** -- Profile photo URL.\n\nProfessional Information [#professional-information]\n\n* **Organization** -- Your company or organization name.\n* **Title** -- Your role or position.\n* **Department** -- Optional department within the organization.\n\nContact Details [#contact-details]\n\n* **Email** -- Personal email address.\n* **Work Email** -- Work email address.\n* **Phone** -- Personal phone number.\n* **Work Phone** -- Work phone number.\n\nAddress [#address]\n\nFull address field for your contact information.\n\nURLs [#urls]\n\nAn array of `{ label, url }` entries for linking to websites, social profiles, or any other URLs.\n\nvCard Format [#vcard-format]\n\nLinkDen generates vCard 3.0 format files, which have the widest compatibility across devices and applications. The generated file includes all fields you have filled in and omits empty fields.\n\nPreview [#preview]\n\nYou can preview the generated `.vcf` output using the `vcard.preview` API procedure, which returns the raw VCard string.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},14527,a=>{"use strict";var b=a.i(69819);let c={title:"Social Networks",description:"Manage the 100+ social network icons available for Social Icons blocks."},d={contents:[{heading:"social-networks",content:"LinkDen includes 100+ predefined social network icons from Simple Icons. Social networks are managed separately from blocks at /admin/social."},{heading:"managing-social-networks",content:"Navigate to /admin/social to see all available social networks. The page lets you:"},{heading:"managing-social-networks",content:"Search networks by name or slug."},{heading:"managing-social-networks",content:"Filter to show all networks or only active ones."},{heading:"managing-social-networks",content:"Toggle networks on/off with a switch."},{heading:"managing-social-networks",content:"Active networks become available for use in Social Icons blocks."},{heading:"using-social-icons",content:"Once you've activated the networks you want:"},{heading:"using-social-icons",content:"Go to /admin/builder."},{heading:"using-social-icons",content:"Click Add Block and select Social Icons."},{heading:"using-social-icons",content:"The block automatically uses your active social networks."},{heading:"using-social-icons",content:"Configure the display options:"},{heading:"using-social-icons",content:"Option"},{heading:"using-social-icons",content:"Description"},{heading:"using-social-icons",content:"Icon size"},{heading:"using-social-icons",content:"Size of each social icon"},{heading:"using-social-icons",content:"Icon style"},{heading:"using-social-icons",content:"Filled, outlined, or rounded"},{heading:"using-social-icons",content:"Show labels"},{heading:"using-social-icons",content:"Display the network name below each icon"},{heading:"using-social-icons",content:"Spacing"},{heading:"using-social-icons",content:"Gap between icons"},{heading:"using-social-icons",content:"Use brand colors"},{heading:"using-social-icons",content:"Use each network's official brand color"},{heading:"available-networks",content:"LinkDen includes icons for all major platforms:"},{heading:"available-networks",content:"Social: Twitter/X, Instagram, Facebook, TikTok, Snapchat, Threads, Bluesky, Mastodon"},{heading:"available-networks",content:"Video: YouTube, Twitch, Vimeo"},{heading:"available-networks",content:"Music: Spotify, SoundCloud, Apple Music, Bandcamp"},{heading:"available-networks",content:"Development: GitHub, GitLab, Bitbucket, Stack Overflow, CodePen"},{heading:"available-networks",content:"Professional: LinkedIn, Dribbble, Behance"},{heading:"available-networks",content:"Messaging: Discord, Telegram, WhatsApp, Signal"},{heading:"available-networks",content:"Gaming: Steam, Epic Games, PlayStation, Xbox, Nintendo"},{heading:"available-networks",content:"Other: Reddit, Pinterest, Medium, Substack, Patreon, Ko-fi, Buy Me a Coffee, and many more"},{heading:"available-networks",content:"The full list is automatically updated from the Simple Icons library."},{heading:"icon-updates",content:"Social brand icons are sourced from the @linkden/ui package. The icon set is checked weekly via a GitHub Actions workflow that detects when new icons are available from Simple Icons."}],headings:[{id:"social-networks",content:"Social Networks"},{id:"managing-social-networks",content:"Managing Social Networks"},{id:"using-social-icons",content:"Using Social Icons"},{id:"available-networks",content:"Available Networks"},{id:"icon-updates",content:"Icon Updates"}]},e=[{depth:1,url:"#social-networks",title:(0,b.jsx)(b.Fragment,{children:"Social Networks"})},{depth:2,url:"#managing-social-networks",title:(0,b.jsx)(b.Fragment,{children:"Managing Social Networks"})},{depth:2,url:"#using-social-icons",title:(0,b.jsx)(b.Fragment,{children:"Using Social Icons"})},{depth:2,url:"#available-networks",title:(0,b.jsx)(b.Fragment,{children:"Available Networks"})},{depth:2,url:"#icon-updates",title:(0,b.jsx)(b.Fragment,{children:"Icon Updates"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"social-networks",children:"Social Networks"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen includes 100+ predefined social network icons from ",(0,b.jsx)(c.a,{href:"https://simpleicons.org/",children:"Simple Icons"}),". Social networks are managed separately from blocks at ",(0,b.jsx)(c.code,{children:"/admin/social"}),"."]}),"\n",(0,b.jsx)(c.h2,{id:"managing-social-networks",children:"Managing Social Networks"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/social"})," to see all available social networks. The page lets you:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Search"})," networks by name or slug."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Filter"})," to show all networks or only active ones."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Toggle"})," networks on/off with a switch."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Active networks become available for use in ",(0,b.jsx)(c.strong,{children:"Social Icons"})," blocks."]}),"\n",(0,b.jsx)(c.h2,{id:"using-social-icons",children:"Using Social Icons"}),"\n",(0,b.jsx)(c.p,{children:"Once you've activated the networks you want:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.code,{children:"/admin/builder"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add Block"})," and select ",(0,b.jsx)(c.strong,{children:"Social Icons"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"The block automatically uses your active social networks."}),"\n",(0,b.jsx)(c.li,{children:"Configure the display options:"}),"\n"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Option"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Icon size"}),(0,b.jsx)(c.td,{children:"Size of each social icon"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Icon style"}),(0,b.jsx)(c.td,{children:"Filled, outlined, or rounded"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Show labels"}),(0,b.jsx)(c.td,{children:"Display the network name below each icon"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Spacing"}),(0,b.jsx)(c.td,{children:"Gap between icons"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Use brand colors"}),(0,b.jsx)(c.td,{children:"Use each network's official brand color"})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"available-networks",children:"Available Networks"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen includes icons for all major platforms:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Social"}),": Twitter/X, Instagram, Facebook, TikTok, Snapchat, Threads, Bluesky, Mastodon"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Video"}),": YouTube, Twitch, Vimeo"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Music"}),": Spotify, SoundCloud, Apple Music, Bandcamp"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Development"}),": GitHub, GitLab, Bitbucket, Stack Overflow, CodePen"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Professional"}),": LinkedIn, Dribbble, Behance"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Messaging"}),": Discord, Telegram, WhatsApp, Signal"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Gaming"}),": Steam, Epic Games, PlayStation, Xbox, Nintendo"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Other"}),": Reddit, Pinterest, Medium, Substack, Patreon, Ko-fi, Buy Me a Coffee, and many more"]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"The full list is automatically updated from the Simple Icons library."}),"\n",(0,b.jsx)(c.h2,{id:"icon-updates",children:"Icon Updates"}),"\n",(0,b.jsxs)(c.p,{children:["Social brand icons are sourced from the ",(0,b.jsx)(c.code,{children:"@linkden/ui"})," package. The icon set is checked weekly via a GitHub Actions workflow that detects when new icons are available from Simple Icons."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nSocial Networks [#social-networks]\n\nLinkDen includes 100+ predefined social network icons from [Simple Icons](https://simpleicons.org/). Social networks are managed separately from blocks at `/admin/social`.\n\nManaging Social Networks [#managing-social-networks]\n\nNavigate to `/admin/social` to see all available social networks. The page lets you:\n\n* **Search** networks by name or slug.\n* **Filter** to show all networks or only active ones.\n* **Toggle** networks on/off with a switch.\n\nActive networks become available for use in **Social Icons** blocks.\n\nUsing Social Icons [#using-social-icons]\n\nOnce you've activated the networks you want:\n\n1. Go to `/admin/builder`.\n2. Click **Add Block** and select **Social Icons**.\n3. The block automatically uses your active social networks.\n4. Configure the display options:\n\n| Option           | Description                              |\n| ---------------- | ---------------------------------------- |\n| Icon size        | Size of each social icon                 |\n| Icon style       | Filled, outlined, or rounded             |\n| Show labels      | Display the network name below each icon |\n| Spacing          | Gap between icons                        |\n| Use brand colors | Use each network's official brand color  |\n\nAvailable Networks [#available-networks]\n\nLinkDen includes icons for all major platforms:\n\n* **Social**: Twitter/X, Instagram, Facebook, TikTok, Snapchat, Threads, Bluesky, Mastodon\n* **Video**: YouTube, Twitch, Vimeo\n* **Music**: Spotify, SoundCloud, Apple Music, Bandcamp\n* **Development**: GitHub, GitLab, Bitbucket, Stack Overflow, CodePen\n* **Professional**: LinkedIn, Dribbble, Behance\n* **Messaging**: Discord, Telegram, WhatsApp, Signal\n* **Gaming**: Steam, Epic Games, PlayStation, Xbox, Nintendo\n* **Other**: Reddit, Pinterest, Medium, Substack, Patreon, Ko-fi, Buy Me a Coffee, and many more\n\nThe full list is automatically updated from the Simple Icons library.\n\nIcon Updates [#icon-updates]\n\nSocial brand icons are sourced from the `@linkden/ui` package. The icon set is checked weekly via a GitHub Actions workflow that detects when new icons are available from Simple Icons.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},5619,a=>{"use strict";var b=a.i(69819);let c={title:"Export & Import",description:"Back up your LinkDen data as JSON or migrate from LinkStack with the built-in export and import tools."},d={contents:[{heading:"export--import",content:"LinkDen provides full data portability through JSON export and import. Back up your configuration, migrate between instances, or import from LinkStack."},{heading:"exporting-data",content:"Navigate to /admin/settings and scroll to the Export section."},{heading:"what-is-exported",content:"The export file includes all of your LinkDen data:"},{heading:"what-is-exported",content:"Links -- All links and blocks with their order, visibility, and settings."},{heading:"what-is-exported",content:"Appearance -- Theme selection, colors, fonts, button styles, and custom CSS."},{heading:"what-is-exported",content:"Profile -- Display name, bio, and profile image reference."},{heading:"what-is-exported",content:"vCard -- All vCard fields and configuration."},{heading:"what-is-exported",content:"Wallet -- Apple Wallet pass configuration (not certificates)."},{heading:"what-is-exported",content:"Pages -- Custom pages (privacy policy, terms, etc.)."},{heading:"what-is-exported",content:"Settings -- General settings including whitelabel toggle."},{heading:"how-to-export",content:"Go to /admin/settings."},{heading:"how-to-export",content:"Click Export Data."},{heading:"how-to-export",content:"A JSON file downloads to your device."},{heading:"how-to-export",content:"Store the file securely as a backup."},{heading:"how-to-export",content:"The exported file does not include:"},{heading:"how-to-export",content:"Analytics data (page views, clicks)."},{heading:"how-to-export",content:"Uploaded images (profile photo, favicon, background)."},{heading:"how-to-export",content:"Environment variables or secrets."},{heading:"linkden-format",content:"To import a LinkDen export:"},{heading:"linkden-format",content:"Go to /admin/settings."},{heading:"linkden-format",content:"Click Import Data."},{heading:"linkden-format",content:"Select your JSON export file."},{heading:"linkden-format",content:"Review the import summary showing what will be created or updated."},{heading:"linkden-format",content:"Click Confirm Import."},{heading:"linkden-format",content:"Importing overwrites existing data for matching records. New records are created for items that do not exist."},{heading:"linkstack-migration",content:"LinkDen supports importing from LinkStack, making it easy to migrate:"},{heading:"linkstack-migration",content:"Export your data from LinkStack (JSON format)."},{heading:"linkstack-migration",content:"Go to /admin/settings in LinkDen."},{heading:"linkstack-migration",content:"Click Import Data and select the LinkStack export file."},{heading:"linkstack-migration",content:"LinkDen automatically detects the LinkStack format and maps the fields."},{heading:"linkstack-migration",content:"Review the import summary and click Confirm Import."},{heading:"linkstack-migration",content:"The LinkStack importer maps:"},{heading:"linkstack-migration",content:"LinkStack Field"},{heading:"linkstack-migration",content:"LinkDen Field"},{heading:"linkstack-migration",content:"Links"},{heading:"linkstack-migration",content:"Links (standard type)"},{heading:"linkstack-migration",content:"Title"},{heading:"linkstack-migration",content:"Display name"},{heading:"linkstack-migration",content:"Bio"},{heading:"linkstack-migration",content:"Bio"},{heading:"linkstack-migration",content:"Theme"},{heading:"linkstack-migration",content:"Closest matching theme"},{heading:"linkstack-migration",content:"Some LinkStack features may not have direct equivalents. The import summary highlights any fields that could not be mapped."},{heading:"best-practices",content:"Export before updating -- Always create a backup before pulling new versions."},{heading:"best-practices",content:"Export before importing -- Create a backup of your current data before importing."},{heading:"best-practices",content:"Store exports securely -- Export files contain your complete link configuration."},{heading:"best-practices",content:"Regular backups -- Schedule periodic exports for disaster recovery."}],headings:[{id:"export--import",content:"Export & Import"},{id:"exporting-data",content:"Exporting Data"},{id:"what-is-exported",content:"What is Exported"},{id:"how-to-export",content:"How to Export"},{id:"importing-data",content:"Importing Data"},{id:"linkden-format",content:"LinkDen Format"},{id:"linkstack-migration",content:"LinkStack Migration"},{id:"best-practices",content:"Best Practices"}]},e=[{depth:1,url:"#export--import",title:(0,b.jsx)(b.Fragment,{children:"Export & Import"})},{depth:2,url:"#exporting-data",title:(0,b.jsx)(b.Fragment,{children:"Exporting Data"})},{depth:3,url:"#what-is-exported",title:(0,b.jsx)(b.Fragment,{children:"What is Exported"})},{depth:3,url:"#how-to-export",title:(0,b.jsx)(b.Fragment,{children:"How to Export"})},{depth:2,url:"#importing-data",title:(0,b.jsx)(b.Fragment,{children:"Importing Data"})},{depth:3,url:"#linkden-format",title:(0,b.jsx)(b.Fragment,{children:"LinkDen Format"})},{depth:3,url:"#linkstack-migration",title:(0,b.jsx)(b.Fragment,{children:"LinkStack Migration"})},{depth:2,url:"#best-practices",title:(0,b.jsx)(b.Fragment,{children:"Best Practices"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"export--import",children:"Export & Import"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen provides full data portability through JSON export and import. Back up your configuration, migrate between instances, or import from LinkStack."}),"\n",(0,b.jsx)(c.h2,{id:"exporting-data",children:"Exporting Data"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/settings"})," and scroll to the ",(0,b.jsx)(c.strong,{children:"Export"})," section."]}),"\n",(0,b.jsx)(c.h3,{id:"what-is-exported",children:"What is Exported"}),"\n",(0,b.jsx)(c.p,{children:"The export file includes all of your LinkDen data:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Links"})," -- All links and blocks with their order, visibility, and settings."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Appearance"})," -- Theme selection, colors, fonts, button styles, and custom CSS."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Profile"})," -- Display name, bio, and profile image reference."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"vCard"})," -- All vCard fields and configuration."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Wallet"})," -- Apple Wallet pass configuration (not certificates)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Pages"})," -- Custom pages (privacy policy, terms, etc.)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Settings"})," -- General settings including whitelabel toggle."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"how-to-export",children:"How to Export"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.code,{children:"/admin/settings"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Export Data"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"A JSON file downloads to your device."}),"\n",(0,b.jsx)(c.li,{children:"Store the file securely as a backup."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"The exported file does not include:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Analytics data (page views, clicks)."}),"\n",(0,b.jsx)(c.li,{children:"Uploaded images (profile photo, favicon, background)."}),"\n",(0,b.jsx)(c.li,{children:"Environment variables or secrets."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"importing-data",children:"Importing Data"}),"\n",(0,b.jsx)(c.h3,{id:"linkden-format",children:"LinkDen Format"}),"\n",(0,b.jsx)(c.p,{children:"To import a LinkDen export:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.code,{children:"/admin/settings"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Import Data"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Select your JSON export file."}),"\n",(0,b.jsx)(c.li,{children:"Review the import summary showing what will be created or updated."}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Confirm Import"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Importing overwrites existing data for matching records. New records are created for items that do not exist."}),"\n",(0,b.jsx)(c.h3,{id:"linkstack-migration",children:"LinkStack Migration"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen supports importing from ",(0,b.jsx)(c.a,{href:"https://linkstack.org/",children:"LinkStack"}),", making it easy to migrate:"]}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Export your data from LinkStack (JSON format)."}),"\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.code,{children:"/admin/settings"})," in LinkDen."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Import Data"})," and select the LinkStack export file."]}),"\n",(0,b.jsx)(c.li,{children:"LinkDen automatically detects the LinkStack format and maps the fields."}),"\n",(0,b.jsxs)(c.li,{children:["Review the import summary and click ",(0,b.jsx)(c.strong,{children:"Confirm Import"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"The LinkStack importer maps:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"LinkStack Field"}),(0,b.jsx)(c.th,{children:"LinkDen Field"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Links"}),(0,b.jsx)(c.td,{children:"Links (standard type)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Title"}),(0,b.jsx)(c.td,{children:"Display name"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Bio"}),(0,b.jsx)(c.td,{children:"Bio"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Theme"}),(0,b.jsx)(c.td,{children:"Closest matching theme"})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"Some LinkStack features may not have direct equivalents. The import summary highlights any fields that could not be mapped."}),"\n",(0,b.jsx)(c.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Export before updating"})," -- Always create a backup before pulling new versions."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Export before importing"})," -- Create a backup of your current data before importing."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Store exports securely"})," -- Export files contain your complete link configuration."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Regular backups"})," -- Schedule periodic exports for disaster recovery."]}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nExport & Import [#export--import]\n\nLinkDen provides full data portability through JSON export and import. Back up your configuration, migrate between instances, or import from LinkStack.\n\nExporting Data [#exporting-data]\n\nNavigate to `/admin/settings` and scroll to the **Export** section.\n\nWhat is Exported [#what-is-exported]\n\nThe export file includes all of your LinkDen data:\n\n* **Links** -- All links and blocks with their order, visibility, and settings.\n* **Appearance** -- Theme selection, colors, fonts, button styles, and custom CSS.\n* **Profile** -- Display name, bio, and profile image reference.\n* **vCard** -- All vCard fields and configuration.\n* **Wallet** -- Apple Wallet pass configuration (not certificates).\n* **Pages** -- Custom pages (privacy policy, terms, etc.).\n* **Settings** -- General settings including whitelabel toggle.\n\nHow to Export [#how-to-export]\n\n1. Go to `/admin/settings`.\n2. Click **Export Data**.\n3. A JSON file downloads to your device.\n4. Store the file securely as a backup.\n\nThe exported file does not include:\n\n* Analytics data (page views, clicks).\n* Uploaded images (profile photo, favicon, background).\n* Environment variables or secrets.\n\nImporting Data [#importing-data]\n\nLinkDen Format [#linkden-format]\n\nTo import a LinkDen export:\n\n1. Go to `/admin/settings`.\n2. Click **Import Data**.\n3. Select your JSON export file.\n4. Review the import summary showing what will be created or updated.\n5. Click **Confirm Import**.\n\nImporting overwrites existing data for matching records. New records are created for items that do not exist.\n\nLinkStack Migration [#linkstack-migration]\n\nLinkDen supports importing from [LinkStack](https://linkstack.org/), making it easy to migrate:\n\n1. Export your data from LinkStack (JSON format).\n2. Go to `/admin/settings` in LinkDen.\n3. Click **Import Data** and select the LinkStack export file.\n4. LinkDen automatically detects the LinkStack format and maps the fields.\n5. Review the import summary and click **Confirm Import**.\n\nThe LinkStack importer maps:\n\n| LinkStack Field | LinkDen Field          |\n| --------------- | ---------------------- |\n| Links           | Links (standard type)  |\n| Title           | Display name           |\n| Bio             | Bio                    |\n| Theme           | Closest matching theme |\n\nSome LinkStack features may not have direct equivalents. The import summary highlights any fields that could not be mapped.\n\nBest Practices [#best-practices]\n\n* **Export before updating** -- Always create a backup before pulling new versions.\n* **Export before importing** -- Create a backup of your current data before importing.\n* **Store exports securely** -- Export files contain your complete link configuration.\n* **Regular backups** -- Schedule periodic exports for disaster recovery.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},3755,a=>{"use strict";var b=a.i(69819);let c={title:"Contact Form",description:"Enable a built-in contact form with CAPTCHA protection and email delivery via Resend."},d={contents:[{heading:"contact-form",content:"LinkDen includes an optional contact form that lets visitors send you messages without exposing your email address. Messages are stored in the database and optionally delivered to your inbox via email."},{heading:"how-it-works",content:"A visitor fills out the contact form on your public page (name, email, message)."},{heading:"how-it-works",content:"CAPTCHA validates the submission is from a real person (if configured)."},{heading:"how-it-works",content:"The message is saved to your D1 database."},{heading:"how-it-works",content:"If email is configured, a notification is sent to your address and a confirmation is sent to the visitor."},{heading:"how-it-works",content:"You can view and manage all submissions in the admin panel at /admin/contacts."},{heading:"email-templates",content:"LinkDen includes two email templates built with React Email:"},{heading:"email-templates",content:"Contact Notification -- Sent to you (the admin) with the full submission details: name, email, message, and optional fields (subject, phone, company)."},{heading:"email-templates",content:"Contact Confirmation -- Sent to the visitor confirming their message was received."},{heading:"email-templates",content:"You can preview these templates in the Email Templates section of this documentation."},{heading:"enable-the-form",content:"Toggle the contact form on or off in /admin/settings under the Contact Form section. Choose the delivery mode:"},{heading:"enable-the-form",content:"Mode"},{heading:"enable-the-form",content:"Description"},{heading:"enable-the-form",content:"Database only"},{heading:"enable-the-form",content:"Messages are stored but no emails are sent"},{heading:"enable-the-form",content:"Email notification"},{heading:"enable-the-form",content:"Messages are stored and you receive an email notification"},{heading:"enable-the-form",content:"Database + email"},{heading:"enable-the-form",content:"Both storage and email notification"},{heading:"configure-email-for-notifications",content:"In /admin/settings under the Email section:"},{heading:"configure-email-for-notifications",content:"Select a provider: Resend or Cloudflare Email Workers."},{heading:"configure-email-for-notifications",content:"Enter your API key."},{heading:"configure-email-for-notifications",content:'Set the "From" email address (must be verified with your provider).'},{heading:"configure-captcha-recommended",content:"In /admin/settings under the CAPTCHA section, select a provider:"},{heading:"cloudflare-turnstile",content:"Privacy-friendly, invisible challenge from Cloudflare."},{heading:"cloudflare-turnstile",content:"Go to Turnstile in the Cloudflare dashboard."},{heading:"cloudflare-turnstile",content:"Add your site and get the site key and secret key."},{heading:"cloudflare-turnstile",content:"Enter both keys in the CAPTCHA settings."},{heading:"google-recaptcha",content:"Traditional checkbox CAPTCHA from Google."},{heading:"google-recaptcha",content:"Register your site at google.com/recaptcha."},{heading:"google-recaptcha",content:"Get the site key and secret key."},{heading:"google-recaptcha",content:"Enter both keys in the CAPTCHA settings."},{heading:"google-recaptcha",content:"Without any CAPTCHA configured, the form works but has no bot protection."},{heading:"managing-submissions",content:"Navigate to /admin/contacts to view all form submissions. Each submission shows:"},{heading:"managing-submissions",content:"Sender name and email."},{heading:"managing-submissions",content:"Message content."},{heading:"managing-submissions",content:"Submission date and time."},{heading:"managing-submissions",content:"Read/unread status."},{heading:"managing-submissions",content:"Available actions:"},{heading:"managing-submissions",content:"Mark as read / Mark as unread -- Toggle the read status."},{heading:"managing-submissions",content:"Delete -- Permanently remove a submission."},{heading:"managing-submissions",content:"The dashboard at /admin shows an Unread Contacts stat card with a direct link to the contacts page."},{heading:"form-fields",content:"The contact form includes:"},{heading:"form-fields",content:"Field"},{heading:"form-fields",content:"Type"},{heading:"form-fields",content:"Required"},{heading:"form-fields",content:"Name"},{heading:"form-fields",content:"Text"},{heading:"form-fields",content:"Yes"},{heading:"form-fields",content:"Email"},{heading:"form-fields",content:"Email"},{heading:"form-fields",content:"Yes"},{heading:"form-fields",content:"Message"},{heading:"form-fields",content:"Textarea"},{heading:"form-fields",content:"Yes"},{heading:"form-fields",content:"CAPTCHA"},{heading:"form-fields",content:"Turnstile / reCAPTCHA"},{heading:"form-fields",content:"If configured"}],headings:[{id:"contact-form",content:"Contact Form"},{id:"how-it-works",content:"How It Works"},{id:"email-templates",content:"Email Templates"},{id:"setting-up-the-contact-form",content:"Setting Up the Contact Form"},{id:"enable-the-form",content:"Enable the Form"},{id:"configure-email-for-notifications",content:"Configure Email (for notifications)"},{id:"configure-captcha-recommended",content:"Configure CAPTCHA (Recommended)"},{id:"cloudflare-turnstile",content:"Cloudflare Turnstile"},{id:"google-recaptcha",content:"Google reCAPTCHA"},{id:"managing-submissions",content:"Managing Submissions"},{id:"form-fields",content:"Form Fields"}]},e=[{depth:1,url:"#contact-form",title:(0,b.jsx)(b.Fragment,{children:"Contact Form"})},{depth:2,url:"#how-it-works",title:(0,b.jsx)(b.Fragment,{children:"How It Works"})},{depth:2,url:"#email-templates",title:(0,b.jsx)(b.Fragment,{children:"Email Templates"})},{depth:2,url:"#setting-up-the-contact-form",title:(0,b.jsx)(b.Fragment,{children:"Setting Up the Contact Form"})},{depth:3,url:"#enable-the-form",title:(0,b.jsx)(b.Fragment,{children:"Enable the Form"})},{depth:3,url:"#configure-email-for-notifications",title:(0,b.jsx)(b.Fragment,{children:"Configure Email (for notifications)"})},{depth:3,url:"#configure-captcha-recommended",title:(0,b.jsx)(b.Fragment,{children:"Configure CAPTCHA (Recommended)"})},{depth:4,url:"#cloudflare-turnstile",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare Turnstile"})},{depth:4,url:"#google-recaptcha",title:(0,b.jsx)(b.Fragment,{children:"Google reCAPTCHA"})},{depth:2,url:"#managing-submissions",title:(0,b.jsx)(b.Fragment,{children:"Managing Submissions"})},{depth:2,url:"#form-fields",title:(0,b.jsx)(b.Fragment,{children:"Form Fields"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"contact-form",children:"Contact Form"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen includes an optional contact form that lets visitors send you messages without exposing your email address. Messages are stored in the database and optionally delivered to your inbox via email."}),"\n",(0,b.jsx)(c.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"A visitor fills out the contact form on your public page (name, email, message)."}),"\n",(0,b.jsx)(c.li,{children:"CAPTCHA validates the submission is from a real person (if configured)."}),"\n",(0,b.jsx)(c.li,{children:"The message is saved to your D1 database."}),"\n",(0,b.jsx)(c.li,{children:"If email is configured, a notification is sent to your address and a confirmation is sent to the visitor."}),"\n",(0,b.jsxs)(c.li,{children:["You can view and manage all submissions in the admin panel at ",(0,b.jsx)(c.code,{children:"/admin/contacts"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"email-templates",children:"Email Templates"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen includes two email templates built with React Email:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Contact Notification"})," -- Sent to you (the admin) with the full submission details: name, email, message, and optional fields (subject, phone, company)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Contact Confirmation"})," -- Sent to the visitor confirming their message was received."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["You can preview these templates in the ",(0,b.jsx)(c.a,{href:"/emails",children:"Email Templates"})," section of this documentation."]}),"\n",(0,b.jsx)(c.h2,{id:"setting-up-the-contact-form",children:"Setting Up the Contact Form"}),"\n",(0,b.jsx)(c.h3,{id:"enable-the-form",children:"Enable the Form"}),"\n",(0,b.jsxs)(c.p,{children:["Toggle the contact form on or off in ",(0,b.jsx)(c.code,{children:"/admin/settings"})," under the ",(0,b.jsx)(c.strong,{children:"Contact Form"})," section. Choose the delivery mode:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Mode"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Database only"}),(0,b.jsx)(c.td,{children:"Messages are stored but no emails are sent"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Email notification"}),(0,b.jsx)(c.td,{children:"Messages are stored and you receive an email notification"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Database + email"}),(0,b.jsx)(c.td,{children:"Both storage and email notification"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"configure-email-for-notifications",children:"Configure Email (for notifications)"}),"\n",(0,b.jsxs)(c.p,{children:["In ",(0,b.jsx)(c.code,{children:"/admin/settings"})," under the ",(0,b.jsx)(c.strong,{children:"Email"})," section:"]}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Select a provider: ",(0,b.jsx)(c.strong,{children:"Resend"})," or ",(0,b.jsx)(c.strong,{children:"Cloudflare Email Workers"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Enter your API key."}),"\n",(0,b.jsx)(c.li,{children:'Set the "From" email address (must be verified with your provider).'}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"configure-captcha-recommended",children:"Configure CAPTCHA (Recommended)"}),"\n",(0,b.jsxs)(c.p,{children:["In ",(0,b.jsx)(c.code,{children:"/admin/settings"})," under the ",(0,b.jsx)(c.strong,{children:"CAPTCHA"})," section, select a provider:"]}),"\n",(0,b.jsx)(c.h4,{id:"cloudflare-turnstile",children:"Cloudflare Turnstile"}),"\n",(0,b.jsx)(c.p,{children:"Privacy-friendly, invisible challenge from Cloudflare."}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Go to ",(0,b.jsx)(c.strong,{children:"Turnstile"})," in the Cloudflare dashboard."]}),"\n",(0,b.jsx)(c.li,{children:"Add your site and get the site key and secret key."}),"\n",(0,b.jsx)(c.li,{children:"Enter both keys in the CAPTCHA settings."}),"\n"]}),"\n",(0,b.jsx)(c.h4,{id:"google-recaptcha",children:"Google reCAPTCHA"}),"\n",(0,b.jsx)(c.p,{children:"Traditional checkbox CAPTCHA from Google."}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Register your site at ",(0,b.jsx)(c.a,{href:"https://www.google.com/recaptcha",children:"google.com/recaptcha"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Get the site key and secret key."}),"\n",(0,b.jsx)(c.li,{children:"Enter both keys in the CAPTCHA settings."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Without any CAPTCHA configured, the form works but has no bot protection."}),"\n",(0,b.jsx)(c.h2,{id:"managing-submissions",children:"Managing Submissions"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/contacts"})," to view all form submissions. Each submission shows:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Sender name and email."}),"\n",(0,b.jsx)(c.li,{children:"Message content."}),"\n",(0,b.jsx)(c.li,{children:"Submission date and time."}),"\n",(0,b.jsx)(c.li,{children:"Read/unread status."}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Available actions:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Mark as read"})," / ",(0,b.jsx)(c.strong,{children:"Mark as unread"})," -- Toggle the read status."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Delete"})," -- Permanently remove a submission."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["The dashboard at ",(0,b.jsx)(c.code,{children:"/admin"})," shows an ",(0,b.jsx)(c.strong,{children:"Unread Contacts"})," stat card with a direct link to the contacts page."]}),"\n",(0,b.jsx)(c.h2,{id:"form-fields",children:"Form Fields"}),"\n",(0,b.jsx)(c.p,{children:"The contact form includes:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Field"}),(0,b.jsx)(c.th,{children:"Type"}),(0,b.jsx)(c.th,{children:"Required"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Name"}),(0,b.jsx)(c.td,{children:"Text"}),(0,b.jsx)(c.td,{children:"Yes"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Email"}),(0,b.jsx)(c.td,{children:"Email"}),(0,b.jsx)(c.td,{children:"Yes"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Message"}),(0,b.jsx)(c.td,{children:"Textarea"}),(0,b.jsx)(c.td,{children:"Yes"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"CAPTCHA"}),(0,b.jsx)(c.td,{children:"Turnstile / reCAPTCHA"}),(0,b.jsx)(c.td,{children:"If configured"})]})]})]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nContact Form [#contact-form]\n\nLinkDen includes an optional contact form that lets visitors send you messages without exposing your email address. Messages are stored in the database and optionally delivered to your inbox via email.\n\nHow It Works [#how-it-works]\n\n1. A visitor fills out the contact form on your public page (name, email, message).\n2. CAPTCHA validates the submission is from a real person (if configured).\n3. The message is saved to your D1 database.\n4. If email is configured, a notification is sent to your address and a confirmation is sent to the visitor.\n5. You can view and manage all submissions in the admin panel at `/admin/contacts`.\n\nEmail Templates [#email-templates]\n\nLinkDen includes two email templates built with React Email:\n\n* **Contact Notification** -- Sent to you (the admin) with the full submission details: name, email, message, and optional fields (subject, phone, company).\n* **Contact Confirmation** -- Sent to the visitor confirming their message was received.\n\nYou can preview these templates in the [Email Templates](/emails) section of this documentation.\n\nSetting Up the Contact Form [#setting-up-the-contact-form]\n\nEnable the Form [#enable-the-form]\n\nToggle the contact form on or off in `/admin/settings` under the **Contact Form** section. Choose the delivery mode:\n\n| Mode               | Description                                               |\n| ------------------ | --------------------------------------------------------- |\n| Database only      | Messages are stored but no emails are sent                |\n| Email notification | Messages are stored and you receive an email notification |\n| Database + email   | Both storage and email notification                       |\n\nConfigure Email (for notifications) [#configure-email-for-notifications]\n\nIn `/admin/settings` under the **Email** section:\n\n1. Select a provider: **Resend** or **Cloudflare Email Workers**.\n2. Enter your API key.\n3. Set the "From" email address (must be verified with your provider).\n\nConfigure CAPTCHA (Recommended) [#configure-captcha-recommended]\n\nIn `/admin/settings` under the **CAPTCHA** section, select a provider:\n\nCloudflare Turnstile [#cloudflare-turnstile]\n\nPrivacy-friendly, invisible challenge from Cloudflare.\n\n1. Go to **Turnstile** in the Cloudflare dashboard.\n2. Add your site and get the site key and secret key.\n3. Enter both keys in the CAPTCHA settings.\n\nGoogle reCAPTCHA [#google-recaptcha]\n\nTraditional checkbox CAPTCHA from Google.\n\n1. Register your site at [google.com/recaptcha](https://www.google.com/recaptcha).\n2. Get the site key and secret key.\n3. Enter both keys in the CAPTCHA settings.\n\nWithout any CAPTCHA configured, the form works but has no bot protection.\n\nManaging Submissions [#managing-submissions]\n\nNavigate to `/admin/contacts` to view all form submissions. Each submission shows:\n\n* Sender name and email.\n* Message content.\n* Submission date and time.\n* Read/unread status.\n\nAvailable actions:\n\n* **Mark as read** / **Mark as unread** -- Toggle the read status.\n* **Delete** -- Permanently remove a submission.\n\nThe dashboard at `/admin` shows an **Unread Contacts** stat card with a direct link to the contacts page.\n\nForm Fields [#form-fields]\n\nThe contact form includes:\n\n| Field   | Type                  | Required      |\n| ------- | --------------------- | ------------- |\n| Name    | Text                  | Yes           |\n| Email   | Email                 | Yes           |\n| Message | Textarea              | Yes           |\n| CAPTCHA | Turnstile / reCAPTCHA | If configured |\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},83043,a=>{"use strict";var b=a.i(69819);let c={title:"Blocks",description:"Create, configure, and manage the 5 block types on your LinkDen page with the drag-and-drop builder."},d={contents:[{heading:"blocks",content:"LinkDen supports 5 block types that appear on your public page in the order you arrange them. All blocks are managed from the block builder at /admin/builder."},{heading:"block-builder-layout",content:"The builder uses a two-panel layout:"},{heading:"block-builder-layout",content:'Left panel -- Your block list with an "Add Block" dropdown button.'},{heading:"block-builder-layout",content:"Right panel -- A live phone preview (visible on lg screens and above). On mobile, a floating action button opens the preview in a modal overlay."},{heading:"link",content:"The most common block type. A clickable button that takes visitors to an external URL."},{heading:"link",content:"Title -- The text displayed on the button."},{heading:"link",content:"URL -- The destination URL."},{heading:"link",content:"Icon -- Optional icon identifier."},{heading:"link",content:"Config options: emoji, emoji position, icon slug, icon position, text alignment, font weight, outlined style, open in new tab."},{heading:"header",content:"A text heading that visually separates groups of blocks. Useful for organizing content into categories."},{heading:"header",content:"Title -- The heading text."},{heading:"header",content:"Config options: heading level (h1-h6), text alignment, font weight, emoji, emoji position, show divider line."},{heading:"social-icons",content:"A row of social media icon links. Uses the social networks you have activated in /admin/social. See Social Networks for setup."},{heading:"social-icons",content:"Config options: icon size, icon style (filled, outlined, rounded), show labels, spacing, use brand colors."},{heading:"embed",content:"Embed content from external platforms directly on your page."},{heading:"embed",content:"Embed Type -- YouTube, Spotify, SoundCloud, or Custom."},{heading:"embed",content:"Embed URL -- The source URL to embed."},{heading:"embed",content:"Config options: aspect ratio, max width, show title."},{heading:"contact-form",content:"An inline contact form for visitors to send you messages."},{heading:"contact-form",content:"Config options: button text, button emoji, button emoji position, success message."},{heading:"contact-form",content:"The contact form requires configuration in /admin/settings (Contact Form and optionally CAPTCHA sections). See Contact Form for details."},{heading:"adding-a-block",content:"Open the block builder at /admin/builder."},{heading:"adding-a-block",content:"Click Add Block to open the dropdown menu."},{heading:"adding-a-block",content:"Select a block type."},{heading:"adding-a-block",content:"The block is added and the edit panel opens."},{heading:"block-edit-panel",content:"Clicking edit on any block opens a slide-in panel from the right with 4 tabs:"},{heading:"content-tab",content:"Fields vary by block type:"},{heading:"content-tab",content:"Link: Title, URL"},{heading:"content-tab",content:"Embed: Title, embed type (YouTube, Spotify, SoundCloud, Custom), embed URL"},{heading:"content-tab",content:"Social Icons: Title, social icons JSON"},{heading:"content-tab",content:"Header / Contact Form: Title"},{heading:"style-tab",content:"Icon name input"},{heading:"style-tab",content:"Config JSON textarea for advanced configuration"},{heading:"options-tab",content:"Reference text listing common config keys: noFollow, newTab, animation, thumbnail."},{heading:"schedule-tab",content:"Start date/time (datetime-local input)"},{heading:"schedule-tab",content:"End date/time (datetime-local input)"},{heading:"schedule-tab",content:"Clear schedule button"},{heading:"schedule-tab",content:"Blocks outside their scheduled window are automatically hidden from the public page."},{heading:"block-configuration",content:"All block types share a base configuration with these style options:"},{heading:"block-configuration",content:"Option"},{heading:"block-configuration",content:"Description"},{heading:"block-configuration",content:"Color variant"},{heading:"block-configuration",content:"Preset color scheme for the block"},{heading:"block-configuration",content:"Custom background color"},{heading:"block-configuration",content:"Override background color"},{heading:"block-configuration",content:"Custom text color"},{heading:"block-configuration",content:"Override text color"},{heading:"block-configuration",content:"Custom border color"},{heading:"block-configuration",content:"Override border color"},{heading:"block-configuration",content:"Border radius"},{heading:"block-configuration",content:"Corner rounding"},{heading:"block-configuration",content:"Border width"},{heading:"block-configuration",content:"Border thickness"},{heading:"block-configuration",content:"Shadow"},{heading:"block-configuration",content:"Drop shadow effect"},{heading:"block-configuration",content:"Animation"},{heading:"block-configuration",content:"Hover or entrance animation"},{heading:"block-configuration",content:"Padding"},{heading:"block-configuration",content:"Inner spacing"},{heading:"reordering-blocks",content:"Drag any block by its grip handle in the block list. The new order is saved immediately via the blocks.reorder mutation."},{heading:"toggling-visibility",content:"Click the eye icon to toggle a block's visibility. Hidden blocks remain in your list but are not shown on the public page. This is useful for:"},{heading:"toggling-visibility",content:"Temporarily removing a block without deleting it."},{heading:"toggling-visibility",content:"Preparing blocks in advance and enabling them later."},{heading:"toggling-visibility",content:"Time-limited or seasonal content (or use scheduling instead)."},{heading:"deleting-a-block",content:"Click the trash icon on any block to delete it. Deletions are permanent."},{heading:"scheduling",content:"Blocks support scheduled visibility with start and end dates. A block outside its scheduled window is automatically hidden from the public page. Configure scheduling in the Schedule tab of the block edit panel."},{heading:"phone-preview",content:"The right panel shows a phone-frame preview (280px wide) with:"},{heading:"phone-preview",content:"A light/dark mode toggle button."},{heading:"phone-preview",content:"Only isEnabled: true blocks rendered."},{heading:"phone-preview",content:"Type-specific preview rendering:"},{heading:"phone-preview",content:"Link: Button-style bar"},{heading:"phone-preview",content:"Header: Centered bold text"},{heading:"phone-preview",content:"Social Icons: Placeholder circles"},{heading:"phone-preview",content:"Embed: Gray box with embed type label"},{heading:"phone-preview",content:"Contact Form: Stacked input placeholders"},{heading:"phone-preview",content:"Empty state message when no enabled blocks exist."}],headings:[{id:"blocks",content:"Blocks"},{id:"block-builder-layout",content:"Block Builder Layout"},{id:"block-types",content:"Block Types"},{id:"link",content:"Link"},{id:"header",content:"Header"},{id:"social-icons",content:"Social Icons"},{id:"embed",content:"Embed"},{id:"contact-form",content:"Contact Form"},{id:"adding-a-block",content:"Adding a Block"},{id:"block-edit-panel",content:"Block Edit Panel"},{id:"content-tab",content:"Content Tab"},{id:"style-tab",content:"Style Tab"},{id:"options-tab",content:"Options Tab"},{id:"schedule-tab",content:"Schedule Tab"},{id:"block-configuration",content:"Block Configuration"},{id:"reordering-blocks",content:"Reordering Blocks"},{id:"toggling-visibility",content:"Toggling Visibility"},{id:"deleting-a-block",content:"Deleting a Block"},{id:"scheduling",content:"Scheduling"},{id:"phone-preview",content:"Phone Preview"}]},e=[{depth:1,url:"#blocks",title:(0,b.jsx)(b.Fragment,{children:"Blocks"})},{depth:2,url:"#block-builder-layout",title:(0,b.jsx)(b.Fragment,{children:"Block Builder Layout"})},{depth:2,url:"#block-types",title:(0,b.jsx)(b.Fragment,{children:"Block Types"})},{depth:3,url:"#link",title:(0,b.jsx)(b.Fragment,{children:"Link"})},{depth:3,url:"#header",title:(0,b.jsx)(b.Fragment,{children:"Header"})},{depth:3,url:"#social-icons",title:(0,b.jsx)(b.Fragment,{children:"Social Icons"})},{depth:3,url:"#embed",title:(0,b.jsx)(b.Fragment,{children:"Embed"})},{depth:3,url:"#contact-form",title:(0,b.jsx)(b.Fragment,{children:"Contact Form"})},{depth:2,url:"#adding-a-block",title:(0,b.jsx)(b.Fragment,{children:"Adding a Block"})},{depth:2,url:"#block-edit-panel",title:(0,b.jsx)(b.Fragment,{children:"Block Edit Panel"})},{depth:3,url:"#content-tab",title:(0,b.jsx)(b.Fragment,{children:"Content Tab"})},{depth:3,url:"#style-tab",title:(0,b.jsx)(b.Fragment,{children:"Style Tab"})},{depth:3,url:"#options-tab",title:(0,b.jsx)(b.Fragment,{children:"Options Tab"})},{depth:3,url:"#schedule-tab",title:(0,b.jsx)(b.Fragment,{children:"Schedule Tab"})},{depth:2,url:"#block-configuration",title:(0,b.jsx)(b.Fragment,{children:"Block Configuration"})},{depth:2,url:"#reordering-blocks",title:(0,b.jsx)(b.Fragment,{children:"Reordering Blocks"})},{depth:2,url:"#toggling-visibility",title:(0,b.jsx)(b.Fragment,{children:"Toggling Visibility"})},{depth:2,url:"#deleting-a-block",title:(0,b.jsx)(b.Fragment,{children:"Deleting a Block"})},{depth:2,url:"#scheduling",title:(0,b.jsx)(b.Fragment,{children:"Scheduling"})},{depth:2,url:"#phone-preview",title:(0,b.jsx)(b.Fragment,{children:"Phone Preview"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"blocks",children:"Blocks"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen supports 5 block types that appear on your public page in the order you arrange them. All blocks are managed from the block builder at ",(0,b.jsx)(c.code,{children:"/admin/builder"}),"."]}),"\n",(0,b.jsx)(c.h2,{id:"block-builder-layout",children:"Block Builder Layout"}),"\n",(0,b.jsx)(c.p,{children:"The builder uses a two-panel layout:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Left panel"}),' -- Your block list with an "Add Block" dropdown button.']}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Right panel"})," -- A live phone preview (visible on ",(0,b.jsx)(c.code,{children:"lg"})," screens and above). On mobile, a floating action button opens the preview in a modal overlay."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"block-types",children:"Block Types"}),"\n",(0,b.jsx)(c.h3,{id:"link",children:"Link"}),"\n",(0,b.jsx)(c.p,{children:"The most common block type. A clickable button that takes visitors to an external URL."}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Title"})," -- The text displayed on the button."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"URL"})," -- The destination URL."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Icon"})," -- Optional icon identifier."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Config options"}),": emoji, emoji position, icon slug, icon position, text alignment, font weight, outlined style, open in new tab."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"header",children:"Header"}),"\n",(0,b.jsx)(c.p,{children:"A text heading that visually separates groups of blocks. Useful for organizing content into categories."}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Title"})," -- The heading text."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Config options"}),": heading level (h1-h6), text alignment, font weight, emoji, emoji position, show divider line."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"social-icons",children:"Social Icons"}),"\n",(0,b.jsxs)(c.p,{children:["A row of social media icon links. Uses the social networks you have activated in ",(0,b.jsx)(c.code,{children:"/admin/social"}),". See ",(0,b.jsx)(c.a,{href:"/docs/guide/social-networks",children:"Social Networks"})," for setup."]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Config options"}),": icon size, icon style (filled, outlined, rounded), show labels, spacing, use brand colors."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"embed",children:"Embed"}),"\n",(0,b.jsx)(c.p,{children:"Embed content from external platforms directly on your page."}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Embed Type"})," -- YouTube, Spotify, SoundCloud, or Custom."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Embed URL"})," -- The source URL to embed."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Config options"}),": aspect ratio, max width, show title."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"contact-form",children:"Contact Form"}),"\n",(0,b.jsx)(c.p,{children:"An inline contact form for visitors to send you messages."}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Config options"}),": button text, button emoji, button emoji position, success message."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["The contact form requires configuration in ",(0,b.jsx)(c.code,{children:"/admin/settings"})," (Contact Form and optionally CAPTCHA sections). See ",(0,b.jsx)(c.a,{href:"/docs/guide/contact-form",children:"Contact Form"})," for details."]}),"\n",(0,b.jsx)(c.h2,{id:"adding-a-block",children:"Adding a Block"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Open the block builder at ",(0,b.jsx)(c.code,{children:"/admin/builder"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add Block"})," to open the dropdown menu."]}),"\n",(0,b.jsx)(c.li,{children:"Select a block type."}),"\n",(0,b.jsx)(c.li,{children:"The block is added and the edit panel opens."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"block-edit-panel",children:"Block Edit Panel"}),"\n",(0,b.jsx)(c.p,{children:"Clicking edit on any block opens a slide-in panel from the right with 4 tabs:"}),"\n",(0,b.jsx)(c.h3,{id:"content-tab",children:"Content Tab"}),"\n",(0,b.jsx)(c.p,{children:"Fields vary by block type:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Link"}),": Title, URL"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Embed"}),": Title, embed type (YouTube, Spotify, SoundCloud, Custom), embed URL"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Social Icons"}),": Title, social icons JSON"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Header"})," / ",(0,b.jsx)(c.strong,{children:"Contact Form"}),": Title"]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"style-tab",children:"Style Tab"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Icon name input"}),"\n",(0,b.jsx)(c.li,{children:"Config JSON textarea for advanced configuration"}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"options-tab",children:"Options Tab"}),"\n",(0,b.jsxs)(c.p,{children:["Reference text listing common config keys: ",(0,b.jsx)(c.code,{children:"noFollow"}),", ",(0,b.jsx)(c.code,{children:"newTab"}),", ",(0,b.jsx)(c.code,{children:"animation"}),", ",(0,b.jsx)(c.code,{children:"thumbnail"}),"."]}),"\n",(0,b.jsx)(c.h3,{id:"schedule-tab",children:"Schedule Tab"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:["Start date/time (",(0,b.jsx)(c.code,{children:"datetime-local"})," input)"]}),"\n",(0,b.jsxs)(c.li,{children:["End date/time (",(0,b.jsx)(c.code,{children:"datetime-local"})," input)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Clear schedule"})," button"]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Blocks outside their scheduled window are automatically hidden from the public page."}),"\n",(0,b.jsx)(c.h2,{id:"block-configuration",children:"Block Configuration"}),"\n",(0,b.jsx)(c.p,{children:"All block types share a base configuration with these style options:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Option"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Color variant"}),(0,b.jsx)(c.td,{children:"Preset color scheme for the block"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Custom background color"}),(0,b.jsx)(c.td,{children:"Override background color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Custom text color"}),(0,b.jsx)(c.td,{children:"Override text color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Custom border color"}),(0,b.jsx)(c.td,{children:"Override border color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Border radius"}),(0,b.jsx)(c.td,{children:"Corner rounding"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Border width"}),(0,b.jsx)(c.td,{children:"Border thickness"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Shadow"}),(0,b.jsx)(c.td,{children:"Drop shadow effect"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Animation"}),(0,b.jsx)(c.td,{children:"Hover or entrance animation"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Padding"}),(0,b.jsx)(c.td,{children:"Inner spacing"})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"reordering-blocks",children:"Reordering Blocks"}),"\n",(0,b.jsxs)(c.p,{children:["Drag any block by its grip handle in the block list. The new order is saved immediately via the ",(0,b.jsx)(c.code,{children:"blocks.reorder"})," mutation."]}),"\n",(0,b.jsx)(c.h2,{id:"toggling-visibility",children:"Toggling Visibility"}),"\n",(0,b.jsx)(c.p,{children:"Click the eye icon to toggle a block's visibility. Hidden blocks remain in your list but are not shown on the public page. This is useful for:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Temporarily removing a block without deleting it."}),"\n",(0,b.jsx)(c.li,{children:"Preparing blocks in advance and enabling them later."}),"\n",(0,b.jsx)(c.li,{children:"Time-limited or seasonal content (or use scheduling instead)."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"deleting-a-block",children:"Deleting a Block"}),"\n",(0,b.jsx)(c.p,{children:"Click the trash icon on any block to delete it. Deletions are permanent."}),"\n",(0,b.jsx)(c.h2,{id:"scheduling",children:"Scheduling"}),"\n",(0,b.jsxs)(c.p,{children:["Blocks support scheduled visibility with start and end dates. A block outside its scheduled window is automatically hidden from the public page. Configure scheduling in the ",(0,b.jsx)(c.strong,{children:"Schedule"})," tab of the block edit panel."]}),"\n",(0,b.jsx)(c.h2,{id:"phone-preview",children:"Phone Preview"}),"\n",(0,b.jsx)(c.p,{children:"The right panel shows a phone-frame preview (280px wide) with:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"A light/dark mode toggle button."}),"\n",(0,b.jsxs)(c.li,{children:["Only ",(0,b.jsx)(c.code,{children:"isEnabled: true"})," blocks rendered."]}),"\n",(0,b.jsxs)(c.li,{children:["Type-specific preview rendering:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Link"}),": Button-style bar"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Header"}),": Centered bold text"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Social Icons"}),": Placeholder circles"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Embed"}),": Gray box with embed type label"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Contact Form"}),": Stacked input placeholders"]}),"\n"]}),"\n"]}),"\n",(0,b.jsx)(c.li,{children:"Empty state message when no enabled blocks exist."}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nBlocks [#blocks]\n\nLinkDen supports 5 block types that appear on your public page in the order you arrange them. All blocks are managed from the block builder at `/admin/builder`.\n\nBlock Builder Layout [#block-builder-layout]\n\nThe builder uses a two-panel layout:\n\n* **Left panel** -- Your block list with an "Add Block" dropdown button.\n* **Right panel** -- A live phone preview (visible on `lg` screens and above). On mobile, a floating action button opens the preview in a modal overlay.\n\nBlock Types [#block-types]\n\nLink [#link]\n\nThe most common block type. A clickable button that takes visitors to an external URL.\n\n* **Title** -- The text displayed on the button.\n* **URL** -- The destination URL.\n* **Icon** -- Optional icon identifier.\n* **Config options**: emoji, emoji position, icon slug, icon position, text alignment, font weight, outlined style, open in new tab.\n\nHeader [#header]\n\nA text heading that visually separates groups of blocks. Useful for organizing content into categories.\n\n* **Title** -- The heading text.\n* **Config options**: heading level (h1-h6), text alignment, font weight, emoji, emoji position, show divider line.\n\nSocial Icons [#social-icons]\n\nA row of social media icon links. Uses the social networks you have activated in `/admin/social`. See [Social Networks](/docs/guide/social-networks) for setup.\n\n* **Config options**: icon size, icon style (filled, outlined, rounded), show labels, spacing, use brand colors.\n\nEmbed [#embed]\n\nEmbed content from external platforms directly on your page.\n\n* **Embed Type** -- YouTube, Spotify, SoundCloud, or Custom.\n* **Embed URL** -- The source URL to embed.\n* **Config options**: aspect ratio, max width, show title.\n\nContact Form [#contact-form]\n\nAn inline contact form for visitors to send you messages.\n\n* **Config options**: button text, button emoji, button emoji position, success message.\n\nThe contact form requires configuration in `/admin/settings` (Contact Form and optionally CAPTCHA sections). See [Contact Form](/docs/guide/contact-form) for details.\n\nAdding a Block [#adding-a-block]\n\n1. Open the block builder at `/admin/builder`.\n2. Click **Add Block** to open the dropdown menu.\n3. Select a block type.\n4. The block is added and the edit panel opens.\n\nBlock Edit Panel [#block-edit-panel]\n\nClicking edit on any block opens a slide-in panel from the right with 4 tabs:\n\nContent Tab [#content-tab]\n\nFields vary by block type:\n\n* **Link**: Title, URL\n* **Embed**: Title, embed type (YouTube, Spotify, SoundCloud, Custom), embed URL\n* **Social Icons**: Title, social icons JSON\n* **Header** / **Contact Form**: Title\n\nStyle Tab [#style-tab]\n\n* Icon name input\n* Config JSON textarea for advanced configuration\n\nOptions Tab [#options-tab]\n\nReference text listing common config keys: `noFollow`, `newTab`, `animation`, `thumbnail`.\n\nSchedule Tab [#schedule-tab]\n\n* Start date/time (`datetime-local` input)\n* End date/time (`datetime-local` input)\n* **Clear schedule** button\n\nBlocks outside their scheduled window are automatically hidden from the public page.\n\nBlock Configuration [#block-configuration]\n\nAll block types share a base configuration with these style options:\n\n| Option                  | Description                       |\n| ----------------------- | --------------------------------- |\n| Color variant           | Preset color scheme for the block |\n| Custom background color | Override background color         |\n| Custom text color       | Override text color               |\n| Custom border color     | Override border color             |\n| Border radius           | Corner rounding                   |\n| Border width            | Border thickness                  |\n| Shadow                  | Drop shadow effect                |\n| Animation               | Hover or entrance animation       |\n| Padding                 | Inner spacing                     |\n\nReordering Blocks [#reordering-blocks]\n\nDrag any block by its grip handle in the block list. The new order is saved immediately via the `blocks.reorder` mutation.\n\nToggling Visibility [#toggling-visibility]\n\nClick the eye icon to toggle a block\'s visibility. Hidden blocks remain in your list but are not shown on the public page. This is useful for:\n\n* Temporarily removing a block without deleting it.\n* Preparing blocks in advance and enabling them later.\n* Time-limited or seasonal content (or use scheduling instead).\n\nDeleting a Block [#deleting-a-block]\n\nClick the trash icon on any block to delete it. Deletions are permanent.\n\nScheduling [#scheduling]\n\nBlocks support scheduled visibility with start and end dates. A block outside its scheduled window is automatically hidden from the public page. Configure scheduling in the **Schedule** tab of the block edit panel.\n\nPhone Preview [#phone-preview]\n\nThe right panel shows a phone-frame preview (280px wide) with:\n\n* A light/dark mode toggle button.\n* Only `isEnabled: true` blocks rendered.\n* Type-specific preview rendering:\n  * **Link**: Button-style bar\n  * **Header**: Centered bold text\n  * **Social Icons**: Placeholder circles\n  * **Embed**: Gray box with embed type label\n  * **Contact Form**: Stacked input placeholders\n* Empty state message when no enabled blocks exist.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},3928,a=>{"use strict";var b=a.i(69819);let c={title:"Apple Wallet",description:"Configure Apple Wallet pass settings so visitors can save your contact information."},d={contents:[{heading:"apple-wallet",content:"LinkDen supports Apple Wallet pass configuration. When enabled, visitors can download a pass containing your contact information to their iPhone or Mac wallet."},{heading:"enabling-apple-wallet",content:"Toggle the Apple Wallet feature in /admin/settings under the Apple Wallet section. Configure:"},{heading:"enabling-apple-wallet",content:"Field"},{heading:"enabling-apple-wallet",content:"Description"},{heading:"enabling-apple-wallet",content:"Enable Apple Wallet"},{heading:"enabling-apple-wallet",content:"Toggle the feature on/off"},{heading:"enabling-apple-wallet",content:"Team ID"},{heading:"enabling-apple-wallet",content:"Your Apple Developer team identifier"},{heading:"enabling-apple-wallet",content:"Pass Type ID"},{heading:"enabling-apple-wallet",content:"Registered pass type identifier"},{heading:"enabling-apple-wallet",content:"Custom QR URL"},{heading:"enabling-apple-wallet",content:"Optional custom URL for the QR code on the pass"},{heading:"prerequisites",content:"To generate Apple Wallet passes, you need:"},{heading:"prerequisites",content:"Apple Developer Account -- A paid Apple Developer Program membership ($99/year) at developer.apple.com."},{heading:"prerequisites",content:"Pass Type Identifier -- A unique identifier registered in the Apple Developer portal."},{heading:"prerequisites",content:"Signing Certificates -- A pass signing certificate and the Apple WWDR intermediate certificate."},{heading:"1-register-a-pass-type-id",content:"Log in to developer.apple.com."},{heading:"1-register-a-pass-type-id",content:"Navigate to Certificates, Identifiers & Profiles > Identifiers."},{heading:"1-register-a-pass-type-id",content:"Click the + button and select Pass Type IDs."},{heading:"1-register-a-pass-type-id",content:'Enter a description (e.g., "LinkDen Business Card") and an identifier (e.g., pass.com.yourdomain.linkden).'},{heading:"1-register-a-pass-type-id",content:"Click Register."},{heading:"2-create-a-signing-certificate",content:"In the Apple Developer portal, go to Certificates."},{heading:"2-create-a-signing-certificate",content:"Click + and select Pass Type ID Certificate."},{heading:"2-create-a-signing-certificate",content:"Choose the Pass Type ID you just created."},{heading:"2-create-a-signing-certificate",content:"Follow the instructions to generate a Certificate Signing Request (CSR) using Keychain Access on macOS."},{heading:"2-create-a-signing-certificate",content:"Upload the CSR and download the certificate."},{heading:"2-create-a-signing-certificate",content:"Double-click the downloaded .cer file to install it in Keychain Access."},{heading:"3-export-the-certificate-and-key",content:"Open Keychain Access on macOS."},{heading:"3-export-the-certificate-and-key",content:"Find the pass certificate (it shows the Pass Type ID)."},{heading:"3-export-the-certificate-and-key",content:"Expand it to see the private key."},{heading:"3-export-the-certificate-and-key",content:"Select both the certificate and key, right-click, and choose Export 2 items."},{heading:"3-export-the-certificate-and-key",content:"Save as .p12 format with a passphrase."},{heading:"4-convert-to-base64",content:"Convert the certificates to base64 strings:"},{heading:"5-configure-in-admin-settings",content:"Navigate to /admin/settings and fill in the Apple Wallet section:"},{heading:"5-configure-in-admin-settings",content:"Team ID -- Your Apple Developer team identifier."},{heading:"5-configure-in-admin-settings",content:"Pass Type ID -- The identifier you registered (e.g., pass.com.yourdomain.linkden)."},{heading:"5-configure-in-admin-settings",content:"Custom QR URL -- Optional URL for the QR code on the pass."},{heading:"pass-preview",content:"The wallet.generatePreview API procedure returns your profile data, enabled link blocks, and QR URL for previewing how the pass will appear."},{heading:"api-reference",content:"Procedure"},{heading:"api-reference",content:"Description"},{heading:"api-reference",content:"wallet.getConfig"},{heading:"api-reference",content:"Get current wallet settings"},{heading:"api-reference",content:"wallet.updateConfig"},{heading:"api-reference",content:"Update wallet settings"},{heading:"api-reference",content:"wallet.generatePreview"},{heading:"api-reference",content:"Generate pass preview data"},{heading:"api-reference",content:"See API Reference for the full procedure reference."}],headings:[{id:"apple-wallet",content:"Apple Wallet"},{id:"enabling-apple-wallet",content:"Enabling Apple Wallet"},{id:"prerequisites",content:"Prerequisites"},{id:"setup-guide",content:"Setup Guide"},{id:"1-register-a-pass-type-id",content:"1. Register a Pass Type ID"},{id:"2-create-a-signing-certificate",content:"2. Create a Signing Certificate"},{id:"3-export-the-certificate-and-key",content:"3. Export the Certificate and Key"},{id:"4-convert-to-base64",content:"4. Convert to Base64"},{id:"5-configure-in-admin-settings",content:"5. Configure in Admin Settings"},{id:"pass-preview",content:"Pass Preview"},{id:"api-reference",content:"API Reference"}]},e=[{depth:1,url:"#apple-wallet",title:(0,b.jsx)(b.Fragment,{children:"Apple Wallet"})},{depth:2,url:"#enabling-apple-wallet",title:(0,b.jsx)(b.Fragment,{children:"Enabling Apple Wallet"})},{depth:2,url:"#prerequisites",title:(0,b.jsx)(b.Fragment,{children:"Prerequisites"})},{depth:2,url:"#setup-guide",title:(0,b.jsx)(b.Fragment,{children:"Setup Guide"})},{depth:3,url:"#1-register-a-pass-type-id",title:(0,b.jsx)(b.Fragment,{children:"1. Register a Pass Type ID"})},{depth:3,url:"#2-create-a-signing-certificate",title:(0,b.jsx)(b.Fragment,{children:"2. Create a Signing Certificate"})},{depth:3,url:"#3-export-the-certificate-and-key",title:(0,b.jsx)(b.Fragment,{children:"3. Export the Certificate and Key"})},{depth:3,url:"#4-convert-to-base64",title:(0,b.jsx)(b.Fragment,{children:"4. Convert to Base64"})},{depth:3,url:"#5-configure-in-admin-settings",title:(0,b.jsx)(b.Fragment,{children:"5. Configure in Admin Settings"})},{depth:2,url:"#pass-preview",title:(0,b.jsx)(b.Fragment,{children:"Pass Preview"})},{depth:2,url:"#api-reference",title:(0,b.jsx)(b.Fragment,{children:"API Reference"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"apple-wallet",children:"Apple Wallet"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen supports Apple Wallet pass configuration. When enabled, visitors can download a pass containing your contact information to their iPhone or Mac wallet."}),"\n",(0,b.jsx)(c.h2,{id:"enabling-apple-wallet",children:"Enabling Apple Wallet"}),"\n",(0,b.jsxs)(c.p,{children:["Toggle the Apple Wallet feature in ",(0,b.jsx)(c.code,{children:"/admin/settings"})," under the ",(0,b.jsx)(c.strong,{children:"Apple Wallet"})," section. Configure:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Field"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Enable Apple Wallet"}),(0,b.jsx)(c.td,{children:"Toggle the feature on/off"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Team ID"}),(0,b.jsx)(c.td,{children:"Your Apple Developer team identifier"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Pass Type ID"}),(0,b.jsx)(c.td,{children:"Registered pass type identifier"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Custom QR URL"}),(0,b.jsx)(c.td,{children:"Optional custom URL for the QR code on the pass"})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,b.jsx)(c.p,{children:"To generate Apple Wallet passes, you need:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Apple Developer Account"})," -- A paid Apple Developer Program membership ($99/year) at ",(0,b.jsx)(c.a,{href:"https://developer.apple.com",children:"developer.apple.com"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Pass Type Identifier"})," -- A unique identifier registered in the Apple Developer portal."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Signing Certificates"})," -- A pass signing certificate and the Apple WWDR intermediate certificate."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"setup-guide",children:"Setup Guide"}),"\n",(0,b.jsx)(c.h3,{id:"1-register-a-pass-type-id",children:"1. Register a Pass Type ID"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Log in to ",(0,b.jsx)(c.a,{href:"https://developer.apple.com",children:"developer.apple.com"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Navigate to ",(0,b.jsx)(c.strong,{children:"Certificates, Identifiers & Profiles > Identifiers"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click the ",(0,b.jsx)(c.strong,{children:"+"})," button and select ",(0,b.jsx)(c.strong,{children:"Pass Type IDs"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:['Enter a description (e.g., "LinkDen Business Card") and an identifier (e.g., ',(0,b.jsx)(c.code,{children:"pass.com.yourdomain.linkden"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Register"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"2-create-a-signing-certificate",children:"2. Create a Signing Certificate"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["In the Apple Developer portal, go to ",(0,b.jsx)(c.strong,{children:"Certificates"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"+"})," and select ",(0,b.jsx)(c.strong,{children:"Pass Type ID Certificate"}),"."]}),"\n",(0,b.jsx)(c.li,{children:"Choose the Pass Type ID you just created."}),"\n",(0,b.jsx)(c.li,{children:"Follow the instructions to generate a Certificate Signing Request (CSR) using Keychain Access on macOS."}),"\n",(0,b.jsx)(c.li,{children:"Upload the CSR and download the certificate."}),"\n",(0,b.jsxs)(c.li,{children:["Double-click the downloaded ",(0,b.jsx)(c.code,{children:".cer"})," file to install it in Keychain Access."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"3-export-the-certificate-and-key",children:"3. Export the Certificate and Key"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Open ",(0,b.jsx)(c.strong,{children:"Keychain Access"})," on macOS."]}),"\n",(0,b.jsx)(c.li,{children:"Find the pass certificate (it shows the Pass Type ID)."}),"\n",(0,b.jsx)(c.li,{children:"Expand it to see the private key."}),"\n",(0,b.jsxs)(c.li,{children:["Select both the certificate and key, right-click, and choose ",(0,b.jsx)(c.strong,{children:"Export 2 items"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["Save as ",(0,b.jsx)(c.code,{children:".p12"})," format with a passphrase."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"4-convert-to-base64",children:"4. Convert to Base64"}),"\n",(0,b.jsx)(c.p,{children:"Convert the certificates to base64 strings:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Download the Apple WWDR certificate"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"curl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -O"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://www.apple.com/certificateauthority/AppleWWDRCAG4.cer"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Convert WWDR cert to base64"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"base64"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -i"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" AppleWWDRCAG4.cer"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" tr"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '\\n'"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" >"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" wwdr_base64.txt"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Extract the signer certificate"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pkcs12"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -in"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pass.p12"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -clcerts"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -nokeys"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -out"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" signer_cert.pem"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"base64"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -i"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" signer_cert.pem"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" tr"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '\\n'"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" >"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" signer_cert_base64.txt"})]}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Extract the signer private key"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pkcs12"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -in"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pass.p12"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -nocerts"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -out"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" signer_key.pem"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"base64"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -i"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" signer_key.pem"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" tr"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '\\n'"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" >"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" signer_key_base64.txt"})]})]})})}),"\n",(0,b.jsx)(c.h3,{id:"5-configure-in-admin-settings",children:"5. Configure in Admin Settings"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/settings"})," and fill in the ",(0,b.jsx)(c.strong,{children:"Apple Wallet"})," section:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Team ID"})," -- Your Apple Developer team identifier."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Pass Type ID"})," -- The identifier you registered (e.g., ",(0,b.jsx)(c.code,{children:"pass.com.yourdomain.linkden"}),")."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Custom QR URL"})," -- Optional URL for the QR code on the pass."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"pass-preview",children:"Pass Preview"}),"\n",(0,b.jsxs)(c.p,{children:["The ",(0,b.jsx)(c.code,{children:"wallet.generatePreview"})," API procedure returns your profile data, enabled link blocks, and QR URL for previewing how the pass will appear."]}),"\n",(0,b.jsx)(c.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Procedure"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet.getConfig"})}),(0,b.jsx)(c.td,{children:"Get current wallet settings"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet.updateConfig"})}),(0,b.jsx)(c.td,{children:"Update wallet settings"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"wallet.generatePreview"})}),(0,b.jsx)(c.td,{children:"Generate pass preview data"})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["See ",(0,b.jsx)(c.a,{href:"/docs/reference/api",children:"API Reference"})," for the full procedure reference."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nApple Wallet [#apple-wallet]\n\nLinkDen supports Apple Wallet pass configuration. When enabled, visitors can download a pass containing your contact information to their iPhone or Mac wallet.\n\nEnabling Apple Wallet [#enabling-apple-wallet]\n\nToggle the Apple Wallet feature in `/admin/settings` under the **Apple Wallet** section. Configure:\n\n| Field               | Description                                     |\n| ------------------- | ----------------------------------------------- |\n| Enable Apple Wallet | Toggle the feature on/off                       |\n| Team ID             | Your Apple Developer team identifier            |\n| Pass Type ID        | Registered pass type identifier                 |\n| Custom QR URL       | Optional custom URL for the QR code on the pass |\n\nPrerequisites [#prerequisites]\n\nTo generate Apple Wallet passes, you need:\n\n1. **Apple Developer Account** -- A paid Apple Developer Program membership ($99/year) at [developer.apple.com](https://developer.apple.com).\n2. **Pass Type Identifier** -- A unique identifier registered in the Apple Developer portal.\n3. **Signing Certificates** -- A pass signing certificate and the Apple WWDR intermediate certificate.\n\nSetup Guide [#setup-guide]\n\n1. Register a Pass Type ID [#1-register-a-pass-type-id]\n\n1. Log in to [developer.apple.com](https://developer.apple.com).\n2. Navigate to **Certificates, Identifiers & Profiles > Identifiers**.\n3. Click the **+** button and select **Pass Type IDs**.\n4. Enter a description (e.g., \"LinkDen Business Card\") and an identifier (e.g., `pass.com.yourdomain.linkden`).\n5. Click **Register**.\n\n2. Create a Signing Certificate [#2-create-a-signing-certificate]\n\n1. In the Apple Developer portal, go to **Certificates**.\n2. Click **+** and select **Pass Type ID Certificate**.\n3. Choose the Pass Type ID you just created.\n4. Follow the instructions to generate a Certificate Signing Request (CSR) using Keychain Access on macOS.\n5. Upload the CSR and download the certificate.\n6. Double-click the downloaded `.cer` file to install it in Keychain Access.\n\n3. Export the Certificate and Key [#3-export-the-certificate-and-key]\n\n1. Open **Keychain Access** on macOS.\n2. Find the pass certificate (it shows the Pass Type ID).\n3. Expand it to see the private key.\n4. Select both the certificate and key, right-click, and choose **Export 2 items**.\n5. Save as `.p12` format with a passphrase.\n\n4. Convert to Base64 [#4-convert-to-base64]\n\nConvert the certificates to base64 strings:\n\n```bash\n# Download the Apple WWDR certificate\ncurl -O https://www.apple.com/certificateauthority/AppleWWDRCAG4.cer\n\n# Convert WWDR cert to base64\nbase64 -i AppleWWDRCAG4.cer | tr -d '\\n' > wwdr_base64.txt\n\n# Extract the signer certificate\nopenssl pkcs12 -in pass.p12 -clcerts -nokeys -out signer_cert.pem\nbase64 -i signer_cert.pem | tr -d '\\n' > signer_cert_base64.txt\n\n# Extract the signer private key\nopenssl pkcs12 -in pass.p12 -nocerts -out signer_key.pem\nbase64 -i signer_key.pem | tr -d '\\n' > signer_key_base64.txt\n```\n\n5. Configure in Admin Settings [#5-configure-in-admin-settings]\n\nNavigate to `/admin/settings` and fill in the **Apple Wallet** section:\n\n* **Team ID** -- Your Apple Developer team identifier.\n* **Pass Type ID** -- The identifier you registered (e.g., `pass.com.yourdomain.linkden`).\n* **Custom QR URL** -- Optional URL for the QR code on the pass.\n\nPass Preview [#pass-preview]\n\nThe `wallet.generatePreview` API procedure returns your profile data, enabled link blocks, and QR URL for previewing how the pass will appear.\n\nAPI Reference [#api-reference]\n\n| Procedure                | Description                 |\n| ------------------------ | --------------------------- |\n| `wallet.getConfig`       | Get current wallet settings |\n| `wallet.updateConfig`    | Update wallet settings      |\n| `wallet.generatePreview` | Generate pass preview data  |\n\nSee [API Reference](/docs/reference/api) for the full procedure reference.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},38405,a=>{"use strict";var b=a.i(69819);let c={title:"Appearance",description:"Customize your LinkDen page with themes, colors, banners, verified badge, branding, and custom CSS."},d={contents:[{heading:"appearance",content:"The appearance page at /admin/appearance controls everything visual about your public link page. All changes use a preview-first workflow -- you can see the effect of each change in the live phone preview before publishing."},{heading:"preview-first-workflow",content:"The Appearance page uses a Publish / Discard model:"},{heading:"preview-first-workflow",content:"Make changes to any setting (theme, colors, banner, etc.)."},{heading:"preview-first-workflow",content:"See changes reflected instantly in the phone preview on the right."},{heading:"preview-first-workflow",content:"Click Publish to save all changes at once, or Discard to revert."},{heading:"preview-first-workflow",content:'The subtitle shows "Unsaved changes -- publish to go live" when you have pending changes, and "Your page is up to date" when everything is saved.'},{heading:"theme-presets",content:"Choose from 7 built-in themes, each available in dark and light variants (14 total). An auto mode follows the visitor's system preference."},{heading:"available-themes",content:"Theme"},{heading:"available-themes",content:"Color"},{heading:"available-themes",content:"Style"},{heading:"available-themes",content:"Default"},{heading:"available-themes",content:"Cyan (#0FACED)"},{heading:"available-themes",content:"Clean, modern, medium border radius"},{heading:"available-themes",content:"Corporate Classic"},{heading:"available-themes",content:"Navy (#1E3A5F)"},{heading:"available-themes",content:"Professional, subtle border radius"},{heading:"available-themes",content:"Corporate Modern"},{heading:"available-themes",content:"Teal (#0D9488)"},{heading:"available-themes",content:"Contemporary, balanced border radius"},{heading:"available-themes",content:"Hacker Terminal"},{heading:"available-themes",content:"Green (#16A34A)"},{heading:"available-themes",content:"Monospace-inspired, no border radius"},{heading:"available-themes",content:"Neon Cyber"},{heading:"available-themes",content:"Purple (#7C3AED)"},{heading:"available-themes",content:"Eye-catching, large border radius"},{heading:"available-themes",content:"Furry Pastel"},{heading:"available-themes",content:"Pink (#EC4899)"},{heading:"available-themes",content:"Warm, fully rounded corners"},{heading:"available-themes",content:"Furry Bold"},{heading:"available-themes",content:"Orange (#EA580C)"},{heading:"available-themes",content:"High energy, large border radius"},{heading:"available-themes",content:"Click any theme to select it. The color pickers update automatically to match the theme's palette."},{heading:"color-customization",content:"Override individual theme colors:"},{heading:"color-customization",content:"Primary color -- The main accent color used for buttons and interactive elements."},{heading:"color-customization",content:"Secondary color -- Supporting color for secondary elements."},{heading:"color-customization",content:"Accent color -- Highlight color for emphasis."},{heading:"color-customization",content:"Background color -- Override the page background."},{heading:"color-customization",content:"Colors are set via CSS custom properties (--ld-primary, --ld-secondary, etc.) and apply on top of the selected theme preset."},{heading:"default-color-mode",content:"Set the default color mode for visitors:"},{heading:"default-color-mode",content:"Light -- Forces the light variant."},{heading:"default-color-mode",content:"Dark -- Forces the dark variant."},{heading:"default-color-mode",content:"System -- Follows the visitor's OS preference."},{heading:"default-color-mode",content:"Visitors can always toggle between light and dark mode using the theme toggle button on the public page."},{heading:"banner",content:"Toggle a gradient banner that displays behind your avatar on the public page. When enabled, choose from themed banner presets that automatically adapt to your selected theme colors."},{heading:"banner",content:"The banner appears as a gradient strip at the top of your page, giving your profile a more distinctive look."},{heading:"verified-badge",content:"Toggle a blue checkmark badge that appears next to your display name on the public page. This is purely cosmetic and does not require any external verification."},{heading:"branding",content:"Control the whitelabel footer on your public page:"},{heading:"branding",content:"Show whitelabel footer -- Toggle the footer on/off."},{heading:"branding",content:'Custom Text -- Replace the default "Powered by LinkDen" text.'},{heading:"branding",content:"Custom Link -- Set a custom URL for the footer link."},{heading:"branding",content:"When disabled, no footer is shown at all. LinkDen is MIT licensed, so no attribution is required."},{heading:"custom-css",content:"For advanced customization, add custom CSS that is injected into your public page. This lets you override any theme variable or style, add animations, or implement completely unique designs."},{heading:"available-css-classes",content:"Class"},{heading:"available-css-classes",content:"Element"},{heading:"available-css-classes",content:".ld-page"},{heading:"available-css-classes",content:"Page container"},{heading:"available-css-classes",content:".ld-profile"},{heading:"available-css-classes",content:"Profile/header section"},{heading:"available-css-classes",content:".ld-avatar"},{heading:"available-css-classes",content:"Profile avatar"},{heading:"available-css-classes",content:".ld-bio"},{heading:"available-css-classes",content:"Bio text"},{heading:"available-css-classes",content:".ld-blocks"},{heading:"available-css-classes",content:"Blocks container"},{heading:"available-css-classes",content:".ld-link-block"},{heading:"available-css-classes",content:"Link buttons"},{heading:"available-css-classes",content:".ld-header-block"},{heading:"available-css-classes",content:"Header/divider blocks"},{heading:"available-css-classes",content:".ld-social-block"},{heading:"available-css-classes",content:"Social icons row"},{heading:"available-css-classes",content:".ld-embed-block"},{heading:"available-css-classes",content:"Embed blocks"},{heading:"available-css-classes",content:".ld-contact-block"},{heading:"available-css-classes",content:"Contact form"},{heading:"available-css-classes",content:".ld-footer"},{heading:"available-css-classes",content:"Branding footer"},{heading:"css-variables",content:"Variable"},{heading:"css-variables",content:"Description"},{heading:"css-variables",content:"--ld-primary"},{heading:"css-variables",content:"Primary accent color"},{heading:"css-variables",content:"--ld-secondary"},{heading:"css-variables",content:"Secondary color"},{heading:"css-variables",content:"--ld-accent"},{heading:"css-variables",content:"Accent color for highlights"},{heading:"css-variables",content:"--ld-action"},{heading:"css-variables",content:"Action/button color"},{heading:"css-variables",content:"--ld-background"},{heading:"css-variables",content:"Page background"},{heading:"css-variables",content:"--ld-foreground"},{heading:"css-variables",content:"Main text color"},{heading:"css-variables",content:"--ld-card"},{heading:"css-variables",content:"Card background"},{heading:"css-variables",content:"--ld-card-foreground"},{heading:"css-variables",content:"Card text color"},{heading:"css-variables",content:"--ld-border"},{heading:"css-variables",content:"Border color"},{heading:"css-variables",content:"--ld-muted"},{heading:"css-variables",content:"Muted background"},{heading:"css-variables",content:"--ld-muted-foreground"},{heading:"css-variables",content:"Muted text color"},{heading:"css-variables",content:"--ld-radius"},{heading:"css-variables",content:"Border radius"},{heading:"dark--light-mode-toggle",content:"Visitors to your public page can switch between dark and light mode using the theme toggle button. The initial mode is determined by:"},{heading:"dark--light-mode-toggle",content:"The visitor's saved preference (stored in localStorage)."},{heading:"dark--light-mode-toggle",content:"Your site's default color mode setting."},{heading:"dark--light-mode-toggle",content:'The visitor\'s OS-level color scheme preference if "system" is selected.'}],headings:[{id:"appearance",content:"Appearance"},{id:"preview-first-workflow",content:"Preview-First Workflow"},{id:"theme-presets",content:"Theme Presets"},{id:"available-themes",content:"Available Themes"},{id:"color-customization",content:"Color Customization"},{id:"default-color-mode",content:"Default Color Mode"},{id:"banner",content:"Banner"},{id:"verified-badge",content:"Verified Badge"},{id:"branding",content:"Branding"},{id:"custom-css",content:"Custom CSS"},{id:"available-css-classes",content:"Available CSS Classes"},{id:"css-variables",content:"CSS Variables"},{id:"example",content:"Example"},{id:"dark--light-mode-toggle",content:"Dark / Light Mode Toggle"}]},e=[{depth:1,url:"#appearance",title:(0,b.jsx)(b.Fragment,{children:"Appearance"})},{depth:2,url:"#preview-first-workflow",title:(0,b.jsx)(b.Fragment,{children:"Preview-First Workflow"})},{depth:2,url:"#theme-presets",title:(0,b.jsx)(b.Fragment,{children:"Theme Presets"})},{depth:3,url:"#available-themes",title:(0,b.jsx)(b.Fragment,{children:"Available Themes"})},{depth:2,url:"#color-customization",title:(0,b.jsx)(b.Fragment,{children:"Color Customization"})},{depth:2,url:"#default-color-mode",title:(0,b.jsx)(b.Fragment,{children:"Default Color Mode"})},{depth:2,url:"#banner",title:(0,b.jsx)(b.Fragment,{children:"Banner"})},{depth:2,url:"#verified-badge",title:(0,b.jsx)(b.Fragment,{children:"Verified Badge"})},{depth:2,url:"#branding",title:(0,b.jsx)(b.Fragment,{children:"Branding"})},{depth:2,url:"#custom-css",title:(0,b.jsx)(b.Fragment,{children:"Custom CSS"})},{depth:3,url:"#available-css-classes",title:(0,b.jsx)(b.Fragment,{children:"Available CSS Classes"})},{depth:3,url:"#css-variables",title:(0,b.jsx)(b.Fragment,{children:"CSS Variables"})},{depth:3,url:"#example",title:(0,b.jsx)(b.Fragment,{children:"Example"})},{depth:2,url:"#dark--light-mode-toggle",title:(0,b.jsx)(b.Fragment,{children:"Dark / Light Mode Toggle"})}];function f(a){let c={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"appearance",children:"Appearance"}),"\n",(0,b.jsxs)(c.p,{children:["The appearance page at ",(0,b.jsx)(c.code,{children:"/admin/appearance"})," controls everything visual about your public link page. All changes use a preview-first workflow -- you can see the effect of each change in the live phone preview before publishing."]}),"\n",(0,b.jsx)(c.h2,{id:"preview-first-workflow",children:"Preview-First Workflow"}),"\n",(0,b.jsxs)(c.p,{children:["The Appearance page uses a ",(0,b.jsx)(c.strong,{children:"Publish / Discard"})," model:"]}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsx)(c.li,{children:"Make changes to any setting (theme, colors, banner, etc.)."}),"\n",(0,b.jsx)(c.li,{children:"See changes reflected instantly in the phone preview on the right."}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Publish"})," to save all changes at once, or ",(0,b.jsx)(c.strong,{children:"Discard"})," to revert."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:'The subtitle shows "Unsaved changes -- publish to go live" when you have pending changes, and "Your page is up to date" when everything is saved.'}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"theme-presets",children:"Theme Presets"}),"\n",(0,b.jsx)(c.p,{children:"Choose from 7 built-in themes, each available in dark and light variants (14 total). An auto mode follows the visitor's system preference."}),"\n",(0,b.jsx)(c.h3,{id:"available-themes",children:"Available Themes"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Theme"}),(0,b.jsx)(c.th,{children:"Color"}),(0,b.jsx)(c.th,{children:"Style"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Default"})}),(0,b.jsxs)(c.td,{children:["Cyan (",(0,b.jsx)(c.code,{children:"#0FACED"}),")"]}),(0,b.jsx)(c.td,{children:"Clean, modern, medium border radius"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Corporate Classic"})}),(0,b.jsxs)(c.td,{children:["Navy (",(0,b.jsx)(c.code,{children:"#1E3A5F"}),")"]}),(0,b.jsx)(c.td,{children:"Professional, subtle border radius"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Corporate Modern"})}),(0,b.jsxs)(c.td,{children:["Teal (",(0,b.jsx)(c.code,{children:"#0D9488"}),")"]}),(0,b.jsx)(c.td,{children:"Contemporary, balanced border radius"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Hacker Terminal"})}),(0,b.jsxs)(c.td,{children:["Green (",(0,b.jsx)(c.code,{children:"#16A34A"}),")"]}),(0,b.jsx)(c.td,{children:"Monospace-inspired, no border radius"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Neon Cyber"})}),(0,b.jsxs)(c.td,{children:["Purple (",(0,b.jsx)(c.code,{children:"#7C3AED"}),")"]}),(0,b.jsx)(c.td,{children:"Eye-catching, large border radius"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Furry Pastel"})}),(0,b.jsxs)(c.td,{children:["Pink (",(0,b.jsx)(c.code,{children:"#EC4899"}),")"]}),(0,b.jsx)(c.td,{children:"Warm, fully rounded corners"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Furry Bold"})}),(0,b.jsxs)(c.td,{children:["Orange (",(0,b.jsx)(c.code,{children:"#EA580C"}),")"]}),(0,b.jsx)(c.td,{children:"High energy, large border radius"})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"Click any theme to select it. The color pickers update automatically to match the theme's palette."}),"\n",(0,b.jsx)(c.h2,{id:"color-customization",children:"Color Customization"}),"\n",(0,b.jsx)(c.p,{children:"Override individual theme colors:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Primary color"})," -- The main accent color used for buttons and interactive elements."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Secondary color"})," -- Supporting color for secondary elements."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Accent color"})," -- Highlight color for emphasis."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Background color"})," -- Override the page background."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Colors are set via CSS custom properties (",(0,b.jsx)(c.code,{children:"--ld-primary"}),", ",(0,b.jsx)(c.code,{children:"--ld-secondary"}),", etc.) and apply on top of the selected theme preset."]}),"\n",(0,b.jsx)(c.h2,{id:"default-color-mode",children:"Default Color Mode"}),"\n",(0,b.jsx)(c.p,{children:"Set the default color mode for visitors:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Light"})," -- Forces the light variant."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Dark"})," -- Forces the dark variant."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"System"})," -- Follows the visitor's OS preference."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Visitors can always toggle between light and dark mode using the theme toggle button on the public page."}),"\n",(0,b.jsx)(c.h2,{id:"banner",children:"Banner"}),"\n",(0,b.jsx)(c.p,{children:"Toggle a gradient banner that displays behind your avatar on the public page. When enabled, choose from themed banner presets that automatically adapt to your selected theme colors."}),"\n",(0,b.jsx)(c.p,{children:"The banner appears as a gradient strip at the top of your page, giving your profile a more distinctive look."}),"\n",(0,b.jsx)(c.h2,{id:"verified-badge",children:"Verified Badge"}),"\n",(0,b.jsx)(c.p,{children:"Toggle a blue checkmark badge that appears next to your display name on the public page. This is purely cosmetic and does not require any external verification."}),"\n",(0,b.jsx)(c.h2,{id:"branding",children:"Branding"}),"\n",(0,b.jsx)(c.p,{children:"Control the whitelabel footer on your public page:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Show whitelabel footer"})," -- Toggle the footer on/off."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Custom Text"}),' -- Replace the default "Powered by LinkDen" text.']}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Custom Link"})," -- Set a custom URL for the footer link."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"When disabled, no footer is shown at all. LinkDen is MIT licensed, so no attribution is required."}),"\n",(0,b.jsx)(c.h2,{id:"custom-css",children:"Custom CSS"}),"\n",(0,b.jsx)(c.p,{children:"For advanced customization, add custom CSS that is injected into your public page. This lets you override any theme variable or style, add animations, or implement completely unique designs."}),"\n",(0,b.jsx)(c.h3,{id:"available-css-classes",children:"Available CSS Classes"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Class"}),(0,b.jsx)(c.th,{children:"Element"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-page"})}),(0,b.jsx)(c.td,{children:"Page container"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-profile"})}),(0,b.jsx)(c.td,{children:"Profile/header section"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-avatar"})}),(0,b.jsx)(c.td,{children:"Profile avatar"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-bio"})}),(0,b.jsx)(c.td,{children:"Bio text"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-blocks"})}),(0,b.jsx)(c.td,{children:"Blocks container"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-link-block"})}),(0,b.jsx)(c.td,{children:"Link buttons"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-header-block"})}),(0,b.jsx)(c.td,{children:"Header/divider blocks"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-social-block"})}),(0,b.jsx)(c.td,{children:"Social icons row"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-embed-block"})}),(0,b.jsx)(c.td,{children:"Embed blocks"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-contact-block"})}),(0,b.jsx)(c.td,{children:"Contact form"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:".ld-footer"})}),(0,b.jsx)(c.td,{children:"Branding footer"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"css-variables",children:"CSS Variables"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-primary"})}),(0,b.jsx)(c.td,{children:"Primary accent color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-secondary"})}),(0,b.jsx)(c.td,{children:"Secondary color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-accent"})}),(0,b.jsx)(c.td,{children:"Accent color for highlights"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-action"})}),(0,b.jsx)(c.td,{children:"Action/button color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-background"})}),(0,b.jsx)(c.td,{children:"Page background"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-foreground"})}),(0,b.jsx)(c.td,{children:"Main text color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-card"})}),(0,b.jsx)(c.td,{children:"Card background"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-card-foreground"})}),(0,b.jsx)(c.td,{children:"Card text color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-border"})}),(0,b.jsx)(c.td,{children:"Border color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-muted"})}),(0,b.jsx)(c.td,{children:"Muted background"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-muted-foreground"})}),(0,b.jsx)(c.td,{children:"Muted text color"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"--ld-radius"})}),(0,b.jsx)(c.td,{children:"Border radius"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"example",children:"Example"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"/* Round all link blocks */"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:".ld-link-block"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  border-radius"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"20"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"px"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,b.jsx)(c.span,{className:"line"}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"/* Custom gradient background */"})}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:".ld-page"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  background"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"linear-gradient"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"135"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"deg"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"var"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"--ld-primary"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"), "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"var"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"--ld-accent"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"));"})]}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"dark--light-mode-toggle",children:"Dark / Light Mode Toggle"}),"\n",(0,b.jsx)(c.p,{children:"Visitors to your public page can switch between dark and light mode using the theme toggle button. The initial mode is determined by:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["The visitor's saved preference (stored in ",(0,b.jsx)(c.code,{children:"localStorage"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"Your site's default color mode setting."}),"\n",(0,b.jsx)(c.li,{children:'The visitor\'s OS-level color scheme preference if "system" is selected.'}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nAppearance [#appearance]\n\nThe appearance page at `/admin/appearance` controls everything visual about your public link page. All changes use a preview-first workflow -- you can see the effect of each change in the live phone preview before publishing.\n\nPreview-First Workflow [#preview-first-workflow]\n\nThe Appearance page uses a **Publish / Discard** model:\n\n1. Make changes to any setting (theme, colors, banner, etc.).\n2. See changes reflected instantly in the phone preview on the right.\n3. Click **Publish** to save all changes at once, or **Discard** to revert.\n\nThe subtitle shows "Unsaved changes -- publish to go live" when you have pending changes, and "Your page is up to date" when everything is saved.\n\n***\n\nTheme Presets [#theme-presets]\n\nChoose from 7 built-in themes, each available in dark and light variants (14 total). An auto mode follows the visitor\'s system preference.\n\nAvailable Themes [#available-themes]\n\n| Theme                 | Color              | Style                                |\n| --------------------- | ------------------ | ------------------------------------ |\n| **Default**           | Cyan (`#0FACED`)   | Clean, modern, medium border radius  |\n| **Corporate Classic** | Navy (`#1E3A5F`)   | Professional, subtle border radius   |\n| **Corporate Modern**  | Teal (`#0D9488`)   | Contemporary, balanced border radius |\n| **Hacker Terminal**   | Green (`#16A34A`)  | Monospace-inspired, no border radius |\n| **Neon Cyber**        | Purple (`#7C3AED`) | Eye-catching, large border radius    |\n| **Furry Pastel**      | Pink (`#EC4899`)   | Warm, fully rounded corners          |\n| **Furry Bold**        | Orange (`#EA580C`) | High energy, large border radius     |\n\nClick any theme to select it. The color pickers update automatically to match the theme\'s palette.\n\nColor Customization [#color-customization]\n\nOverride individual theme colors:\n\n* **Primary color** -- The main accent color used for buttons and interactive elements.\n* **Secondary color** -- Supporting color for secondary elements.\n* **Accent color** -- Highlight color for emphasis.\n* **Background color** -- Override the page background.\n\nColors are set via CSS custom properties (`--ld-primary`, `--ld-secondary`, etc.) and apply on top of the selected theme preset.\n\nDefault Color Mode [#default-color-mode]\n\nSet the default color mode for visitors:\n\n* **Light** -- Forces the light variant.\n* **Dark** -- Forces the dark variant.\n* **System** -- Follows the visitor\'s OS preference.\n\nVisitors can always toggle between light and dark mode using the theme toggle button on the public page.\n\nBanner [#banner]\n\nToggle a gradient banner that displays behind your avatar on the public page. When enabled, choose from themed banner presets that automatically adapt to your selected theme colors.\n\nThe banner appears as a gradient strip at the top of your page, giving your profile a more distinctive look.\n\nVerified Badge [#verified-badge]\n\nToggle a blue checkmark badge that appears next to your display name on the public page. This is purely cosmetic and does not require any external verification.\n\nBranding [#branding]\n\nControl the whitelabel footer on your public page:\n\n* **Show whitelabel footer** -- Toggle the footer on/off.\n* **Custom Text** -- Replace the default "Powered by LinkDen" text.\n* **Custom Link** -- Set a custom URL for the footer link.\n\nWhen disabled, no footer is shown at all. LinkDen is MIT licensed, so no attribution is required.\n\nCustom CSS [#custom-css]\n\nFor advanced customization, add custom CSS that is injected into your public page. This lets you override any theme variable or style, add animations, or implement completely unique designs.\n\nAvailable CSS Classes [#available-css-classes]\n\n| Class               | Element                |\n| ------------------- | ---------------------- |\n| `.ld-page`          | Page container         |\n| `.ld-profile`       | Profile/header section |\n| `.ld-avatar`        | Profile avatar         |\n| `.ld-bio`           | Bio text               |\n| `.ld-blocks`        | Blocks container       |\n| `.ld-link-block`    | Link buttons           |\n| `.ld-header-block`  | Header/divider blocks  |\n| `.ld-social-block`  | Social icons row       |\n| `.ld-embed-block`   | Embed blocks           |\n| `.ld-contact-block` | Contact form           |\n| `.ld-footer`        | Branding footer        |\n\nCSS Variables [#css-variables]\n\n| Variable                | Description                 |\n| ----------------------- | --------------------------- |\n| `--ld-primary`          | Primary accent color        |\n| `--ld-secondary`        | Secondary color             |\n| `--ld-accent`           | Accent color for highlights |\n| `--ld-action`           | Action/button color         |\n| `--ld-background`       | Page background             |\n| `--ld-foreground`       | Main text color             |\n| `--ld-card`             | Card background             |\n| `--ld-card-foreground`  | Card text color             |\n| `--ld-border`           | Border color                |\n| `--ld-muted`            | Muted background            |\n| `--ld-muted-foreground` | Muted text color            |\n| `--ld-radius`           | Border radius               |\n\nExample [#example]\n\n```css\n/* Round all link blocks */\n.ld-link-block {\n  border-radius: 20px;\n}\n\n/* Custom gradient background */\n.ld-page {\n  background: linear-gradient(135deg, var(--ld-primary), var(--ld-accent));\n}\n```\n\nDark / Light Mode Toggle [#dark--light-mode-toggle]\n\nVisitors to your public page can switch between dark and light mode using the theme toggle button. The initial mode is determined by:\n\n1. The visitor\'s saved preference (stored in `localStorage`).\n2. Your site\'s default color mode setting.\n3. The visitor\'s OS-level color scheme preference if "system" is selected.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},89989,a=>{"use strict";var b=a.i(69819);let c={title:"Analytics",description:"Track page views, link clicks, referrers, and visitor countries with the built-in privacy-friendly analytics."},d={contents:[{heading:"analytics",content:"LinkDen includes a built-in analytics dashboard at /admin/analytics that tracks visitor activity without relying on third-party services."},{heading:"period-selector",content:"Filter all analytics data by time period:"},{heading:"period-selector",content:"7 days (default)"},{heading:"period-selector",content:"30 days"},{heading:"period-selector",content:"90 days"},{heading:"period-selector",content:"All queries re-run when the period changes."},{heading:"stat-cards",content:"Two summary cards displayed in a 2-column grid:"},{heading:"stat-cards",content:"Card"},{heading:"stat-cards",content:"Icon"},{heading:"stat-cards",content:"Description"},{heading:"stat-cards",content:"Total Views"},{heading:"stat-cards",content:"Eye (blue)"},{heading:"stat-cards",content:"Page views for the selected period"},{heading:"stat-cards",content:"Total Clicks"},{heading:"stat-cards",content:"MousePointerClick (green)"},{heading:"stat-cards",content:"Link clicks for the selected period"},{heading:"views-over-time",content:'A bar chart showing daily page views for the selected period. Bars highlight on hover and show the count. Date labels display month and day (e.g., "Feb 23").'},{heading:"bottom-grid",content:"Three cards in a 3-column layout (stacks to 1 column on mobile):"},{heading:"bottom-grid",content:"Card"},{heading:"bottom-grid",content:"Description"},{heading:"bottom-grid",content:"Limit"},{heading:"bottom-grid",content:"Top Links"},{heading:"bottom-grid",content:"Block title, URL, and click count ranked by clicks"},{heading:"bottom-grid",content:"Top 10"},{heading:"bottom-grid",content:"Referrers"},{heading:"bottom-grid",content:'Referrer domain and count ("Direct" for null referrers)'},{heading:"bottom-grid",content:"Top 10"},{heading:"bottom-grid",content:"Countries"},{heading:"bottom-grid",content:"Country name and visit count"},{heading:"bottom-grid",content:"Top 20"},{heading:"page-views",content:"Every visit to your public link page is recorded with:"},{heading:"page-views",content:"Timestamp"},{heading:"page-views",content:"Referrer URL"},{heading:"page-views",content:"User agent"},{heading:"page-views",content:"Country (from Cloudflare CF-IPCountry header)"},{heading:"link-clicks",content:"Every click on a link block is tracked with:"},{heading:"link-clicks",content:"Block ID"},{heading:"link-clicks",content:"Referrer URL"},{heading:"link-clicks",content:"User agent"},{heading:"link-clicks",content:"Country"},{heading:"privacy",content:"LinkDen's analytics are privacy-focused:"},{heading:"privacy",content:"No cookies are set for tracking."},{heading:"privacy",content:"No IP addresses are stored. Country data comes from the Cloudflare header."},{heading:"privacy",content:"No third-party scripts are loaded on the public page."},{heading:"privacy",content:"No fingerprinting techniques are used."},{heading:"privacy",content:"Data is stored in your own D1 database, not sent to any external service."},{heading:"dashboard-on-home-page",content:"The admin dashboard at /admin also shows a mini bar chart with views over the last 7 days, plus 3 stat cards (total views, total clicks, unread contacts). The full analytics page provides more detailed breakdowns."},{heading:"data-retention",content:"Analytics data is stored indefinitely in your D1 database. Use the export feature in settings to back up data if needed."}],headings:[{id:"analytics",content:"Analytics"},{id:"dashboard",content:"Dashboard"},{id:"period-selector",content:"Period Selector"},{id:"stat-cards",content:"Stat Cards"},{id:"views-over-time",content:"Views Over Time"},{id:"bottom-grid",content:"Bottom Grid"},{id:"what-is-tracked",content:"What is Tracked"},{id:"page-views",content:"Page Views"},{id:"link-clicks",content:"Link Clicks"},{id:"privacy",content:"Privacy"},{id:"dashboard-on-home-page",content:"Dashboard on Home Page"},{id:"data-retention",content:"Data Retention"}]},e=[{depth:1,url:"#analytics",title:(0,b.jsx)(b.Fragment,{children:"Analytics"})},{depth:2,url:"#dashboard",title:(0,b.jsx)(b.Fragment,{children:"Dashboard"})},{depth:3,url:"#period-selector",title:(0,b.jsx)(b.Fragment,{children:"Period Selector"})},{depth:3,url:"#stat-cards",title:(0,b.jsx)(b.Fragment,{children:"Stat Cards"})},{depth:3,url:"#views-over-time",title:(0,b.jsx)(b.Fragment,{children:"Views Over Time"})},{depth:3,url:"#bottom-grid",title:(0,b.jsx)(b.Fragment,{children:"Bottom Grid"})},{depth:2,url:"#what-is-tracked",title:(0,b.jsx)(b.Fragment,{children:"What is Tracked"})},{depth:3,url:"#page-views",title:(0,b.jsx)(b.Fragment,{children:"Page Views"})},{depth:3,url:"#link-clicks",title:(0,b.jsx)(b.Fragment,{children:"Link Clicks"})},{depth:2,url:"#privacy",title:(0,b.jsx)(b.Fragment,{children:"Privacy"})},{depth:2,url:"#dashboard-on-home-page",title:(0,b.jsx)(b.Fragment,{children:"Dashboard on Home Page"})},{depth:2,url:"#data-retention",title:(0,b.jsx)(b.Fragment,{children:"Data Retention"})}];function f(a){let c={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"analytics",children:"Analytics"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen includes a built-in analytics dashboard at ",(0,b.jsx)(c.code,{children:"/admin/analytics"})," that tracks visitor activity without relying on third-party services."]}),"\n",(0,b.jsx)(c.h2,{id:"dashboard",children:"Dashboard"}),"\n",(0,b.jsx)(c.h3,{id:"period-selector",children:"Period Selector"}),"\n",(0,b.jsx)(c.p,{children:"Filter all analytics data by time period:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"7 days"})," (default)"]}),"\n",(0,b.jsx)(c.li,{children:(0,b.jsx)(c.strong,{children:"30 days"})}),"\n",(0,b.jsx)(c.li,{children:(0,b.jsx)(c.strong,{children:"90 days"})}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"All queries re-run when the period changes."}),"\n",(0,b.jsx)(c.h3,{id:"stat-cards",children:"Stat Cards"}),"\n",(0,b.jsx)(c.p,{children:"Two summary cards displayed in a 2-column grid:"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Card"}),(0,b.jsx)(c.th,{children:"Icon"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Total Views"}),(0,b.jsx)(c.td,{children:"Eye (blue)"}),(0,b.jsx)(c.td,{children:"Page views for the selected period"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Total Clicks"}),(0,b.jsx)(c.td,{children:"MousePointerClick (green)"}),(0,b.jsx)(c.td,{children:"Link clicks for the selected period"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"views-over-time",children:"Views Over Time"}),"\n",(0,b.jsx)(c.p,{children:'A bar chart showing daily page views for the selected period. Bars highlight on hover and show the count. Date labels display month and day (e.g., "Feb 23").'}),"\n",(0,b.jsx)(c.h3,{id:"bottom-grid",children:"Bottom Grid"}),"\n",(0,b.jsx)(c.p,{children:"Three cards in a 3-column layout (stacks to 1 column on mobile):"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Card"}),(0,b.jsx)(c.th,{children:"Description"}),(0,b.jsx)(c.th,{children:"Limit"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Top Links"})}),(0,b.jsx)(c.td,{children:"Block title, URL, and click count ranked by clicks"}),(0,b.jsx)(c.td,{children:"Top 10"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Referrers"})}),(0,b.jsx)(c.td,{children:'Referrer domain and count ("Direct" for null referrers)'}),(0,b.jsx)(c.td,{children:"Top 10"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Countries"})}),(0,b.jsx)(c.td,{children:"Country name and visit count"}),(0,b.jsx)(c.td,{children:"Top 20"})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"what-is-tracked",children:"What is Tracked"}),"\n",(0,b.jsx)(c.h3,{id:"page-views",children:"Page Views"}),"\n",(0,b.jsx)(c.p,{children:"Every visit to your public link page is recorded with:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Timestamp"}),"\n",(0,b.jsx)(c.li,{children:"Referrer URL"}),"\n",(0,b.jsx)(c.li,{children:"User agent"}),"\n",(0,b.jsxs)(c.li,{children:["Country (from Cloudflare ",(0,b.jsx)(c.code,{children:"CF-IPCountry"})," header)"]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"link-clicks",children:"Link Clicks"}),"\n",(0,b.jsx)(c.p,{children:"Every click on a link block is tracked with:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Block ID"}),"\n",(0,b.jsx)(c.li,{children:"Referrer URL"}),"\n",(0,b.jsx)(c.li,{children:"User agent"}),"\n",(0,b.jsx)(c.li,{children:"Country"}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"privacy",children:"Privacy"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen's analytics are privacy-focused:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"No cookies"})," are set for tracking."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"No IP addresses"})," are stored. Country data comes from the Cloudflare header."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"No third-party scripts"})," are loaded on the public page."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"No fingerprinting"})," techniques are used."]}),"\n",(0,b.jsx)(c.li,{children:"Data is stored in your own D1 database, not sent to any external service."}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"dashboard-on-home-page",children:"Dashboard on Home Page"}),"\n",(0,b.jsxs)(c.p,{children:["The admin dashboard at ",(0,b.jsx)(c.code,{children:"/admin"})," also shows a mini bar chart with views over the last 7 days, plus 3 stat cards (total views, total clicks, unread contacts). The full analytics page provides more detailed breakdowns."]}),"\n",(0,b.jsx)(c.h2,{id:"data-retention",children:"Data Retention"}),"\n",(0,b.jsx)(c.p,{children:"Analytics data is stored indefinitely in your D1 database. Use the export feature in settings to back up data if needed."})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nAnalytics [#analytics]\n\nLinkDen includes a built-in analytics dashboard at `/admin/analytics` that tracks visitor activity without relying on third-party services.\n\nDashboard [#dashboard]\n\nPeriod Selector [#period-selector]\n\nFilter all analytics data by time period:\n\n* **7 days** (default)\n* **30 days**\n* **90 days**\n\nAll queries re-run when the period changes.\n\nStat Cards [#stat-cards]\n\nTwo summary cards displayed in a 2-column grid:\n\n| Card         | Icon                      | Description                         |\n| ------------ | ------------------------- | ----------------------------------- |\n| Total Views  | Eye (blue)                | Page views for the selected period  |\n| Total Clicks | MousePointerClick (green) | Link clicks for the selected period |\n\nViews Over Time [#views-over-time]\n\nA bar chart showing daily page views for the selected period. Bars highlight on hover and show the count. Date labels display month and day (e.g., "Feb 23").\n\nBottom Grid [#bottom-grid]\n\nThree cards in a 3-column layout (stacks to 1 column on mobile):\n\n| Card          | Description                                             | Limit  |\n| ------------- | ------------------------------------------------------- | ------ |\n| **Top Links** | Block title, URL, and click count ranked by clicks      | Top 10 |\n| **Referrers** | Referrer domain and count ("Direct" for null referrers) | Top 10 |\n| **Countries** | Country name and visit count                            | Top 20 |\n\nWhat is Tracked [#what-is-tracked]\n\nPage Views [#page-views]\n\nEvery visit to your public link page is recorded with:\n\n* Timestamp\n* Referrer URL\n* User agent\n* Country (from Cloudflare `CF-IPCountry` header)\n\nLink Clicks [#link-clicks]\n\nEvery click on a link block is tracked with:\n\n* Block ID\n* Referrer URL\n* User agent\n* Country\n\nPrivacy [#privacy]\n\nLinkDen\'s analytics are privacy-focused:\n\n* **No cookies** are set for tracking.\n* **No IP addresses** are stored. Country data comes from the Cloudflare header.\n* **No third-party scripts** are loaded on the public page.\n* **No fingerprinting** techniques are used.\n* Data is stored in your own D1 database, not sent to any external service.\n\nDashboard on Home Page [#dashboard-on-home-page]\n\nThe admin dashboard at `/admin` also shows a mini bar chart with views over the last 7 days, plus 3 stat cards (total views, total clicks, unread contacts). The full analytics page provides more detailed breakdowns.\n\nData Retention [#data-retention]\n\nAnalytics data is stored indefinitely in your D1 database. Use the export feature in settings to back up data if needed.\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},20871,a=>{"use strict";var b=a.i(69819);let c={title:"Quick Start",description:"Get your LinkDen instance set up and publishing your first links in minutes."},d={contents:[{heading:"quick-start",content:"This guide walks you through the first-time setup of a LinkDen instance. If you have not yet installed LinkDen, see the Installation guide first."},{heading:"1-run-the-setup-wizard",content:"Navigate to /admin/setup on your LinkDen instance (e.g., http://localhost:3001/admin/setup)."},{heading:"1-run-the-setup-wizard",content:"The setup wizard walks you through 4 steps:"},{heading:"step-1-account",content:"Create your admin account with Better Auth (email/password):"},{heading:"step-1-account",content:"Name -- Your display name (required)."},{heading:"step-1-account",content:"Email -- Your email address for sign-in (required)."},{heading:"step-1-account",content:"Password -- Minimum 8 characters (required)."},{heading:"step-2-profile",content:"Set up your public profile:"},{heading:"step-2-profile",content:"Bio -- A short tagline or description (optional)."},{heading:"step-2-profile",content:"Avatar URL -- URL to your profile image (optional)."},{heading:"step-2-profile",content:"Both fields can be skipped and configured later in settings."},{heading:"step-3-theme",content:"Choose a theme preset from the 7 available themes. Each theme is shown as a card with two color swatches. Click any theme to select it."},{heading:"step-4-done",content:'A confirmation screen with a "Go to Builder" button that redirects to /admin/builder.'},{heading:"2-add-your-first-blocks",content:"The block builder at /admin/builder uses a two-panel layout:"},{heading:"2-add-your-first-blocks",content:'Left panel -- Your block list with an "Add Block" dropdown button.'},{heading:"2-add-your-first-blocks",content:"Right panel -- A live phone preview (visible on larger screens)."},{heading:"2-add-your-first-blocks",content:"Click Add Block to see the 5 block types:"},{heading:"2-add-your-first-blocks",content:"Block Type"},{heading:"2-add-your-first-blocks",content:"Description"},{heading:"2-add-your-first-blocks",content:"Link"},{heading:"2-add-your-first-blocks",content:"A clickable button linking to an external URL"},{heading:"2-add-your-first-blocks",content:"Header"},{heading:"2-add-your-first-blocks",content:"A text heading to group or label sections"},{heading:"2-add-your-first-blocks",content:"Social Icons"},{heading:"2-add-your-first-blocks",content:"A row of social media icon links"},{heading:"2-add-your-first-blocks",content:"Embed"},{heading:"2-add-your-first-blocks",content:"Embed YouTube, Spotify, SoundCloud, or custom content"},{heading:"2-add-your-first-blocks",content:"Contact Form"},{heading:"2-add-your-first-blocks",content:"A contact form for visitors to message you"},{heading:"adding-a-link",content:"Click Add Block and select Link."},{heading:"adding-a-link",content:"In the edit panel that slides in, fill in:"},{heading:"adding-a-link",content:'Title -- The text shown on the button (e.g., "My Website").'},{heading:"adding-a-link",content:"URL -- The destination URL."},{heading:"adding-a-link",content:"Use the Style tab to configure icon, colors, border, and animation."},{heading:"adding-a-link",content:"Use the Schedule tab to set start/end dates for time-limited visibility."},{heading:"adding-a-link",content:"Click Save Changes."},{heading:"reordering-blocks",content:"Drag any block in the list using the grip handle to reorder. The order updates immediately via the blocks.reorder mutation."},{heading:"3-manage-social-icons",content:"Navigate to /admin/social to toggle which social networks are active. Active networks become available for use in Social Icons blocks. Search by name or filter to see only active networks."},{heading:"4-configure-settings",content:"Navigate to /admin/settings to configure your instance:"},{heading:"4-configure-settings",content:"Profile -- Display name, avatar, bio."},{heading:"4-configure-settings",content:"SEO -- Page title, meta description, OG image."},{heading:"4-configure-settings",content:"Contact Form -- Enable/disable, delivery mode (database only, email notification, or both)."},{heading:"4-configure-settings",content:"CAPTCHA -- Provider (none, Cloudflare Turnstile, Google reCAPTCHA) with site key and secret key."},{heading:"4-configure-settings",content:"Email -- Provider (Resend or Cloudflare Email Workers), API key, from address."},{heading:"4-configure-settings",content:"Export / Import -- Backup and restore data as JSON."},{heading:"4-configure-settings",content:"About -- Current version and update check."},{heading:"4-configure-settings",content:"Visual settings like themes, banner, verified badge, and branding are configured on the Appearance page at /admin/appearance."},{heading:"5-view-your-public-page",content:"Click View Page in the dashboard header (or navigate to your domain root) to see your live public link page."},{heading:"5-view-your-public-page",content:"Share this URL as your link-in-bio across social media profiles."},{heading:"next-steps",content:"Topic"},{heading:"next-steps",content:"Link"},{heading:"next-steps",content:"Block types and configuration"},{heading:"next-steps",content:"Blocks"},{heading:"next-steps",content:"Themes, colors, and branding"},{heading:"next-steps",content:"Appearance"},{heading:"next-steps",content:"Social network icons"},{heading:"next-steps",content:"Social Networks"},{heading:"next-steps",content:"Apple Wallet business card"},{heading:"next-steps",content:"Apple Wallet"},{heading:"next-steps",content:"Contact form setup"},{heading:"next-steps",content:"Contact Form"},{heading:"next-steps",content:"Analytics"},{heading:"next-steps",content:"Analytics"},{heading:"next-steps",content:"vCard digital business card"},{heading:"next-steps",content:"vCard"}],headings:[{id:"quick-start",content:"Quick Start"},{id:"1-run-the-setup-wizard",content:"1. Run the Setup Wizard"},{id:"step-1-account",content:"Step 1: Account"},{id:"step-2-profile",content:"Step 2: Profile"},{id:"step-3-theme",content:"Step 3: Theme"},{id:"step-4-done",content:"Step 4: Done"},{id:"2-add-your-first-blocks",content:"2. Add Your First Blocks"},{id:"adding-a-link",content:"Adding a Link"},{id:"reordering-blocks",content:"Reordering Blocks"},{id:"3-manage-social-icons",content:"3. Manage Social Icons"},{id:"4-configure-settings",content:"4. Configure Settings"},{id:"5-view-your-public-page",content:"5. View Your Public Page"},{id:"next-steps",content:"Next Steps"}]},e=[{depth:1,url:"#quick-start",title:(0,b.jsx)(b.Fragment,{children:"Quick Start"})},{depth:2,url:"#1-run-the-setup-wizard",title:(0,b.jsx)(b.Fragment,{children:"1. Run the Setup Wizard"})},{depth:3,url:"#step-1-account",title:(0,b.jsx)(b.Fragment,{children:"Step 1: Account"})},{depth:3,url:"#step-2-profile",title:(0,b.jsx)(b.Fragment,{children:"Step 2: Profile"})},{depth:3,url:"#step-3-theme",title:(0,b.jsx)(b.Fragment,{children:"Step 3: Theme"})},{depth:3,url:"#step-4-done",title:(0,b.jsx)(b.Fragment,{children:"Step 4: Done"})},{depth:2,url:"#2-add-your-first-blocks",title:(0,b.jsx)(b.Fragment,{children:"2. Add Your First Blocks"})},{depth:3,url:"#adding-a-link",title:(0,b.jsx)(b.Fragment,{children:"Adding a Link"})},{depth:3,url:"#reordering-blocks",title:(0,b.jsx)(b.Fragment,{children:"Reordering Blocks"})},{depth:2,url:"#3-manage-social-icons",title:(0,b.jsx)(b.Fragment,{children:"3. Manage Social Icons"})},{depth:2,url:"#4-configure-settings",title:(0,b.jsx)(b.Fragment,{children:"4. Configure Settings"})},{depth:2,url:"#5-view-your-public-page",title:(0,b.jsx)(b.Fragment,{children:"5. View Your Public Page"})},{depth:2,url:"#next-steps",title:(0,b.jsx)(b.Fragment,{children:"Next Steps"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"quick-start",children:"Quick Start"}),"\n",(0,b.jsxs)(c.p,{children:["This guide walks you through the first-time setup of a LinkDen instance. If you have not yet installed LinkDen, see the ",(0,b.jsx)(c.a,{href:"/docs/getting-started/installation",children:"Installation"})," guide first."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"1-run-the-setup-wizard",children:"1. Run the Setup Wizard"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/setup"})," on your LinkDen instance (e.g., ",(0,b.jsx)(c.code,{children:"http://localhost:3001/admin/setup"}),")."]}),"\n",(0,b.jsx)(c.p,{children:"The setup wizard walks you through 4 steps:"}),"\n",(0,b.jsx)(c.h3,{id:"step-1-account",children:"Step 1: Account"}),"\n",(0,b.jsx)(c.p,{children:"Create your admin account with Better Auth (email/password):"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Name"})," -- Your display name (required)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Email"})," -- Your email address for sign-in (required)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Password"})," -- Minimum 8 characters (required)."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"step-2-profile",children:"Step 2: Profile"}),"\n",(0,b.jsx)(c.p,{children:"Set up your public profile:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Bio"})," -- A short tagline or description (optional)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Avatar URL"})," -- URL to your profile image (optional)."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"Both fields can be skipped and configured later in settings."}),"\n",(0,b.jsx)(c.h3,{id:"step-3-theme",children:"Step 3: Theme"}),"\n",(0,b.jsx)(c.p,{children:"Choose a theme preset from the 7 available themes. Each theme is shown as a card with two color swatches. Click any theme to select it."}),"\n",(0,b.jsx)(c.h3,{id:"step-4-done",children:"Step 4: Done"}),"\n",(0,b.jsxs)(c.p,{children:['A confirmation screen with a "Go to Builder" button that redirects to ',(0,b.jsx)(c.code,{children:"/admin/builder"}),"."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"2-add-your-first-blocks",children:"2. Add Your First Blocks"}),"\n",(0,b.jsxs)(c.p,{children:["The block builder at ",(0,b.jsx)(c.code,{children:"/admin/builder"})," uses a two-panel layout:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Left panel"}),' -- Your block list with an "Add Block" dropdown button.']}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Right panel"})," -- A live phone preview (visible on larger screens)."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add Block"})," to see the 5 block types:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Block Type"}),(0,b.jsx)(c.th,{children:"Description"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Link"})}),(0,b.jsx)(c.td,{children:"A clickable button linking to an external URL"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Header"})}),(0,b.jsx)(c.td,{children:"A text heading to group or label sections"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Social Icons"})}),(0,b.jsx)(c.td,{children:"A row of social media icon links"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Embed"})}),(0,b.jsx)(c.td,{children:"Embed YouTube, Spotify, SoundCloud, or custom content"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.strong,{children:"Contact Form"})}),(0,b.jsx)(c.td,{children:"A contact form for visitors to message you"})]})]})]}),"\n",(0,b.jsx)(c.h3,{id:"adding-a-link",children:"Adding a Link"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Add Block"})," and select ",(0,b.jsx)(c.strong,{children:"Link"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["In the edit panel that slides in, fill in:","\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Title"}),' -- The text shown on the button (e.g., "My Website").']}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"URL"})," -- The destination URL."]}),"\n"]}),"\n"]}),"\n",(0,b.jsxs)(c.li,{children:["Use the ",(0,b.jsx)(c.strong,{children:"Style"})," tab to configure icon, colors, border, and animation."]}),"\n",(0,b.jsxs)(c.li,{children:["Use the ",(0,b.jsx)(c.strong,{children:"Schedule"})," tab to set start/end dates for time-limited visibility."]}),"\n",(0,b.jsxs)(c.li,{children:["Click ",(0,b.jsx)(c.strong,{children:"Save Changes"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"reordering-blocks",children:"Reordering Blocks"}),"\n",(0,b.jsxs)(c.p,{children:["Drag any block in the list using the grip handle to reorder. The order updates immediately via the ",(0,b.jsx)(c.code,{children:"blocks.reorder"})," mutation."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"3-manage-social-icons",children:"3. Manage Social Icons"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/social"})," to toggle which social networks are active. Active networks become available for use in ",(0,b.jsx)(c.strong,{children:"Social Icons"})," blocks. Search by name or filter to see only active networks."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"4-configure-settings",children:"4. Configure Settings"}),"\n",(0,b.jsxs)(c.p,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"/admin/settings"})," to configure your instance:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Profile"})," -- Display name, avatar, bio."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"SEO"})," -- Page title, meta description, OG image."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Contact Form"})," -- Enable/disable, delivery mode (database only, email notification, or both)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"CAPTCHA"})," -- Provider (none, Cloudflare Turnstile, Google reCAPTCHA) with site key and secret key."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Email"})," -- Provider (Resend or Cloudflare Email Workers), API key, from address."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Export / Import"})," -- Backup and restore data as JSON."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"About"})," -- Current version and update check."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Visual settings like themes, banner, verified badge, and branding are configured on the ",(0,b.jsx)(c.a,{href:"/docs/guide/appearance",children:"Appearance"})," page at ",(0,b.jsx)(c.code,{children:"/admin/appearance"}),"."]}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"5-view-your-public-page",children:"5. View Your Public Page"}),"\n",(0,b.jsxs)(c.p,{children:["Click ",(0,b.jsx)(c.strong,{children:"View Page"})," in the dashboard header (or navigate to your domain root) to see your live public link page."]}),"\n",(0,b.jsx)(c.p,{children:"Share this URL as your link-in-bio across social media profiles."}),"\n",(0,b.jsx)(c.hr,{}),"\n",(0,b.jsx)(c.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Topic"}),(0,b.jsx)(c.th,{children:"Link"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Block types and configuration"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/blocks",children:"Blocks"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Themes, colors, and branding"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/appearance",children:"Appearance"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Social network icons"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/social-networks",children:"Social Networks"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Apple Wallet business card"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/apple-wallet",children:"Apple Wallet"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Contact form setup"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/contact-form",children:"Contact Form"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Analytics"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/analytics",children:"Analytics"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"vCard digital business card"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.a,{href:"/docs/guide/vcard",children:"vCard"})})]})]})]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nQuick Start [#quick-start]\n\nThis guide walks you through the first-time setup of a LinkDen instance. If you have not yet installed LinkDen, see the [Installation](/docs/getting-started/installation) guide first.\n\n***\n\n1. Run the Setup Wizard [#1-run-the-setup-wizard]\n\nNavigate to `/admin/setup` on your LinkDen instance (e.g., `http://localhost:3001/admin/setup`).\n\nThe setup wizard walks you through 4 steps:\n\nStep 1: Account [#step-1-account]\n\nCreate your admin account with Better Auth (email/password):\n\n* **Name** -- Your display name (required).\n* **Email** -- Your email address for sign-in (required).\n* **Password** -- Minimum 8 characters (required).\n\nStep 2: Profile [#step-2-profile]\n\nSet up your public profile:\n\n* **Bio** -- A short tagline or description (optional).\n* **Avatar URL** -- URL to your profile image (optional).\n\nBoth fields can be skipped and configured later in settings.\n\nStep 3: Theme [#step-3-theme]\n\nChoose a theme preset from the 7 available themes. Each theme is shown as a card with two color swatches. Click any theme to select it.\n\nStep 4: Done [#step-4-done]\n\nA confirmation screen with a "Go to Builder" button that redirects to `/admin/builder`.\n\n***\n\n2. Add Your First Blocks [#2-add-your-first-blocks]\n\nThe block builder at `/admin/builder` uses a two-panel layout:\n\n* **Left panel** -- Your block list with an "Add Block" dropdown button.\n* **Right panel** -- A live phone preview (visible on larger screens).\n\nClick **Add Block** to see the 5 block types:\n\n| Block Type       | Description                                           |\n| ---------------- | ----------------------------------------------------- |\n| **Link**         | A clickable button linking to an external URL         |\n| **Header**       | A text heading to group or label sections             |\n| **Social Icons** | A row of social media icon links                      |\n| **Embed**        | Embed YouTube, Spotify, SoundCloud, or custom content |\n| **Contact Form** | A contact form for visitors to message you            |\n\nAdding a Link [#adding-a-link]\n\n1. Click **Add Block** and select **Link**.\n2. In the edit panel that slides in, fill in:\n   * **Title** -- The text shown on the button (e.g., "My Website").\n   * **URL** -- The destination URL.\n3. Use the **Style** tab to configure icon, colors, border, and animation.\n4. Use the **Schedule** tab to set start/end dates for time-limited visibility.\n5. Click **Save Changes**.\n\nReordering Blocks [#reordering-blocks]\n\nDrag any block in the list using the grip handle to reorder. The order updates immediately via the `blocks.reorder` mutation.\n\n***\n\n3. Manage Social Icons [#3-manage-social-icons]\n\nNavigate to `/admin/social` to toggle which social networks are active. Active networks become available for use in **Social Icons** blocks. Search by name or filter to see only active networks.\n\n***\n\n4. Configure Settings [#4-configure-settings]\n\nNavigate to `/admin/settings` to configure your instance:\n\n* **Profile** -- Display name, avatar, bio.\n* **SEO** -- Page title, meta description, OG image.\n* **Contact Form** -- Enable/disable, delivery mode (database only, email notification, or both).\n* **CAPTCHA** -- Provider (none, Cloudflare Turnstile, Google reCAPTCHA) with site key and secret key.\n* **Email** -- Provider (Resend or Cloudflare Email Workers), API key, from address.\n* **Export / Import** -- Backup and restore data as JSON.\n* **About** -- Current version and update check.\n\nVisual settings like themes, banner, verified badge, and branding are configured on the [Appearance](/docs/guide/appearance) page at `/admin/appearance`.\n\n***\n\n5. View Your Public Page [#5-view-your-public-page]\n\nClick **View Page** in the dashboard header (or navigate to your domain root) to see your live public link page.\n\nShare this URL as your link-in-bio across social media profiles.\n\n***\n\nNext Steps [#next-steps]\n\n| Topic                         | Link                                           |\n| ----------------------------- | ---------------------------------------------- |\n| Block types and configuration | [Blocks](/docs/guide/blocks)                   |\n| Themes, colors, and branding  | [Appearance](/docs/guide/appearance)           |\n| Social network icons          | [Social Networks](/docs/guide/social-networks) |\n| Apple Wallet business card    | [Apple Wallet](/docs/guide/apple-wallet)       |\n| Contact form setup            | [Contact Form](/docs/guide/contact-form)       |\n| Analytics                     | [Analytics](/docs/guide/analytics)             |\n| vCard digital business card   | [vCard](/docs/guide/vcard)                     |\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},27557,a=>{"use strict";var b=a.i(69819);let c={title:"Installation",description:"Clone the LinkDen repository and install dependencies to get your local development environment running."},d={contents:[{heading:"installation",content:"This guide walks you through setting up LinkDen on your local machine for development or preview before deploying to Cloudflare."},{heading:"prerequisites",content:"Before you begin, make sure you have the following installed:"},{heading:"prerequisites",content:"Node.js 22+ -- Download from nodejs.org or use a version manager like nvm or fnm."},{heading:"prerequisites",content:"pnpm 10+ -- LinkDen uses pnpm workspaces. Enable it via Corepack:"},{heading:"prerequisites",content:"Cloudflare account -- A free account at cloudflare.com is sufficient for development."},{heading:"install-dependencies",content:"Run pnpm install from the root of the monorepo. Turborepo and pnpm workspaces will handle installing dependencies for all apps and packages:"},{heading:"install-dependencies",content:"This installs dependencies for:"},{heading:"install-dependencies",content:"apps/web -- the Next.js frontend"},{heading:"install-dependencies",content:"apps/server -- the Hono API server"},{heading:"install-dependencies",content:"apps/docs -- this documentation site"},{heading:"install-dependencies",content:"packages/api -- tRPC router definitions"},{heading:"install-dependencies",content:"packages/auth -- Better Auth configuration"},{heading:"install-dependencies",content:"packages/db -- Drizzle ORM schema and migrations"},{heading:"install-dependencies",content:"packages/env -- shared environment variable validation"},{heading:"install-dependencies",content:"packages/ui -- shared UI components (Radix + Tailwind)"},{heading:"install-dependencies",content:"packages/validators -- shared Zod schemas"},{heading:"install-dependencies",content:"packages/infra -- Alchemy deployment configuration"},{heading:"set-up-environment-variables",content:"Copy the example environment file:"},{heading:"set-up-environment-variables",content:"Edit .env and set the following variables:"},{heading:"set-up-environment-variables",content:"Variable"},{heading:"set-up-environment-variables",content:"Description"},{heading:"set-up-environment-variables",content:"Example"},{heading:"set-up-environment-variables",content:"BETTER_AUTH_SECRET"},{heading:"set-up-environment-variables",content:"Secret key for session signing"},{heading:"set-up-environment-variables",content:"Generate with openssl rand -base64 32"},{heading:"set-up-environment-variables",content:"BETTER_AUTH_URL"},{heading:"set-up-environment-variables",content:"Base URL for the auth server"},{heading:"set-up-environment-variables",content:"http://localhost:3000"},{heading:"set-up-environment-variables",content:"CORS_ORIGIN"},{heading:"set-up-environment-variables",content:"Allowed CORS origin (frontend URL)"},{heading:"set-up-environment-variables",content:"http://localhost:3001"},{heading:"set-up-environment-variables",content:"NEXT_PUBLIC_SERVER_URL"},{heading:"set-up-environment-variables",content:"Public URL of the API server"},{heading:"set-up-environment-variables",content:"http://localhost:3000"},{heading:"set-up-environment-variables",content:"See the Configuration guide for details."},{heading:"push-database-schema",content:"LinkDen uses Cloudflare D1 (SQLite) with Drizzle ORM. Push the schema to your database:"},{heading:"start-the-development-servers",content:"This starts all apps in development mode via Turborepo:"},{heading:"start-the-development-servers",content:"Web app -- http://localhost:3001"},{heading:"start-the-development-servers",content:"API server -- http://localhost:3000"},{heading:"start-the-development-servers",content:"Docs -- http://localhost:3002"},{heading:"start-the-development-servers",content:"Open http://localhost:3001 in your browser."},{heading:"verify-the-installation",content:"Navigate to http://localhost:3001 -- you should see the public link page (empty by default)."},{heading:"verify-the-installation",content:"Navigate to http://localhost:3001/admin/setup -- you should see the setup wizard."},{heading:"verify-the-installation",content:"Complete the 4-step setup wizard (Account, Profile, Theme, Done)."},{heading:"verify-the-installation",content:"You should land on the block builder at /admin/builder."},{heading:"next-steps",content:"Quick Start -- Walk through the setup wizard and first-time configuration."},{heading:"next-steps",content:"Configuration -- Configure environment variables."},{heading:"next-steps",content:"Deployment -- Deploy your instance to Cloudflare."}],headings:[{id:"installation",content:"Installation"},{id:"prerequisites",content:"Prerequisites"},{id:"clone-the-repository",content:"Clone the Repository"},{id:"install-dependencies",content:"Install Dependencies"},{id:"set-up-environment-variables",content:"Set Up Environment Variables"},{id:"push-database-schema",content:"Push Database Schema"},{id:"start-the-development-servers",content:"Start the Development Servers"},{id:"verify-the-installation",content:"Verify the Installation"},{id:"next-steps",content:"Next Steps"}]},e=[{depth:1,url:"#installation",title:(0,b.jsx)(b.Fragment,{children:"Installation"})},{depth:2,url:"#prerequisites",title:(0,b.jsx)(b.Fragment,{children:"Prerequisites"})},{depth:2,url:"#clone-the-repository",title:(0,b.jsx)(b.Fragment,{children:"Clone the Repository"})},{depth:2,url:"#install-dependencies",title:(0,b.jsx)(b.Fragment,{children:"Install Dependencies"})},{depth:2,url:"#set-up-environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Set Up Environment Variables"})},{depth:2,url:"#push-database-schema",title:(0,b.jsx)(b.Fragment,{children:"Push Database Schema"})},{depth:2,url:"#start-the-development-servers",title:(0,b.jsx)(b.Fragment,{children:"Start the Development Servers"})},{depth:2,url:"#verify-the-installation",title:(0,b.jsx)(b.Fragment,{children:"Verify the Installation"})},{depth:2,url:"#next-steps",title:(0,b.jsx)(b.Fragment,{children:"Next Steps"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"installation",children:"Installation"}),"\n",(0,b.jsx)(c.p,{children:"This guide walks you through setting up LinkDen on your local machine for development or preview before deploying to Cloudflare."}),"\n",(0,b.jsx)(c.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,b.jsx)(c.p,{children:"Before you begin, make sure you have the following installed:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Node.js 22+"})," -- Download from ",(0,b.jsx)(c.a,{href:"https://nodejs.org",children:"nodejs.org"})," or use a version manager like ",(0,b.jsx)(c.code,{children:"nvm"})," or ",(0,b.jsx)(c.code,{children:"fnm"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"pnpm 10+"})," -- LinkDen uses pnpm workspaces. Enable it via Corepack:"]}),"\n"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"corepack"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" enable"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" && "}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"corepack"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" prepare"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pnpm@latest"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --activate"})]})})})}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Cloudflare account"})," -- A free account at ",(0,b.jsx)(c.a,{href:"https://cloudflare.com",children:"cloudflare.com"})," is sufficient for development."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"clone-the-repository",children:"Clone the Repository"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clone"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://github.com/mrdemonwolf/linkden.git"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" linkden"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,b.jsx)(c.p,{children:"Run pnpm install from the root of the monorepo. Turborepo and pnpm workspaces will handle installing dependencies for all apps and packages:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install"})]})})})}),"\n",(0,b.jsx)(c.p,{children:"This installs dependencies for:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"apps/web"})," -- the Next.js frontend"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"apps/server"})," -- the Hono API server"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"apps/docs"})," -- this documentation site"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/api"})," -- tRPC router definitions"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/auth"})," -- Better Auth configuration"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/db"})," -- Drizzle ORM schema and migrations"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/env"})," -- shared environment variable validation"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/ui"})," -- shared UI components (Radix + Tailwind)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/validators"})," -- shared Zod schemas"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"packages/infra"})," -- Alchemy deployment configuration"]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"set-up-environment-variables",children:"Set Up Environment Variables"}),"\n",(0,b.jsx)(c.p,{children:"Copy the example environment file:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env.example"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env"})]})})})}),"\n",(0,b.jsxs)(c.p,{children:["Edit ",(0,b.jsx)(c.code,{children:".env"})," and set the following variables:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Description"}),(0,b.jsx)(c.th,{children:"Example"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsx)(c.td,{children:"Secret key for session signing"}),(0,b.jsxs)(c.td,{children:["Generate with ",(0,b.jsx)(c.code,{children:"openssl rand -base64 32"})]})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsx)(c.td,{children:"Base URL for the auth server"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3000"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsx)(c.td,{children:"Allowed CORS origin (frontend URL)"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3001"})})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})}),(0,b.jsx)(c.td,{children:"Public URL of the API server"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3000"})})]})]})]}),"\n",(0,b.jsxs)(c.p,{children:["See the ",(0,b.jsx)(c.a,{href:"/docs/getting-started/configuration",children:"Configuration"})," guide for details."]}),"\n",(0,b.jsx)(c.h2,{id:"push-database-schema",children:"Push Database Schema"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen uses Cloudflare D1 (SQLite) with Drizzle ORM. Push the schema to your database:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" db:push"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"start-the-development-servers",children:"Start the Development Servers"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" dev"})]})})})}),"\n",(0,b.jsx)(c.p,{children:"This starts all apps in development mode via Turborepo:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Web app"})," -- ",(0,b.jsx)(c.code,{children:"http://localhost:3001"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"API server"})," -- ",(0,b.jsx)(c.code,{children:"http://localhost:3000"})]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Docs"})," -- ",(0,b.jsx)(c.code,{children:"http://localhost:3002"})]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["Open ",(0,b.jsx)(c.code,{children:"http://localhost:3001"})," in your browser."]}),"\n",(0,b.jsx)(c.h2,{id:"verify-the-installation",children:"Verify the Installation"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"http://localhost:3001"})," -- you should see the public link page (empty by default)."]}),"\n",(0,b.jsxs)(c.li,{children:["Navigate to ",(0,b.jsx)(c.code,{children:"http://localhost:3001/admin/setup"})," -- you should see the setup wizard."]}),"\n",(0,b.jsx)(c.li,{children:"Complete the 4-step setup wizard (Account, Profile, Theme, Done)."}),"\n",(0,b.jsxs)(c.li,{children:["You should land on the block builder at ",(0,b.jsx)(c.code,{children:"/admin/builder"}),"."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/quick-start",children:"Quick Start"})," -- Walk through the setup wizard and first-time configuration."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/configuration",children:"Configuration"})," -- Configure environment variables."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/deployment",children:"Deployment"})," -- Deploy your instance to Cloudflare."]}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nInstallation [#installation]\n\nThis guide walks you through setting up LinkDen on your local machine for development or preview before deploying to Cloudflare.\n\nPrerequisites [#prerequisites]\n\nBefore you begin, make sure you have the following installed:\n\n* **Node.js 22+** -- Download from [nodejs.org](https://nodejs.org) or use a version manager like `nvm` or `fnm`.\n* **pnpm 10+** -- LinkDen uses pnpm workspaces. Enable it via Corepack:\n\n```bash\ncorepack enable && corepack prepare pnpm@latest --activate\n```\n\n* **Cloudflare account** -- A free account at [cloudflare.com](https://cloudflare.com) is sufficient for development.\n\nClone the Repository [#clone-the-repository]\n\n```bash\ngit clone https://github.com/mrdemonwolf/linkden.git\ncd linkden\n```\n\nInstall Dependencies [#install-dependencies]\n\nRun pnpm install from the root of the monorepo. Turborepo and pnpm workspaces will handle installing dependencies for all apps and packages:\n\n```bash\npnpm install\n```\n\nThis installs dependencies for:\n\n* `apps/web` -- the Next.js frontend\n* `apps/server` -- the Hono API server\n* `apps/docs` -- this documentation site\n* `packages/api` -- tRPC router definitions\n* `packages/auth` -- Better Auth configuration\n* `packages/db` -- Drizzle ORM schema and migrations\n* `packages/env` -- shared environment variable validation\n* `packages/ui` -- shared UI components (Radix + Tailwind)\n* `packages/validators` -- shared Zod schemas\n* `packages/infra` -- Alchemy deployment configuration\n\nSet Up Environment Variables [#set-up-environment-variables]\n\nCopy the example environment file:\n\n```bash\ncp .env.example .env\n```\n\nEdit `.env` and set the following variables:\n\n| Variable                 | Description                        | Example                                 |\n| ------------------------ | ---------------------------------- | --------------------------------------- |\n| `BETTER_AUTH_SECRET`     | Secret key for session signing     | Generate with `openssl rand -base64 32` |\n| `BETTER_AUTH_URL`        | Base URL for the auth server       | `http://localhost:3000`                 |\n| `CORS_ORIGIN`            | Allowed CORS origin (frontend URL) | `http://localhost:3001`                 |\n| `NEXT_PUBLIC_SERVER_URL` | Public URL of the API server       | `http://localhost:3000`                 |\n\nSee the [Configuration](/docs/getting-started/configuration) guide for details.\n\nPush Database Schema [#push-database-schema]\n\nLinkDen uses Cloudflare D1 (SQLite) with Drizzle ORM. Push the schema to your database:\n\n```bash\npnpm db:push\n```\n\nStart the Development Servers [#start-the-development-servers]\n\n```bash\npnpm dev\n```\n\nThis starts all apps in development mode via Turborepo:\n\n* **Web app** -- `http://localhost:3001`\n* **API server** -- `http://localhost:3000`\n* **Docs** -- `http://localhost:3002`\n\nOpen `http://localhost:3001` in your browser.\n\nVerify the Installation [#verify-the-installation]\n\n1. Navigate to `http://localhost:3001` -- you should see the public link page (empty by default).\n2. Navigate to `http://localhost:3001/admin/setup` -- you should see the setup wizard.\n3. Complete the 4-step setup wizard (Account, Profile, Theme, Done).\n4. You should land on the block builder at `/admin/builder`.\n\nNext Steps [#next-steps]\n\n* [Quick Start](/docs/getting-started/quick-start) -- Walk through the setup wizard and first-time configuration.\n* [Configuration](/docs/getting-started/configuration) -- Configure environment variables.\n* [Deployment](/docs/getting-started/deployment) -- Deploy your instance to Cloudflare.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},83545,a=>{"use strict";var b=a.i(69819);let c={title:"Configuration",description:"Configure Better Auth, Cloudflare services, and environment variables for your LinkDen instance."},d={contents:[{heading:"configuration",content:"LinkDen uses a minimal set of environment variables. Most configuration (email, CAPTCHA, branding, etc.) is managed through the admin settings UI and stored in the database."},{heading:"environment-variables",content:"The root .env file contains all required variables:"},{heading:"environment-variables",content:"Variable"},{heading:"environment-variables",content:"Description"},{heading:"environment-variables",content:"Example"},{heading:"environment-variables",content:"Required"},{heading:"environment-variables",content:"BETTER_AUTH_SECRET"},{heading:"environment-variables",content:"Secret key for session signing"},{heading:"environment-variables",content:"your-secret-key-here"},{heading:"environment-variables",content:"Yes"},{heading:"environment-variables",content:"BETTER_AUTH_URL"},{heading:"environment-variables",content:"Base URL for the auth server"},{heading:"environment-variables",content:"http://localhost:3000"},{heading:"environment-variables",content:"Yes"},{heading:"environment-variables",content:"CORS_ORIGIN"},{heading:"environment-variables",content:"Allowed CORS origin (frontend URL)"},{heading:"environment-variables",content:"http://localhost:3001"},{heading:"environment-variables",content:"Yes"},{heading:"environment-variables",content:"NEXT_PUBLIC_SERVER_URL"},{heading:"environment-variables",content:"Public URL of the API server"},{heading:"environment-variables",content:"http://localhost:3000"},{heading:"environment-variables",content:"Yes"},{heading:"environment-variables",content:"Copy the example file to get started:"},{heading:"better-auth-setup",content:"LinkDen uses Better Auth for authentication with email/password sign-in. No external auth service is needed."},{heading:"how-it-works",content:"During the setup wizard at /admin/setup, you create an admin account with email and password."},{heading:"how-it-works",content:"Better Auth creates a session with secure cookies (sameSite: none, secure: true, httpOnly: true)."},{heading:"how-it-works",content:"All admin API routes are protected by Better Auth session validation."},{heading:"how-it-works",content:"The session cookie is sent cross-origin between the Next.js frontend and the Hono API server."},{heading:"generating-a-secret",content:"Generate a strong secret for BETTER_AUTH_SECRET:"},{heading:"setting-the-urls",content:"BETTER_AUTH_URL should point to your API server (where Better Auth runs)."},{heading:"setting-the-urls",content:"CORS_ORIGIN should point to your web frontend."},{heading:"setting-the-urls",content:"NEXT_PUBLIC_SERVER_URL should match BETTER_AUTH_URL (the API server URL)."},{heading:"setting-the-urls",content:"For local development:"},{heading:"setting-the-urls",content:"For production:"},{heading:"runtime-configuration-admin-settings",content:"Most configuration is managed through the admin settings page (/admin/settings) and stored in the database. This includes:"},{heading:"runtime-configuration-admin-settings",content:"Email provider -- Resend or Cloudflare Email Workers (API key, from address)."},{heading:"runtime-configuration-admin-settings",content:"CAPTCHA -- Cloudflare Turnstile or Google reCAPTCHA (site key, secret key)."},{heading:"runtime-configuration-admin-settings",content:"Branding -- Whitelabel footer text and link."},{heading:"runtime-configuration-admin-settings",content:"vCard -- Contact card enable/disable."},{heading:"runtime-configuration-admin-settings",content:"Apple Wallet -- Team ID, Pass Type ID, custom QR URL."},{heading:"runtime-configuration-admin-settings",content:"SEO -- Page title, meta description, OG image."},{heading:"runtime-configuration-admin-settings",content:"This approach keeps the .env file minimal and makes it easy to change settings without redeploying."},{heading:"cloudflare-setup",content:"For deployment to Cloudflare, you need:"},{heading:"cloudflare-setup",content:"A free account at cloudflare.com."},{heading:"cloudflare-setup",content:"A Cloudflare API Token with permissions for Workers, Pages, and D1."},{heading:"cloudflare-setup",content:"Your Cloudflare Account ID (found on the right sidebar of the dashboard overview)."},{heading:"cloudflare-setup",content:"These are used by the Alchemy deployment tool. See Deployment for details."},{heading:"next-steps",content:"Cloudflare Deployment -- Deploy your configured instance to Cloudflare."},{heading:"next-steps",content:"Quick Start -- Configure all runtime settings through the admin panel."}],headings:[{id:"configuration",content:"Configuration"},{id:"environment-variables",content:"Environment Variables"},{id:"better-auth-setup",content:"Better Auth Setup"},{id:"how-it-works",content:"How It Works"},{id:"generating-a-secret",content:"Generating a Secret"},{id:"setting-the-urls",content:"Setting the URLs"},{id:"runtime-configuration-admin-settings",content:"Runtime Configuration (Admin Settings)"},{id:"cloudflare-setup",content:"Cloudflare Setup"},{id:"next-steps",content:"Next Steps"}]},e=[{depth:1,url:"#configuration",title:(0,b.jsx)(b.Fragment,{children:"Configuration"})},{depth:2,url:"#environment-variables",title:(0,b.jsx)(b.Fragment,{children:"Environment Variables"})},{depth:2,url:"#better-auth-setup",title:(0,b.jsx)(b.Fragment,{children:"Better Auth Setup"})},{depth:3,url:"#how-it-works",title:(0,b.jsx)(b.Fragment,{children:"How It Works"})},{depth:3,url:"#generating-a-secret",title:(0,b.jsx)(b.Fragment,{children:"Generating a Secret"})},{depth:3,url:"#setting-the-urls",title:(0,b.jsx)(b.Fragment,{children:"Setting the URLs"})},{depth:2,url:"#runtime-configuration-admin-settings",title:(0,b.jsx)(b.Fragment,{children:"Runtime Configuration (Admin Settings)"})},{depth:2,url:"#cloudflare-setup",title:(0,b.jsx)(b.Fragment,{children:"Cloudflare Setup"})},{depth:2,url:"#next-steps",title:(0,b.jsx)(b.Fragment,{children:"Next Steps"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"configuration",children:"Configuration"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen uses a minimal set of environment variables. Most configuration (email, CAPTCHA, branding, etc.) is managed through the admin settings UI and stored in the database."}),"\n",(0,b.jsx)(c.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,b.jsxs)(c.p,{children:["The root ",(0,b.jsx)(c.code,{children:".env"})," file contains all required variables:"]}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Variable"}),(0,b.jsx)(c.th,{children:"Description"}),(0,b.jsx)(c.th,{children:"Example"}),(0,b.jsx)(c.th,{children:"Required"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"})}),(0,b.jsx)(c.td,{children:"Secret key for session signing"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"your-secret-key-here"})}),(0,b.jsx)(c.td,{children:"Yes"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})}),(0,b.jsx)(c.td,{children:"Base URL for the auth server"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3000"})}),(0,b.jsx)(c.td,{children:"Yes"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})}),(0,b.jsx)(c.td,{children:"Allowed CORS origin (frontend URL)"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3001"})}),(0,b.jsx)(c.td,{children:"Yes"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})}),(0,b.jsx)(c.td,{children:"Public URL of the API server"}),(0,b.jsx)(c.td,{children:(0,b.jsx)(c.code,{children:"http://localhost:3000"})}),(0,b.jsx)(c.td,{children:"Yes"})]})]})]}),"\n",(0,b.jsx)(c.p,{children:"Copy the example file to get started:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env.example"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env"})]})})})}),"\n",(0,b.jsx)(c.h2,{id:"better-auth-setup",children:"Better Auth Setup"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen uses ",(0,b.jsx)(c.a,{href:"https://www.better-auth.com/",children:"Better Auth"})," for authentication with email/password sign-in. No external auth service is needed."]}),"\n",(0,b.jsx)(c.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["During the setup wizard at ",(0,b.jsx)(c.code,{children:"/admin/setup"}),", you create an admin account with email and password."]}),"\n",(0,b.jsxs)(c.li,{children:["Better Auth creates a session with secure cookies (",(0,b.jsx)(c.code,{children:"sameSite: none"}),", ",(0,b.jsx)(c.code,{children:"secure: true"}),", ",(0,b.jsx)(c.code,{children:"httpOnly: true"}),")."]}),"\n",(0,b.jsx)(c.li,{children:"All admin API routes are protected by Better Auth session validation."}),"\n",(0,b.jsx)(c.li,{children:"The session cookie is sent cross-origin between the Next.js frontend and the Hono API server."}),"\n"]}),"\n",(0,b.jsx)(c.h3,{id:"generating-a-secret",children:"Generating a Secret"}),"\n",(0,b.jsxs)(c.p,{children:["Generate a strong secret for ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_SECRET"}),":"]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsx)(c.code,{children:(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rand"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -base64"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 32"})]})})})}),"\n",(0,b.jsx)(c.h3,{id:"setting-the-urls",children:"Setting the URLs"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})," should point to your API server (where Better Auth runs)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"CORS_ORIGIN"})," should point to your web frontend."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.code,{children:"NEXT_PUBLIC_SERVER_URL"})," should match ",(0,b.jsx)(c.code,{children:"BETTER_AUTH_URL"})," (the API server URL)."]}),"\n"]}),"\n",(0,b.jsx)(c.p,{children:"For local development:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_SECRET"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-generated-secret"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"http://localhost:3000"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"http://localhost:3001"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SERVER_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"http://localhost:3000"})]})]})})}),"\n",(0,b.jsx)(c.p,{children:"For production:"}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_SECRET"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your-production-secret"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"BETTER_AUTH_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CORS_ORIGIN"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://yourdomain.com"})]}),"\n",(0,b.jsxs)(c.span,{className:"line",children:[(0,b.jsx)(c.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NEXT_PUBLIC_SERVER_URL"}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,b.jsx)(c.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"https://api.yourdomain.com"})]})]})})}),"\n",(0,b.jsx)(c.h2,{id:"runtime-configuration-admin-settings",children:"Runtime Configuration (Admin Settings)"}),"\n",(0,b.jsxs)(c.p,{children:["Most configuration is managed through the admin settings page (",(0,b.jsx)(c.code,{children:"/admin/settings"}),") and stored in the database. This includes:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Email provider"})," -- Resend or Cloudflare Email Workers (API key, from address)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"CAPTCHA"})," -- Cloudflare Turnstile or Google reCAPTCHA (site key, secret key)."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Branding"})," -- Whitelabel footer text and link."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"vCard"})," -- Contact card enable/disable."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Apple Wallet"})," -- Team ID, Pass Type ID, custom QR URL."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"SEO"})," -- Page title, meta description, OG image."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["This approach keeps the ",(0,b.jsx)(c.code,{children:".env"})," file minimal and makes it easy to change settings without redeploying."]}),"\n",(0,b.jsx)(c.h2,{id:"cloudflare-setup",children:"Cloudflare Setup"}),"\n",(0,b.jsx)(c.p,{children:"For deployment to Cloudflare, you need:"}),"\n",(0,b.jsxs)(c.ol,{children:["\n",(0,b.jsxs)(c.li,{children:["A free account at ",(0,b.jsx)(c.a,{href:"https://cloudflare.com",children:"cloudflare.com"}),"."]}),"\n",(0,b.jsxs)(c.li,{children:["A ",(0,b.jsx)(c.strong,{children:"Cloudflare API Token"})," with permissions for Workers, Pages, and D1."]}),"\n",(0,b.jsxs)(c.li,{children:["Your ",(0,b.jsx)(c.strong,{children:"Cloudflare Account ID"})," (found on the right sidebar of the dashboard overview)."]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["These are used by the Alchemy deployment tool. See ",(0,b.jsx)(c.a,{href:"/docs/getting-started/deployment",children:"Deployment"})," for details."]}),"\n",(0,b.jsx)(c.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/self-hosting/cloudflare",children:"Cloudflare Deployment"})," -- Deploy your configured instance to Cloudflare."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/quick-start",children:"Quick Start"})," -- Configure all runtime settings through the admin panel."]}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nConfiguration [#configuration]\n\nLinkDen uses a minimal set of environment variables. Most configuration (email, CAPTCHA, branding, etc.) is managed through the admin settings UI and stored in the database.\n\nEnvironment Variables [#environment-variables]\n\nThe root `.env` file contains all required variables:\n\n| Variable                 | Description                        | Example                 | Required |\n| ------------------------ | ---------------------------------- | ----------------------- | -------- |\n| `BETTER_AUTH_SECRET`     | Secret key for session signing     | `your-secret-key-here`  | Yes      |\n| `BETTER_AUTH_URL`        | Base URL for the auth server       | `http://localhost:3000` | Yes      |\n| `CORS_ORIGIN`            | Allowed CORS origin (frontend URL) | `http://localhost:3001` | Yes      |\n| `NEXT_PUBLIC_SERVER_URL` | Public URL of the API server       | `http://localhost:3000` | Yes      |\n\nCopy the example file to get started:\n\n```bash\ncp .env.example .env\n```\n\nBetter Auth Setup [#better-auth-setup]\n\nLinkDen uses [Better Auth](https://www.better-auth.com/) for authentication with email/password sign-in. No external auth service is needed.\n\nHow It Works [#how-it-works]\n\n1. During the setup wizard at `/admin/setup`, you create an admin account with email and password.\n2. Better Auth creates a session with secure cookies (`sameSite: none`, `secure: true`, `httpOnly: true`).\n3. All admin API routes are protected by Better Auth session validation.\n4. The session cookie is sent cross-origin between the Next.js frontend and the Hono API server.\n\nGenerating a Secret [#generating-a-secret]\n\nGenerate a strong secret for `BETTER_AUTH_SECRET`:\n\n```bash\nopenssl rand -base64 32\n```\n\nSetting the URLs [#setting-the-urls]\n\n* `BETTER_AUTH_URL` should point to your API server (where Better Auth runs).\n* `CORS_ORIGIN` should point to your web frontend.\n* `NEXT_PUBLIC_SERVER_URL` should match `BETTER_AUTH_URL` (the API server URL).\n\nFor local development:\n\n```bash\nBETTER_AUTH_SECRET=your-generated-secret\nBETTER_AUTH_URL=http://localhost:3000\nCORS_ORIGIN=http://localhost:3001\nNEXT_PUBLIC_SERVER_URL=http://localhost:3000\n```\n\nFor production:\n\n```bash\nBETTER_AUTH_SECRET=your-production-secret\nBETTER_AUTH_URL=https://api.yourdomain.com\nCORS_ORIGIN=https://yourdomain.com\nNEXT_PUBLIC_SERVER_URL=https://api.yourdomain.com\n```\n\nRuntime Configuration (Admin Settings) [#runtime-configuration-admin-settings]\n\nMost configuration is managed through the admin settings page (`/admin/settings`) and stored in the database. This includes:\n\n* **Email provider** -- Resend or Cloudflare Email Workers (API key, from address).\n* **CAPTCHA** -- Cloudflare Turnstile or Google reCAPTCHA (site key, secret key).\n* **Branding** -- Whitelabel footer text and link.\n* **vCard** -- Contact card enable/disable.\n* **Apple Wallet** -- Team ID, Pass Type ID, custom QR URL.\n* **SEO** -- Page title, meta description, OG image.\n\nThis approach keeps the `.env` file minimal and makes it easy to change settings without redeploying.\n\nCloudflare Setup [#cloudflare-setup]\n\nFor deployment to Cloudflare, you need:\n\n1. A free account at [cloudflare.com](https://cloudflare.com).\n2. A **Cloudflare API Token** with permissions for Workers, Pages, and D1.\n3. Your **Cloudflare Account ID** (found on the right sidebar of the dashboard overview).\n\nThese are used by the Alchemy deployment tool. See [Deployment](/docs/getting-started/deployment) for details.\n\nNext Steps [#next-steps]\n\n* [Cloudflare Deployment](/docs/self-hosting/cloudflare) -- Deploy your configured instance to Cloudflare.\n* [Quick Start](/docs/getting-started/quick-start) -- Configure all runtime settings through the admin panel.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},23086,a=>{"use strict";var b=a.i(69819);let c={title:"Terms of Service",description:"Terms of service for using the LinkDen open-source project."},d={contents:[{heading:"terms-of-service",content:"Last updated: February 2026"},{heading:"license",content:"LinkDen is released under the MIT License. You are free to use, modify, distribute, and commercially deploy LinkDen without restriction or attribution."},{heading:"documentation-site",content:"This documentation site is provided for informational purposes. While we strive for accuracy, content may be outdated or contain errors. Use at your own discretion."},{heading:"self-hosted-instances",content:"When you self-host LinkDen:"},{heading:"self-hosted-instances",content:"You are responsible for your instance, its content, and compliance with applicable laws"},{heading:"self-hosted-instances",content:"You are responsible for your own terms of service, privacy policy, and data handling"},{heading:"self-hosted-instances",content:"You are responsible for securing your deployment and protecting user data"},{heading:"self-hosted-instances",content:'LinkDen is provided "as is" without warranty of any kind'},{heading:"whitelabel-usage",content:"LinkDen's whitelabel feature allows you to remove all LinkDen branding. When using this feature:"},{heading:"whitelabel-usage",content:"No attribution is required"},{heading:"whitelabel-usage",content:"You may use any brand name, logo, or styling"},{heading:"whitelabel-usage",content:"You may not claim to have created the underlying LinkDen software if asked"},{heading:"contact",content:"For questions about these terms, please open an issue on GitHub."}],headings:[{id:"terms-of-service",content:"Terms of Service"},{id:"license",content:"License"},{id:"documentation-site",content:"Documentation Site"},{id:"self-hosted-instances",content:"Self-Hosted Instances"},{id:"whitelabel-usage",content:"Whitelabel Usage"},{id:"contact",content:"Contact"}]},e=[{depth:1,url:"#terms-of-service",title:(0,b.jsx)(b.Fragment,{children:"Terms of Service"})},{depth:2,url:"#license",title:(0,b.jsx)(b.Fragment,{children:"License"})},{depth:2,url:"#documentation-site",title:(0,b.jsx)(b.Fragment,{children:"Documentation Site"})},{depth:2,url:"#self-hosted-instances",title:(0,b.jsx)(b.Fragment,{children:"Self-Hosted Instances"})},{depth:2,url:"#whitelabel-usage",title:(0,b.jsx)(b.Fragment,{children:"Whitelabel Usage"})},{depth:2,url:"#contact",title:(0,b.jsx)(b.Fragment,{children:"Contact"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"terms-of-service",children:"Terms of Service"}),"\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"Last updated:"})," February 2026"]}),"\n",(0,b.jsx)(c.h2,{id:"license",children:"License"}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen is released under the ",(0,b.jsx)(c.strong,{children:"MIT License"}),". You are free to use, modify, distribute, and commercially deploy LinkDen without restriction or attribution."]}),"\n",(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:(0,b.jsxs)(c.code,{children:[(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"MIT License"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Copyright (c) 2025 MrDemonWolf, Inc."})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"Permission is hereby granted, free of charge, to any person obtaining a copy"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:'of this software and associated documentation files (the "Software"), to deal'})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"in the Software without restriction, including without limitation the rights"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"copies of the Software, and to permit persons to whom the Software is"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"furnished to do so, subject to the following conditions:"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"The above copyright notice and this permission notice shall be included in all"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"copies or substantial portions of the Software."})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR'})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE"})}),"\n",(0,b.jsx)(c.span,{className:"line",children:(0,b.jsx)(c.span,{children:"SOFTWARE."})})]})})}),"\n",(0,b.jsx)(c.h2,{id:"documentation-site",children:"Documentation Site"}),"\n",(0,b.jsx)(c.p,{children:"This documentation site is provided for informational purposes. While we strive for accuracy, content may be outdated or contain errors. Use at your own discretion."}),"\n",(0,b.jsx)(c.h2,{id:"self-hosted-instances",children:"Self-Hosted Instances"}),"\n",(0,b.jsx)(c.p,{children:"When you self-host LinkDen:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"You are responsible"})," for your instance, its content, and compliance with applicable laws"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"You are responsible"})," for your own terms of service, privacy policy, and data handling"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"You are responsible"})," for securing your deployment and protecting user data"]}),"\n",(0,b.jsx)(c.li,{children:'LinkDen is provided "as is" without warranty of any kind'}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"whitelabel-usage",children:"Whitelabel Usage"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen's whitelabel feature allows you to remove all LinkDen branding. When using this feature:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"No attribution is required"}),"\n",(0,b.jsx)(c.li,{children:"You may use any brand name, logo, or styling"}),"\n",(0,b.jsx)(c.li,{children:"You may not claim to have created the underlying LinkDen software if asked"}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"contact",children:"Contact"}),"\n",(0,b.jsxs)(c.p,{children:["For questions about these terms, please ",(0,b.jsx)(c.a,{href:"https://github.com/mrdemonwolf/linkden/issues",children:"open an issue on GitHub"}),"."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>'\n\nTerms of Service [#terms-of-service]\n\n**Last updated:** February 2026\n\nLicense [#license]\n\nLinkDen is released under the **MIT License**. You are free to use, modify, distribute, and commercially deploy LinkDen without restriction or attribution.\n\n```\nMIT License\n\nCopyright (c) 2025 MrDemonWolf, Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n```\n\nDocumentation Site [#documentation-site]\n\nThis documentation site is provided for informational purposes. While we strive for accuracy, content may be outdated or contain errors. Use at your own discretion.\n\nSelf-Hosted Instances [#self-hosted-instances]\n\nWhen you self-host LinkDen:\n\n* **You are responsible** for your instance, its content, and compliance with applicable laws\n* **You are responsible** for your own terms of service, privacy policy, and data handling\n* **You are responsible** for securing your deployment and protecting user data\n* LinkDen is provided "as is" without warranty of any kind\n\nWhitelabel Usage [#whitelabel-usage]\n\nLinkDen\'s whitelabel feature allows you to remove all LinkDen branding. When using this feature:\n\n* No attribution is required\n* You may use any brand name, logo, or styling\n* You may not claim to have created the underlying LinkDen software if asked\n\nContact [#contact]\n\nFor questions about these terms, please [open an issue on GitHub](https://github.com/mrdemonwolf/linkden/issues).\n',"default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},36081,a=>{"use strict";var b=a.i(69819);let c={title:"Privacy Policy",description:"Privacy policy for the LinkDen documentation site and open-source project."},d={contents:[{heading:"privacy-policy",content:"Last updated: February 2026"},{heading:"privacy-policy",content:"LinkDen is an open-source, self-hosted application. This privacy policy covers the documentation site hosted at mrdemonwolf.github.io/linkden. If you self-host LinkDen, your own privacy policy applies to your instance."},{heading:"documentation-site",content:"This documentation site is a static site hosted on GitHub Pages. We do not:"},{heading:"documentation-site",content:"Use cookies or tracking scripts"},{heading:"documentation-site",content:"Collect personal information"},{heading:"documentation-site",content:"Use analytics services"},{heading:"documentation-site",content:"Store any visitor data"},{heading:"documentation-site",content:"GitHub Pages may collect basic server logs (IP addresses, user-agent strings) as part of their standard hosting. See GitHub's Privacy Statement for details."},{heading:"self-hosted-instances",content:"When you deploy your own LinkDen instance, you are the data controller. LinkDen stores the following data in your Cloudflare D1 database:"},{heading:"self-hosted-instances",content:"Profile data — name, bio, profile image URL"},{heading:"self-hosted-instances",content:"Links — URLs, titles, icons, sort order"},{heading:"self-hosted-instances",content:"Settings — theme, colors, branding, configuration"},{heading:"self-hosted-instances",content:"Analytics — page views, link clicks, referrers, country codes (from Cloudflare headers)"},{heading:"self-hosted-instances",content:"Contact form submissions — name, email, message (if contact form is enabled)"},{heading:"self-hosted-instances",content:"vCard data — contact information you configure"},{heading:"self-hosted-instances",content:"All data is stored in your own Cloudflare D1 database. LinkDen does not phone home, send telemetry, or share data with third parties."},{heading:"third-party-services",content:"Self-hosted LinkDen instances may optionally integrate with:"},{heading:"third-party-services",content:"Clerk — authentication provider (see Clerk's Privacy Policy)"},{heading:"third-party-services",content:"Cloudflare — hosting and CDN (see Cloudflare's Privacy Policy)"},{heading:"third-party-services",content:"Resend — email delivery for contact form notifications (see Resend's Privacy Policy)"},{heading:"your-rights",content:"Since LinkDen is self-hosted, you have complete control over all data. You can export, delete, or modify any data at any time through the admin panel or directly in your D1 database."},{heading:"contact",content:"For questions about this policy, please open an issue on GitHub."}],headings:[{id:"privacy-policy",content:"Privacy Policy"},{id:"what-we-collect",content:"What We Collect"},{id:"documentation-site",content:"Documentation Site"},{id:"self-hosted-instances",content:"Self-Hosted Instances"},{id:"third-party-services",content:"Third-Party Services"},{id:"your-rights",content:"Your Rights"},{id:"contact",content:"Contact"}]},e=[{depth:1,url:"#privacy-policy",title:(0,b.jsx)(b.Fragment,{children:"Privacy Policy"})},{depth:2,url:"#what-we-collect",title:(0,b.jsx)(b.Fragment,{children:"What We Collect"})},{depth:3,url:"#documentation-site",title:(0,b.jsx)(b.Fragment,{children:"Documentation Site"})},{depth:3,url:"#self-hosted-instances",title:(0,b.jsx)(b.Fragment,{children:"Self-Hosted Instances"})},{depth:2,url:"#third-party-services",title:(0,b.jsx)(b.Fragment,{children:"Third-Party Services"})},{depth:2,url:"#your-rights",title:(0,b.jsx)(b.Fragment,{children:"Your Rights"})},{depth:2,url:"#contact",title:(0,b.jsx)(b.Fragment,{children:"Contact"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"privacy-policy",children:"Privacy Policy"}),"\n",(0,b.jsxs)(c.p,{children:[(0,b.jsx)(c.strong,{children:"Last updated:"})," February 2026"]}),"\n",(0,b.jsxs)(c.p,{children:["LinkDen is an open-source, self-hosted application. This privacy policy covers the ",(0,b.jsx)(c.strong,{children:"documentation site"})," hosted at ",(0,b.jsx)(c.code,{children:"mrdemonwolf.github.io/linkden"}),". If you self-host LinkDen, your own privacy policy applies to your instance."]}),"\n",(0,b.jsx)(c.h2,{id:"what-we-collect",children:"What We Collect"}),"\n",(0,b.jsx)(c.h3,{id:"documentation-site",children:"Documentation Site"}),"\n",(0,b.jsxs)(c.p,{children:["This documentation site is a static site hosted on ",(0,b.jsx)(c.strong,{children:"GitHub Pages"}),". We do not:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsx)(c.li,{children:"Use cookies or tracking scripts"}),"\n",(0,b.jsx)(c.li,{children:"Collect personal information"}),"\n",(0,b.jsx)(c.li,{children:"Use analytics services"}),"\n",(0,b.jsx)(c.li,{children:"Store any visitor data"}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["GitHub Pages may collect basic server logs (IP addresses, user-agent strings) as part of their standard hosting. See ",(0,b.jsx)(c.a,{href:"https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement",children:"GitHub's Privacy Statement"})," for details."]}),"\n",(0,b.jsx)(c.h3,{id:"self-hosted-instances",children:"Self-Hosted Instances"}),"\n",(0,b.jsxs)(c.p,{children:["When you deploy your own LinkDen instance, ",(0,b.jsx)(c.strong,{children:"you"})," are the data controller. LinkDen stores the following data in your Cloudflare D1 database:"]}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Profile data"})," — name, bio, profile image URL"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Links"})," — URLs, titles, icons, sort order"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Settings"})," — theme, colors, branding, configuration"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Analytics"})," — page views, link clicks, referrers, country codes (from Cloudflare headers)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Contact form submissions"})," — name, email, message (if contact form is enabled)"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"vCard data"})," — contact information you configure"]}),"\n"]}),"\n",(0,b.jsxs)(c.p,{children:["All data is stored in ",(0,b.jsx)(c.strong,{children:"your own"})," Cloudflare D1 database. LinkDen does not phone home, send telemetry, or share data with third parties."]}),"\n",(0,b.jsx)(c.h2,{id:"third-party-services",children:"Third-Party Services"}),"\n",(0,b.jsx)(c.p,{children:"Self-hosted LinkDen instances may optionally integrate with:"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Clerk"})," — authentication provider (see ",(0,b.jsx)(c.a,{href:"https://clerk.com/legal/privacy",children:"Clerk's Privacy Policy"}),")"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Cloudflare"})," — hosting and CDN (see ",(0,b.jsx)(c.a,{href:"https://www.cloudflare.com/privacypolicy/",children:"Cloudflare's Privacy Policy"}),")"]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Resend"})," — email delivery for contact form notifications (see ",(0,b.jsx)(c.a,{href:"https://resend.com/legal/privacy-policy",children:"Resend's Privacy Policy"}),")"]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"your-rights",children:"Your Rights"}),"\n",(0,b.jsx)(c.p,{children:"Since LinkDen is self-hosted, you have complete control over all data. You can export, delete, or modify any data at any time through the admin panel or directly in your D1 database."}),"\n",(0,b.jsx)(c.h2,{id:"contact",children:"Contact"}),"\n",(0,b.jsxs)(c.p,{children:["For questions about this policy, please ",(0,b.jsx)(c.a,{href:"https://github.com/mrdemonwolf/linkden/issues",children:"open an issue on GitHub"}),"."]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nPrivacy Policy [#privacy-policy]\n\n**Last updated:** February 2026\n\nLinkDen is an open-source, self-hosted application. This privacy policy covers the **documentation site** hosted at `mrdemonwolf.github.io/linkden`. If you self-host LinkDen, your own privacy policy applies to your instance.\n\nWhat We Collect [#what-we-collect]\n\nDocumentation Site [#documentation-site]\n\nThis documentation site is a static site hosted on **GitHub Pages**. We do not:\n\n* Use cookies or tracking scripts\n* Collect personal information\n* Use analytics services\n* Store any visitor data\n\nGitHub Pages may collect basic server logs (IP addresses, user-agent strings) as part of their standard hosting. See [GitHub's Privacy Statement](https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement) for details.\n\nSelf-Hosted Instances [#self-hosted-instances]\n\nWhen you deploy your own LinkDen instance, **you** are the data controller. LinkDen stores the following data in your Cloudflare D1 database:\n\n* **Profile data** — name, bio, profile image URL\n* **Links** — URLs, titles, icons, sort order\n* **Settings** — theme, colors, branding, configuration\n* **Analytics** — page views, link clicks, referrers, country codes (from Cloudflare headers)\n* **Contact form submissions** — name, email, message (if contact form is enabled)\n* **vCard data** — contact information you configure\n\nAll data is stored in **your own** Cloudflare D1 database. LinkDen does not phone home, send telemetry, or share data with third parties.\n\nThird-Party Services [#third-party-services]\n\nSelf-hosted LinkDen instances may optionally integrate with:\n\n* **Clerk** — authentication provider (see [Clerk's Privacy Policy](https://clerk.com/legal/privacy))\n* **Cloudflare** — hosting and CDN (see [Cloudflare's Privacy Policy](https://www.cloudflare.com/privacypolicy/))\n* **Resend** — email delivery for contact form notifications (see [Resend's Privacy Policy](https://resend.com/legal/privacy-policy))\n\nYour Rights [#your-rights]\n\nSince LinkDen is self-hosted, you have complete control over all data. You can export, delete, or modify any data at any time through the admin panel or directly in your D1 database.\n\nContact [#contact]\n\nFor questions about this policy, please [open an issue on GitHub](https://github.com/mrdemonwolf/linkden/issues).\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},86485,a=>{"use strict";var b=a.i(69819);let c={title:"Welcome to LinkDen",description:"LinkDen is a self-hosted Linktree alternative built on the Cloudflare stack with a full admin panel, edge performance, and complete whitelabel support."},d={contents:[{heading:"welcome-to-linkden",content:"LinkDen is a self-hosted link-in-bio platform that replaces heavy PHP frameworks with modern TypeScript tooling. Built on the Cloudflare stack, it delivers blazing-fast page loads and full customization through a polished admin panel."},{heading:"what-is-linkden",content:"LinkDen gives you a single-user link page at your root URL. Visitors land directly on your links with no registration or multi-user overhead. Behind the scenes, a full admin panel lets you manage every aspect of your page."},{heading:"what-is-linkden",content:"Your links, your brand, your rules."},{heading:"key-highlights",content:"Edge Performance -- Static pages served from Cloudflare Pages with API on Workers and D1 SQLite for sub-second load times worldwide."},{heading:"key-highlights",content:"Full Admin Panel -- Manage blocks, appearance, analytics, vCard, and Apple Wallet passes from a polished dashboard."},{heading:"key-highlights",content:"7 Built-in Themes -- Each theme ships with dark and light variants (14 total) plus auto mode."},{heading:"key-highlights",content:"5 Block Types -- Link, Header, Social Icons, Embed, and Contact Form blocks with rich configuration options."},{heading:"key-highlights",content:"100+ Social Brands -- Predefined icons for GitHub, Twitter/X, Instagram, YouTube, Discord, and dozens more."},{heading:"key-highlights",content:"Apple Wallet -- Generate signed .pkpass files for iPhone contact cards."},{heading:"key-highlights",content:"Whitelabel -- Toggle off all LinkDen branding with a single setting. MIT license, no attribution required."},{heading:"key-highlights",content:"Export/Import -- Back up all data as JSON."},{heading:"tech-stack",content:"Layer"},{heading:"tech-stack",content:"Technology"},{heading:"tech-stack",content:"Frontend"},{heading:"tech-stack",content:"Next.js 16, React 19, Tailwind CSS v4"},{heading:"tech-stack",content:"Backend"},{heading:"tech-stack",content:"Hono on Cloudflare Workers"},{heading:"tech-stack",content:"API"},{heading:"tech-stack",content:"tRPC v11"},{heading:"tech-stack",content:"Database"},{heading:"tech-stack",content:"Drizzle ORM + Cloudflare D1 (SQLite)"},{heading:"tech-stack",content:"Auth"},{heading:"tech-stack",content:"Better Auth (email/password)"},{heading:"tech-stack",content:"Styling"},{heading:"tech-stack",content:"Tailwind CSS + Radix UI"},{heading:"tech-stack",content:"Monorepo"},{heading:"tech-stack",content:"Turborepo + pnpm workspaces"},{heading:"tech-stack",content:"Deploy"},{heading:"tech-stack",content:"Alchemy -> Cloudflare Workers/Pages"},{heading:"next-steps",content:"Quick Start -- Set up your first instance in minutes."},{heading:"next-steps",content:"Installation -- Get LinkDen running locally."},{heading:"next-steps",content:"Configuration -- Set up authentication and environment variables."},{heading:"next-steps",content:"Blocks -- Explore the 5 block types and builder."},{heading:"next-steps",content:"Appearance -- Customize themes, colors, and branding."}],headings:[{id:"welcome-to-linkden",content:"Welcome to LinkDen"},{id:"what-is-linkden",content:"What is LinkDen?"},{id:"key-highlights",content:"Key Highlights"},{id:"tech-stack",content:"Tech Stack"},{id:"next-steps",content:"Next Steps"}]},e=[{depth:1,url:"#welcome-to-linkden",title:(0,b.jsx)(b.Fragment,{children:"Welcome to LinkDen"})},{depth:2,url:"#what-is-linkden",title:(0,b.jsx)(b.Fragment,{children:"What is LinkDen?"})},{depth:2,url:"#key-highlights",title:(0,b.jsx)(b.Fragment,{children:"Key Highlights"})},{depth:2,url:"#tech-stack",title:(0,b.jsx)(b.Fragment,{children:"Tech Stack"})},{depth:2,url:"#next-steps",title:(0,b.jsx)(b.Fragment,{children:"Next Steps"})}];function f(a){let c={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.h1,{id:"welcome-to-linkden",children:"Welcome to LinkDen"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen is a self-hosted link-in-bio platform that replaces heavy PHP frameworks with modern TypeScript tooling. Built on the Cloudflare stack, it delivers blazing-fast page loads and full customization through a polished admin panel."}),"\n",(0,b.jsx)(c.h2,{id:"what-is-linkden",children:"What is LinkDen?"}),"\n",(0,b.jsx)(c.p,{children:"LinkDen gives you a single-user link page at your root URL. Visitors land directly on your links with no registration or multi-user overhead. Behind the scenes, a full admin panel lets you manage every aspect of your page."}),"\n",(0,b.jsx)(c.p,{children:(0,b.jsx)(c.strong,{children:"Your links, your brand, your rules."})}),"\n",(0,b.jsx)(c.h2,{id:"key-highlights",children:"Key Highlights"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Edge Performance"})," -- Static pages served from Cloudflare Pages with API on Workers and D1 SQLite for sub-second load times worldwide."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Full Admin Panel"})," -- Manage blocks, appearance, analytics, vCard, and Apple Wallet passes from a polished dashboard."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"7 Built-in Themes"})," -- Each theme ships with dark and light variants (14 total) plus auto mode."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"5 Block Types"})," -- Link, Header, Social Icons, Embed, and Contact Form blocks with rich configuration options."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"100+ Social Brands"})," -- Predefined icons for GitHub, Twitter/X, Instagram, YouTube, Discord, and dozens more."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Apple Wallet"})," -- Generate signed ",(0,b.jsx)(c.code,{children:".pkpass"})," files for iPhone contact cards."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Whitelabel"})," -- Toggle off all LinkDen branding with a single setting. MIT license, no attribution required."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.strong,{children:"Export/Import"})," -- Back up all data as JSON."]}),"\n"]}),"\n",(0,b.jsx)(c.h2,{id:"tech-stack",children:"Tech Stack"}),"\n",(0,b.jsxs)(c.table,{children:[(0,b.jsx)(c.thead,{children:(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.th,{children:"Layer"}),(0,b.jsx)(c.th,{children:"Technology"})]})}),(0,b.jsxs)(c.tbody,{children:[(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Frontend"}),(0,b.jsx)(c.td,{children:"Next.js 16, React 19, Tailwind CSS v4"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Backend"}),(0,b.jsx)(c.td,{children:"Hono on Cloudflare Workers"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"API"}),(0,b.jsx)(c.td,{children:"tRPC v11"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Database"}),(0,b.jsx)(c.td,{children:"Drizzle ORM + Cloudflare D1 (SQLite)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Auth"}),(0,b.jsx)(c.td,{children:"Better Auth (email/password)"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Styling"}),(0,b.jsx)(c.td,{children:"Tailwind CSS + Radix UI"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Monorepo"}),(0,b.jsx)(c.td,{children:"Turborepo + pnpm workspaces"})]}),(0,b.jsxs)(c.tr,{children:[(0,b.jsx)(c.td,{children:"Deploy"}),(0,b.jsx)(c.td,{children:"Alchemy -> Cloudflare Workers/Pages"})]})]})]}),"\n",(0,b.jsx)(c.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,b.jsxs)(c.ul,{children:["\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/quick-start",children:"Quick Start"})," -- Set up your first instance in minutes."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/installation",children:"Installation"})," -- Get LinkDen running locally."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/getting-started/configuration",children:"Configuration"})," -- Set up authentication and environment variables."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/guide/blocks",children:"Blocks"})," -- Explore the 5 block types and builder."]}),"\n",(0,b.jsxs)(c.li,{children:[(0,b.jsx)(c.a,{href:"/docs/guide/appearance",children:"Appearance"})," -- Customize themes, colors, and branding."]}),"\n"]})]})}function g(a={}){let{wrapper:c}=a.components||{};return c?(0,b.jsx)(c,{...a,children:(0,b.jsx)(f,{...a})}):f(a)}a.s(["_markdown",()=>"\n\nWelcome to LinkDen [#welcome-to-linkden]\n\nLinkDen is a self-hosted link-in-bio platform that replaces heavy PHP frameworks with modern TypeScript tooling. Built on the Cloudflare stack, it delivers blazing-fast page loads and full customization through a polished admin panel.\n\nWhat is LinkDen? [#what-is-linkden]\n\nLinkDen gives you a single-user link page at your root URL. Visitors land directly on your links with no registration or multi-user overhead. Behind the scenes, a full admin panel lets you manage every aspect of your page.\n\n**Your links, your brand, your rules.**\n\nKey Highlights [#key-highlights]\n\n* **Edge Performance** -- Static pages served from Cloudflare Pages with API on Workers and D1 SQLite for sub-second load times worldwide.\n* **Full Admin Panel** -- Manage blocks, appearance, analytics, vCard, and Apple Wallet passes from a polished dashboard.\n* **7 Built-in Themes** -- Each theme ships with dark and light variants (14 total) plus auto mode.\n* **5 Block Types** -- Link, Header, Social Icons, Embed, and Contact Form blocks with rich configuration options.\n* **100+ Social Brands** -- Predefined icons for GitHub, Twitter/X, Instagram, YouTube, Discord, and dozens more.\n* **Apple Wallet** -- Generate signed `.pkpass` files for iPhone contact cards.\n* **Whitelabel** -- Toggle off all LinkDen branding with a single setting. MIT license, no attribution required.\n* **Export/Import** -- Back up all data as JSON.\n\nTech Stack [#tech-stack]\n\n| Layer    | Technology                            |\n| -------- | ------------------------------------- |\n| Frontend | Next.js 16, React 19, Tailwind CSS v4 |\n| Backend  | Hono on Cloudflare Workers            |\n| API      | tRPC v11                              |\n| Database | Drizzle ORM + Cloudflare D1 (SQLite)  |\n| Auth     | Better Auth (email/password)          |\n| Styling  | Tailwind CSS + Radix UI               |\n| Monorepo | Turborepo + pnpm workspaces           |\n| Deploy   | Alchemy -> Cloudflare Workers/Pages   |\n\nNext Steps [#next-steps]\n\n* [Quick Start](/docs/getting-started/quick-start) -- Set up your first instance in minutes.\n* [Installation](/docs/getting-started/installation) -- Get LinkDen running locally.\n* [Configuration](/docs/getting-started/configuration) -- Set up authentication and environment variables.\n* [Blocks](/docs/guide/blocks) -- Explore the 5 block types and builder.\n* [Appearance](/docs/guide/appearance) -- Customize themes, colors, and branding.\n","default",()=>g,"frontmatter",()=>c,"structuredData",()=>d,"toc",0,e])},58005,a=>{a.v({title:"Self-Hosting",pages:["cloudflare","docker","coolify","railway","environment-variables","custom-domain"]})},98683,a=>{a.v({title:"Reference",pages:["api","faq","changelog"]})},92392,a=>{a.v({title:"Using LinkDen",pages:["blocks","appearance","analytics","contact-form","social-networks","vcard","apple-wallet","export-import"]})},34542,a=>{a.v({title:"Getting Started",pages:["quick-start","installation","configuration"]})},1780,a=>{a.v({title:"Documentation",pages:["getting-started","guide","self-hosting","reference"]})},45997,a=>{"use strict";var b=a.i(50227);function c(a={}){let{doc:{passthroughs:f=[]}={}}=a;function g(a,c){return a.startsWith("./")&&(a=a.slice(2)),{path:a,fullPath:b.join(c,a)}}function h(a){let b={body:a.default,toc:a.toc,structuredData:a.structuredData,_exports:a};for(let c of f)b[c]=a[c];return b}return{doc:async(a,b,c)=>await Promise.all(Object.entries(c).map(async([a,c])=>{let d="function"==typeof c?await c():c;return{...h(d),...d.frontmatter,...e(g(a,b),()=>d)}})),docLazy:async(a,b,c,d)=>await Promise.all(Object.entries(c).map(async([a,c])=>{let f="function"==typeof c?await c():c,i=d[a];return{...f,...e(g(a,b),i),load:async()=>h(await i())}})),meta:async(a,b,c)=>await Promise.all(Object.entries(c).map(async([a,c])=>{let d="function"==typeof c?await c():c;return{info:g(a,b),...d}})),async docs(a,b,c,e){return{docs:await this.doc(a,b,e),meta:await this.meta(a,b,c),toFumadocsSource(){return d(this.docs,this.meta)}}},async docsLazy(a,b,c,e,f){return{docs:await this.docLazy(a,b,e,f),meta:await this.meta(a,b,c),toFumadocsSource(){return d(this.docs,this.meta)}}}}}function d(a,b){let c=[];for(let b of a)c.push({type:"page",path:b.info.path,absolutePath:b.info.fullPath,data:b});for(let a of b)c.push({type:"meta",path:a.info.path,absolutePath:a.info.fullPath,data:a});return{files:c}}function e(b,c){return{info:b,async getText(d){if("raw"===d)return(await (await a.A(87903)).readFile(b.fullPath)).toString();let e=await c();if("string"!=typeof e._markdown)throw Error("getText('processed') requires `includeProcessedMarkdown` to be enabled in your collection config.");return e._markdown},async getMDAST(){let a=await c();if(!a._mdast)throw Error("getMDAST() requires `includeMDAST` to be enabled in your collection config.");return JSON.parse(a._mdast)}}}a.s(["server",()=>c])},58334,a=>a.a(async(b,c)=>{try{var d=a.i(81882),e=a.i(65545),f=a.i(81194),g=a.i(234),h=a.i(14412),i=a.i(29087),j=a.i(91700),k=a.i(34552),l=a.i(24871),m=a.i(17534),n=a.i(14527),o=a.i(5619),p=a.i(3755),q=a.i(83043),r=a.i(3928),s=a.i(38405),t=a.i(89989),u=a.i(20871),w=a.i(27557),x=a.i(83545),y=a.i(23086),z=a.i(36081),A=a.i(86485),B=a.i(58005),C=a.i(98683),D=a.i(92392),E=a.i(34542),F=a.i(1780),G=a.i(45997);let b=(0,G.server)({doc:{passthroughs:["extractedReferences"]}}),H=await b.docs("docs","content/docs",{"meta.json":F.default,"getting-started/meta.json":E.default,"guide/meta.json":D.default,"reference/meta.json":C.default,"self-hosting/meta.json":B.default},{"index.mdx":A,"privacy-policy.mdx":z,"terms-of-service.mdx":y,"getting-started/configuration.mdx":x,"getting-started/installation.mdx":w,"getting-started/quick-start.mdx":u,"guide/analytics.mdx":t,"guide/appearance.mdx":s,"guide/apple-wallet.mdx":r,"guide/blocks.mdx":q,"guide/contact-form.mdx":p,"guide/export-import.mdx":o,"guide/social-networks.mdx":n,"guide/vcard.mdx":m,"reference/api.mdx":l,"reference/changelog.mdx":k,"reference/faq.mdx":j,"self-hosting/cloudflare.mdx":i,"self-hosting/coolify.mdx":h,"self-hosting/custom-domain.mdx":g,"self-hosting/docker.mdx":f,"self-hosting/environment-variables.mdx":e,"self-hosting/railway.mdx":d});a.s(["docs",0,H]),c()}catch(a){c(a)}},!0),90193,a=>a.a(async(b,c)=>{try{var d=a.i(88757),e=a.i(58334),f=b([e]);[e]=f.then?(await f)():f;let h=(0,d.loader)({baseUrl:"/docs",source:e.docs.toFumadocsSource(),plugins:[]});function g(a){let b=[...a.slugs,"image.png"];return{segments:b,url:`/og/docs/${b.join("/")}`}}a.s(["getPageImage",()=>g,"source",0,h]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__1b915f07._.js.map