---
title: Environment Variables
description: Complete reference for all LinkDen environment variables.
---

# Environment Variables

A quick-reference for every environment variable used by LinkDen.

## Quick Start

```bash
cp .env.example .env
```

LinkDen uses a single `.env` file at the monorepo root. Only four variables are required.

## Required Variables

| Variable | Description | Example |
|----------|-------------|---------|
| `BETTER_AUTH_SECRET` | Secret key for session signing. Generate with `openssl rand -base64 32` | `k3jf8s...` |
| `BETTER_AUTH_URL` | Base URL of the API server | `http://localhost:3000` |
| `CORS_ORIGIN` | Frontend URL (must match exactly, including protocol, no trailing slash) | `http://localhost:3001` |
| `NEXT_PUBLIC_SERVER_URL` | Public URL of the API server, used by the Next.js frontend | `http://localhost:3000` |

## Cloudflare Deployment

Only needed when deploying to Cloudflare:

| Variable | Description |
|----------|-------------|
| `CLOUDFLARE_API_TOKEN` | Cloudflare API token with Workers, D1, and KV permissions |
| `CLOUDFLARE_ACCOUNT_ID` | Your Cloudflare account ID |

## Runtime Configuration

Most settings that were previously environment variables are now managed through the admin UI at `/admin/settings` and stored in the database:

| Setting | Location |
|---------|----------|
| Email provider and API key | Settings > Email |
| CAPTCHA provider and keys | Settings > CAPTCHA |
| Apple Wallet Team ID, Pass Type ID | Settings > Apple Wallet |
| Branding / whitelabel | Settings > Branding |
| Contact form delivery mode | Settings > Contact Form |

This keeps the `.env` file minimal and lets you change settings without redeploying.

## Complete `.env` Example

```bash
# Required
BETTER_AUTH_SECRET=your-generated-secret-key
BETTER_AUTH_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3001
NEXT_PUBLIC_SERVER_URL=http://localhost:3000

# Cloudflare only
# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
# CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id
```

## Setting Variables by Platform

| Platform | How to Set |
|----------|------------|
| **Cloudflare** | Workers > Settings > Variables (use "Encrypt" for secrets) |
| **Docker** | `.env` file or `docker-compose.yml` `environment` block |
| **Coolify** | Coolify UI > Service > Environment Variables |
| **Railway** | Railway dashboard > Service > Variables |

## Setup Token

LinkDen does not use an environment variable for setup. A one-time secure token is generated automatically by the API server on first startup and printed to the console. See the deployment guide for your platform.

## Troubleshooting

### CORS errors

`CORS_ORIGIN` must exactly match the web app URL â€” including protocol (`https://`), no trailing slash.

### Authentication not working

- Verify `BETTER_AUTH_SECRET` is set
- Verify `BETTER_AUTH_URL` matches the actual URL where the API is running
- For cross-origin setups, double-check `CORS_ORIGIN`

### Changes not taking effect

- `NEXT_PUBLIC_SERVER_URL` is baked into the frontend at build time. Changing it requires a rebuild.
- Server-side variables take effect on the next request.
- Docker: restart the container after changing variables.
