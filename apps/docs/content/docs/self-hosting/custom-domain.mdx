---
title: Custom Domain
description: Point a custom domain at your LinkDen instance.
---

# Custom Domain Setup

Give your LinkDen instance a custom domain instead of the default `*.workers.dev` URL.

## What You're Setting Up

| Service | Default URL | Custom Domain Example |
|---------|------------|----------------------|
| Web app | `linkden-web.your-subdomain.workers.dev` | `links.yourdomain.com` or `yourdomain.com` |
| API | `linkden-api.your-subdomain.workers.dev` | `api.yourdomain.com` |

You can set up a custom domain for one or both services.

## Option 1: Domain on Cloudflare DNS (Recommended)

If your domain already uses Cloudflare's nameservers, this is nearly automatic.

### Add Your Domain to Cloudflare

If your domain isn't on Cloudflare yet:

1. Go to the [Cloudflare dashboard](https://dash.cloudflare.com) > **Add a site**.
2. Enter your domain, select the **Free** plan.
3. Update your nameservers at your registrar to the ones Cloudflare provides.
4. Wait for propagation (usually 15 minutes to 24 hours).

### Add Custom Domains to Workers

For each Worker (`linkden-web` and `linkden-api`):

1. Go to **Workers & Pages** > click the Worker.
2. Go to **Settings > Domains & Routes** > **Add Custom Domain**.
3. Enter your domain (e.g., `links.yourdomain.com` or `api.yourdomain.com`).

Cloudflare automatically creates the DNS record and provisions SSL.

### Update Environment Variables

```bash
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_SITE_URL=https://yourdomain.com
CORS_ORIGIN=https://yourdomain.com
APP_URL=https://yourdomain.com
```

Redeploy:

```bash
pnpm cf:deploy
```

## Option 2: Domain on External DNS

If your domain uses another DNS provider (Namecheap, GoDaddy, Route 53, etc.), you'll add DNS records manually.

### Step 1: Add the Domain in Cloudflare

Follow the same Cloudflare dashboard steps as Option 1 (Workers & Pages > your Worker > Settings > Domains & Routes). Cloudflare shows you the required DNS record.

### Step 2: Add DNS Records

At your DNS provider, create CNAME records:

**Web app:**

| Type | Name | Target | TTL |
|------|------|--------|-----|
| CNAME | `@` or subdomain | `linkden-web.your-subdomain.workers.dev` | Auto or 300 |

**API:**

| Type | Name | Target | TTL |
|------|------|--------|-----|
| CNAME | `api` | `linkden-api.your-subdomain.workers.dev` | Auto or 300 |

### Provider-Specific Notes

**Namecheap**: Go to **Domain List > Manage > Advanced DNS > Add New Record > CNAME Record**. Note: Namecheap does not support CNAME on the apex domain (`@`) — use a subdomain or transfer to Cloudflare.

**GoDaddy**: Go to **My Products > DNS > Add > CNAME**. Same apex limitation as Namecheap.

**Route 53**: Go to **Hosted zones > your domain > Create record > CNAME**. Route 53 supports ALIAS records for apex domains, but only for AWS resources — for Cloudflare Workers, use a subdomain.

### Step 3: Wait for DNS Propagation

Check propagation with:

```bash
dig yourdomain.com CNAME +short
dig yourdomain.com A +short
```

Or use [whatsmydns.net](https://www.whatsmydns.net/) for a global view. Most providers update within 5-30 minutes.

### Step 4: SSL

Cloudflare provisions a free SSL certificate automatically once DNS verification completes. No manual configuration needed.

## Apex Domain Configuration

An apex domain is `yourdomain.com` without a subdomain prefix.

**Cloudflare DNS**: Works automatically. Cloudflare uses CNAME flattening to handle apex CNAME records.

**External DNS**: Most providers don't support CNAME at the apex (it violates RFC 1034). Your options:

1. **Transfer to Cloudflare DNS** (recommended) — free registrar, supports CNAME flattening
2. **Use a subdomain** like `links.yourdomain.com` instead
3. **Check for ALIAS/ANAME support** — some providers offer it:

| Provider | Apex Support |
|----------|-------------|
| Cloudflare | CNAME flattening (automatic) |
| Route 53 | ALIAS (AWS resources only) |
| DNSimple | ALIAS |
| NS1 | ALIAS |
| Namecheap | Not supported |
| GoDaddy | Not supported |

4. **Set up a redirect** from the apex to `www`, then point `www` via CNAME

## Subdomain vs. Same Domain

The recommended setup uses subdomains:

```
yourdomain.com       → Web app (Cloudflare Pages/Worker)
api.yourdomain.com   → API (Cloudflare Worker)
```

This is the simplest and most maintainable configuration.

## Verify Your Setup

After configuring, check that everything works:

1. Visit `https://yourdomain.com` — your link page loads
2. Browser shows a lock icon (SSL active)
3. Navigate to `/admin/login` — login page loads
4. Sign in and create or edit a link — saves without errors
5. Visit `https://api.yourdomain.com` — returns a response

## Removing a Custom Domain

1. In the Cloudflare dashboard, go to the Worker > **Custom Domains**.
2. Remove the domain.
3. Delete the CNAME record at your DNS provider.
4. Update environment variables back to `*.workers.dev` URLs.
5. Redeploy.
